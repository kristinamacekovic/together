function jf(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();var ze=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function Sf(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}function bf(t){if(t.__esModule)return t;var e=t.default;if(typeof e=="function"){var n=function r(){return this instanceof r?Reflect.construct(e,arguments,this.constructor):e.apply(this,arguments)};n.prototype=e.prototype}else n={};return Object.defineProperty(n,"__esModule",{value:!0}),Object.keys(t).forEach(function(r){var s=Object.getOwnPropertyDescriptor(t,r);Object.defineProperty(n,r,s.get?s:{enumerable:!0,get:function(){return t[r]}})}),n}var Cc={exports:{}},Si={},Pc={exports:{}},$={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var os=Symbol.for("react.element"),Nf=Symbol.for("react.portal"),Ef=Symbol.for("react.fragment"),Cf=Symbol.for("react.strict_mode"),Pf=Symbol.for("react.profiler"),Tf=Symbol.for("react.provider"),Of=Symbol.for("react.context"),Rf=Symbol.for("react.forward_ref"),Af=Symbol.for("react.suspense"),Lf=Symbol.for("react.memo"),If=Symbol.for("react.lazy"),Wa=Symbol.iterator;function $f(t){return t===null||typeof t!="object"?null:(t=Wa&&t[Wa]||t["@@iterator"],typeof t=="function"?t:null)}var Tc={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},Oc=Object.assign,Rc={};function ir(t,e,n){this.props=t,this.context=e,this.refs=Rc,this.updater=n||Tc}ir.prototype.isReactComponent={};ir.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};ir.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function Ac(){}Ac.prototype=ir.prototype;function Dl(t,e,n){this.props=t,this.context=e,this.refs=Rc,this.updater=n||Tc}var Ml=Dl.prototype=new Ac;Ml.constructor=Dl;Oc(Ml,ir.prototype);Ml.isPureReactComponent=!0;var Va=Array.isArray,Lc=Object.prototype.hasOwnProperty,zl={current:null},Ic={key:!0,ref:!0,__self:!0,__source:!0};function $c(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)Lc.call(e,r)&&!Ic.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),c=0;c<a;c++)l[c]=arguments[c+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:os,type:t,key:i,ref:o,props:s,_owner:zl.current}}function Uf(t,e){return{$$typeof:os,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Fl(t){return typeof t=="object"&&t!==null&&t.$$typeof===os}function Df(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var Ha=/\/+/g;function Qi(t,e){return typeof t=="object"&&t!==null&&t.key!=null?Df(""+t.key):e.toString(36)}function $s(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case os:case Nf:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Qi(o,0):r,Va(s)?(n="",t!=null&&(n=t.replace(Ha,"$&/")+"/"),$s(s,e,n,"",function(c){return c})):s!=null&&(Fl(s)&&(s=Uf(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(Ha,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",Va(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+Qi(i,a);o+=$s(i,e,n,l,s)}else if(l=$f(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+Qi(i,a++),o+=$s(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function ps(t,e,n){if(t==null)return t;var r=[],s=0;return $s(t,r,"","",function(i){return e.call(n,i,s++)}),r}function Mf(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var xe={current:null},Us={transition:null},zf={ReactCurrentDispatcher:xe,ReactCurrentBatchConfig:Us,ReactCurrentOwner:zl};function Uc(){throw Error("act(...) is not supported in production builds of React.")}$.Children={map:ps,forEach:function(t,e,n){ps(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return ps(t,function(){e++}),e},toArray:function(t){return ps(t,function(e){return e})||[]},only:function(t){if(!Fl(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};$.Component=ir;$.Fragment=Ef;$.Profiler=Pf;$.PureComponent=Dl;$.StrictMode=Cf;$.Suspense=Af;$.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zf;$.act=Uc;$.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=Oc({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=zl.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)Lc.call(e,l)&&!Ic.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var c=0;c<l;c++)a[c]=arguments[c+2];r.children=a}return{$$typeof:os,type:t.type,key:s,ref:i,props:r,_owner:o}};$.createContext=function(t){return t={$$typeof:Of,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:Tf,_context:t},t.Consumer=t};$.createElement=$c;$.createFactory=function(t){var e=$c.bind(null,t);return e.type=t,e};$.createRef=function(){return{current:null}};$.forwardRef=function(t){return{$$typeof:Rf,render:t}};$.isValidElement=Fl;$.lazy=function(t){return{$$typeof:If,_payload:{_status:-1,_result:t},_init:Mf}};$.memo=function(t,e){return{$$typeof:Lf,type:t,compare:e===void 0?null:e}};$.startTransition=function(t){var e=Us.transition;Us.transition={};try{t()}finally{Us.transition=e}};$.unstable_act=Uc;$.useCallback=function(t,e){return xe.current.useCallback(t,e)};$.useContext=function(t){return xe.current.useContext(t)};$.useDebugValue=function(){};$.useDeferredValue=function(t){return xe.current.useDeferredValue(t)};$.useEffect=function(t,e){return xe.current.useEffect(t,e)};$.useId=function(){return xe.current.useId()};$.useImperativeHandle=function(t,e,n){return xe.current.useImperativeHandle(t,e,n)};$.useInsertionEffect=function(t,e){return xe.current.useInsertionEffect(t,e)};$.useLayoutEffect=function(t,e){return xe.current.useLayoutEffect(t,e)};$.useMemo=function(t,e){return xe.current.useMemo(t,e)};$.useReducer=function(t,e,n){return xe.current.useReducer(t,e,n)};$.useRef=function(t){return xe.current.useRef(t)};$.useState=function(t){return xe.current.useState(t)};$.useSyncExternalStore=function(t,e,n){return xe.current.useSyncExternalStore(t,e,n)};$.useTransition=function(){return xe.current.useTransition()};$.version="18.3.1";Pc.exports=$;var j=Pc.exports;const bi=Sf(j),Ff=jf({__proto__:null,default:bi},[j]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bf=j,Wf=Symbol.for("react.element"),Vf=Symbol.for("react.fragment"),Hf=Object.prototype.hasOwnProperty,qf=Bf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Kf={key:!0,ref:!0,__self:!0,__source:!0};function Dc(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Hf.call(e,r)&&!Kf.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:Wf,type:t,key:i,ref:o,props:s,_owner:qf.current}}Si.Fragment=Vf;Si.jsx=Dc;Si.jsxs=Dc;Cc.exports=Si;var u=Cc.exports,To={},Mc={exports:{}},Le={},zc={exports:{}},Fc={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(P,A){var O=P.length;P.push(A);e:for(;0<O;){var q=O-1>>>1,X=P[q];if(0<s(X,A))P[q]=A,P[O]=X,O=q;else break e}}function n(P){return P.length===0?null:P[0]}function r(P){if(P.length===0)return null;var A=P[0],O=P.pop();if(O!==A){P[0]=O;e:for(var q=0,X=P.length,Xt=X>>>1;q<Xt;){var Ze=2*(q+1)-1,wn=P[Ze],E=Ze+1,M=P[E];if(0>s(wn,O))E<X&&0>s(M,wn)?(P[q]=M,P[E]=O,q=E):(P[q]=wn,P[Ze]=O,q=Ze);else if(E<X&&0>s(M,O))P[q]=M,P[E]=O,q=E;else break e}}return A}function s(P,A){var O=P.sortIndex-A.sortIndex;return O!==0?O:P.id-A.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],c=[],d=1,h=null,f=3,v=!1,y=!1,_=!1,k=typeof setTimeout=="function"?setTimeout:null,g=typeof clearTimeout=="function"?clearTimeout:null,m=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function p(P){for(var A=n(c);A!==null;){if(A.callback===null)r(c);else if(A.startTime<=P)r(c),A.sortIndex=A.expirationTime,e(l,A);else break;A=n(c)}}function x(P){if(_=!1,p(P),!y)if(n(l)!==null)y=!0,Xe(w);else{var A=n(c);A!==null&&Yt(x,A.startTime-P)}}function w(P,A){y=!1,_&&(_=!1,g(C),C=-1),v=!0;var O=f;try{for(p(A),h=n(l);h!==null&&(!(h.expirationTime>A)||P&&!Ce());){var q=h.callback;if(typeof q=="function"){h.callback=null,f=h.priorityLevel;var X=q(h.expirationTime<=A);A=t.unstable_now(),typeof X=="function"?h.callback=X:h===n(l)&&r(l),p(A)}else r(l);h=n(l)}if(h!==null)var Xt=!0;else{var Ze=n(c);Ze!==null&&Yt(x,Ze.startTime-A),Xt=!1}return Xt}finally{h=null,f=O,v=!1}}var S=!1,b=null,C=-1,U=5,R=-1;function Ce(){return!(t.unstable_now()-R<U)}function Qt(){if(b!==null){var P=t.unstable_now();R=P;var A=!0;try{A=b(!0,P)}finally{A?Jt():(S=!1,b=null)}}else S=!1}var Jt;if(typeof m=="function")Jt=function(){m(Qt)};else if(typeof MessageChannel<"u"){var me=new MessageChannel,yt=me.port2;me.port1.onmessage=Qt,Jt=function(){yt.postMessage(null)}}else Jt=function(){k(Qt,0)};function Xe(P){b=P,S||(S=!0,Jt())}function Yt(P,A){C=k(function(){P(t.unstable_now())},A)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(P){P.callback=null},t.unstable_continueExecution=function(){y||v||(y=!0,Xe(w))},t.unstable_forceFrameRate=function(P){0>P||125<P?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):U=0<P?Math.floor(1e3/P):5},t.unstable_getCurrentPriorityLevel=function(){return f},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(P){switch(f){case 1:case 2:case 3:var A=3;break;default:A=f}var O=f;f=A;try{return P()}finally{f=O}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(P,A){switch(P){case 1:case 2:case 3:case 4:case 5:break;default:P=3}var O=f;f=P;try{return A()}finally{f=O}},t.unstable_scheduleCallback=function(P,A,O){var q=t.unstable_now();switch(typeof O=="object"&&O!==null?(O=O.delay,O=typeof O=="number"&&0<O?q+O:q):O=q,P){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=O+X,P={id:d++,callback:A,priorityLevel:P,startTime:O,expirationTime:X,sortIndex:-1},O>q?(P.sortIndex=O,e(c,P),n(l)===null&&P===n(c)&&(_?(g(C),C=-1):_=!0,Yt(x,O-q))):(P.sortIndex=X,e(l,P),y||v||(y=!0,Xe(w))),P},t.unstable_shouldYield=Ce,t.unstable_wrapCallback=function(P){var A=f;return function(){var O=f;f=A;try{return P.apply(this,arguments)}finally{f=O}}}})(Fc);zc.exports=Fc;var Gf=zc.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Qf=j,Ae=Gf;function N(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var Bc=new Set,zr={};function vn(t,e){Jn(t,e),Jn(t+"Capture",e)}function Jn(t,e){for(zr[t]=e,t=0;t<e.length;t++)Bc.add(e[t])}var ht=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Oo=Object.prototype.hasOwnProperty,Jf=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,qa={},Ka={};function Yf(t){return Oo.call(Ka,t)?!0:Oo.call(qa,t)?!1:Jf.test(t)?Ka[t]=!0:(qa[t]=!0,!1)}function Xf(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function Zf(t,e,n,r){if(e===null||typeof e>"u"||Xf(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function we(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var ce={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){ce[t]=new we(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];ce[e]=new we(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){ce[t]=new we(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){ce[t]=new we(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){ce[t]=new we(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){ce[t]=new we(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){ce[t]=new we(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){ce[t]=new we(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){ce[t]=new we(t,5,!1,t.toLowerCase(),null,!1,!1)});var Bl=/[\-:]([a-z])/g;function Wl(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Bl,Wl);ce[e]=new we(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Bl,Wl);ce[e]=new we(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Bl,Wl);ce[e]=new we(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){ce[t]=new we(t,1,!1,t.toLowerCase(),null,!1,!1)});ce.xlinkHref=new we("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){ce[t]=new we(t,1,!1,t.toLowerCase(),null,!0,!0)});function Vl(t,e,n,r){var s=ce.hasOwnProperty(e)?ce[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(Zf(e,n,s,r)&&(n=null),r||s===null?Yf(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var gt=Qf.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ms=Symbol.for("react.element"),On=Symbol.for("react.portal"),Rn=Symbol.for("react.fragment"),Hl=Symbol.for("react.strict_mode"),Ro=Symbol.for("react.profiler"),Wc=Symbol.for("react.provider"),Vc=Symbol.for("react.context"),ql=Symbol.for("react.forward_ref"),Ao=Symbol.for("react.suspense"),Lo=Symbol.for("react.suspense_list"),Kl=Symbol.for("react.memo"),kt=Symbol.for("react.lazy"),Hc=Symbol.for("react.offscreen"),Ga=Symbol.iterator;function fr(t){return t===null||typeof t!="object"?null:(t=Ga&&t[Ga]||t["@@iterator"],typeof t=="function"?t:null)}var J=Object.assign,Ji;function kr(t){if(Ji===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Ji=e&&e[1]||""}return`
`+Ji+t}var Yi=!1;function Xi(t,e){if(!t||Yi)return"";Yi=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(c){var r=c}Reflect.construct(t,[],e)}else{try{e.call()}catch(c){r=c}t.call(e.prototype)}else{try{throw Error()}catch(c){r=c}t()}}catch(c){if(c&&r&&typeof c.stack=="string"){for(var s=c.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Yi=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?kr(t):""}function ep(t){switch(t.tag){case 5:return kr(t.type);case 16:return kr("Lazy");case 13:return kr("Suspense");case 19:return kr("SuspenseList");case 0:case 2:case 15:return t=Xi(t.type,!1),t;case 11:return t=Xi(t.type.render,!1),t;case 1:return t=Xi(t.type,!0),t;default:return""}}function Io(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case Rn:return"Fragment";case On:return"Portal";case Ro:return"Profiler";case Hl:return"StrictMode";case Ao:return"Suspense";case Lo:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case Vc:return(t.displayName||"Context")+".Consumer";case Wc:return(t._context.displayName||"Context")+".Provider";case ql:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Kl:return e=t.displayName||null,e!==null?e:Io(t.type)||"Memo";case kt:e=t._payload,t=t._init;try{return Io(t(e))}catch{}}return null}function tp(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Io(e);case 8:return e===Hl?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function zt(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function qc(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function np(t){var e=qc(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function gs(t){t._valueTracker||(t._valueTracker=np(t))}function Kc(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=qc(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function Gs(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function $o(t,e){var n=e.checked;return J({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function Qa(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=zt(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Gc(t,e){e=e.checked,e!=null&&Vl(t,"checked",e,!1)}function Uo(t,e){Gc(t,e);var n=zt(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Do(t,e.type,n):e.hasOwnProperty("defaultValue")&&Do(t,e.type,zt(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function Ja(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Do(t,e,n){(e!=="number"||Gs(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var jr=Array.isArray;function Wn(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+zt(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Mo(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(N(91));return J({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Ya(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(N(92));if(jr(n)){if(1<n.length)throw Error(N(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:zt(n)}}function Qc(t,e){var n=zt(e.value),r=zt(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function Xa(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Jc(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function zo(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Jc(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var vs,Yc=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(vs=vs||document.createElement("div"),vs.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=vs.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Fr(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Cr={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},rp=["Webkit","ms","Moz","O"];Object.keys(Cr).forEach(function(t){rp.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Cr[e]=Cr[t]})});function Xc(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Cr.hasOwnProperty(t)&&Cr[t]?(""+e).trim():e+"px"}function Zc(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Xc(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var sp=J({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Fo(t,e){if(e){if(sp[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(N(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(N(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(N(61))}if(e.style!=null&&typeof e.style!="object")throw Error(N(62))}}function Bo(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Wo=null;function Gl(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Vo=null,Vn=null,Hn=null;function Za(t){if(t=us(t)){if(typeof Vo!="function")throw Error(N(280));var e=t.stateNode;e&&(e=Ti(e),Vo(t.stateNode,t.type,e))}}function ed(t){Vn?Hn?Hn.push(t):Hn=[t]:Vn=t}function td(){if(Vn){var t=Vn,e=Hn;if(Hn=Vn=null,Za(t),e)for(t=0;t<e.length;t++)Za(e[t])}}function nd(t,e){return t(e)}function rd(){}var Zi=!1;function sd(t,e,n){if(Zi)return t(e,n);Zi=!0;try{return nd(t,e,n)}finally{Zi=!1,(Vn!==null||Hn!==null)&&(rd(),td())}}function Br(t,e){var n=t.stateNode;if(n===null)return null;var r=Ti(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(N(231,e,typeof n));return n}var Ho=!1;if(ht)try{var pr={};Object.defineProperty(pr,"passive",{get:function(){Ho=!0}}),window.addEventListener("test",pr,pr),window.removeEventListener("test",pr,pr)}catch{Ho=!1}function ip(t,e,n,r,s,i,o,a,l){var c=Array.prototype.slice.call(arguments,3);try{e.apply(n,c)}catch(d){this.onError(d)}}var Pr=!1,Qs=null,Js=!1,qo=null,op={onError:function(t){Pr=!0,Qs=t}};function lp(t,e,n,r,s,i,o,a,l){Pr=!1,Qs=null,ip.apply(op,arguments)}function ap(t,e,n,r,s,i,o,a,l){if(lp.apply(this,arguments),Pr){if(Pr){var c=Qs;Pr=!1,Qs=null}else throw Error(N(198));Js||(Js=!0,qo=c)}}function yn(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function id(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function eu(t){if(yn(t)!==t)throw Error(N(188))}function up(t){var e=t.alternate;if(!e){if(e=yn(t),e===null)throw Error(N(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return eu(s),t;if(i===r)return eu(s),e;i=i.sibling}throw Error(N(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(N(189))}}if(n.alternate!==r)throw Error(N(190))}if(n.tag!==3)throw Error(N(188));return n.stateNode.current===n?t:e}function od(t){return t=up(t),t!==null?ld(t):null}function ld(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=ld(t);if(e!==null)return e;t=t.sibling}return null}var ad=Ae.unstable_scheduleCallback,tu=Ae.unstable_cancelCallback,cp=Ae.unstable_shouldYield,dp=Ae.unstable_requestPaint,ee=Ae.unstable_now,hp=Ae.unstable_getCurrentPriorityLevel,Ql=Ae.unstable_ImmediatePriority,ud=Ae.unstable_UserBlockingPriority,Ys=Ae.unstable_NormalPriority,fp=Ae.unstable_LowPriority,cd=Ae.unstable_IdlePriority,Ni=null,rt=null;function pp(t){if(rt&&typeof rt.onCommitFiberRoot=="function")try{rt.onCommitFiberRoot(Ni,t,void 0,(t.current.flags&128)===128)}catch{}}var Qe=Math.clz32?Math.clz32:vp,mp=Math.log,gp=Math.LN2;function vp(t){return t>>>=0,t===0?32:31-(mp(t)/gp|0)|0}var ys=64,xs=4194304;function Sr(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Xs(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Sr(a):(i&=o,i!==0&&(r=Sr(i)))}else o=n&~s,o!==0?r=Sr(o):i!==0&&(r=Sr(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-Qe(e),s=1<<n,r|=t[n],e&=~s;return r}function yp(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function xp(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-Qe(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=yp(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function Ko(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function dd(){var t=ys;return ys<<=1,!(ys&4194240)&&(ys=64),t}function eo(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function ls(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-Qe(e),t[e]=n}function wp(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-Qe(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Jl(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-Qe(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var z=0;function hd(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var fd,Yl,pd,md,gd,Go=!1,ws=[],Ot=null,Rt=null,At=null,Wr=new Map,Vr=new Map,bt=[],_p="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function nu(t,e){switch(t){case"focusin":case"focusout":Ot=null;break;case"dragenter":case"dragleave":Rt=null;break;case"mouseover":case"mouseout":At=null;break;case"pointerover":case"pointerout":Wr.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Vr.delete(e.pointerId)}}function mr(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=us(e),e!==null&&Yl(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function kp(t,e,n,r,s){switch(e){case"focusin":return Ot=mr(Ot,t,e,n,r,s),!0;case"dragenter":return Rt=mr(Rt,t,e,n,r,s),!0;case"mouseover":return At=mr(At,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Wr.set(i,mr(Wr.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Vr.set(i,mr(Vr.get(i)||null,t,e,n,r,s)),!0}return!1}function vd(t){var e=ln(t.target);if(e!==null){var n=yn(e);if(n!==null){if(e=n.tag,e===13){if(e=id(n),e!==null){t.blockedOn=e,gd(t.priority,function(){pd(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Ds(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Qo(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Wo=r,n.target.dispatchEvent(r),Wo=null}else return e=us(n),e!==null&&Yl(e),t.blockedOn=n,!1;e.shift()}return!0}function ru(t,e,n){Ds(t)&&n.delete(e)}function jp(){Go=!1,Ot!==null&&Ds(Ot)&&(Ot=null),Rt!==null&&Ds(Rt)&&(Rt=null),At!==null&&Ds(At)&&(At=null),Wr.forEach(ru),Vr.forEach(ru)}function gr(t,e){t.blockedOn===e&&(t.blockedOn=null,Go||(Go=!0,Ae.unstable_scheduleCallback(Ae.unstable_NormalPriority,jp)))}function Hr(t){function e(s){return gr(s,t)}if(0<ws.length){gr(ws[0],t);for(var n=1;n<ws.length;n++){var r=ws[n];r.blockedOn===t&&(r.blockedOn=null)}}for(Ot!==null&&gr(Ot,t),Rt!==null&&gr(Rt,t),At!==null&&gr(At,t),Wr.forEach(e),Vr.forEach(e),n=0;n<bt.length;n++)r=bt[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<bt.length&&(n=bt[0],n.blockedOn===null);)vd(n),n.blockedOn===null&&bt.shift()}var qn=gt.ReactCurrentBatchConfig,Zs=!0;function Sp(t,e,n,r){var s=z,i=qn.transition;qn.transition=null;try{z=1,Xl(t,e,n,r)}finally{z=s,qn.transition=i}}function bp(t,e,n,r){var s=z,i=qn.transition;qn.transition=null;try{z=4,Xl(t,e,n,r)}finally{z=s,qn.transition=i}}function Xl(t,e,n,r){if(Zs){var s=Qo(t,e,n,r);if(s===null)co(t,e,r,ei,n),nu(t,r);else if(kp(s,t,e,n,r))r.stopPropagation();else if(nu(t,r),e&4&&-1<_p.indexOf(t)){for(;s!==null;){var i=us(s);if(i!==null&&fd(i),i=Qo(t,e,n,r),i===null&&co(t,e,r,ei,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else co(t,e,r,null,n)}}var ei=null;function Qo(t,e,n,r){if(ei=null,t=Gl(r),t=ln(t),t!==null)if(e=yn(t),e===null)t=null;else if(n=e.tag,n===13){if(t=id(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return ei=t,null}function yd(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(hp()){case Ql:return 1;case ud:return 4;case Ys:case fp:return 16;case cd:return 536870912;default:return 16}default:return 16}}var Ct=null,Zl=null,Ms=null;function xd(){if(Ms)return Ms;var t,e=Zl,n=e.length,r,s="value"in Ct?Ct.value:Ct.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Ms=s.slice(t,1<r?1-r:void 0)}function zs(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function _s(){return!0}function su(){return!1}function Ie(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?_s:su,this.isPropagationStopped=su,this}return J(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=_s)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=_s)},persist:function(){},isPersistent:_s}),e}var or={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ea=Ie(or),as=J({},or,{view:0,detail:0}),Np=Ie(as),to,no,vr,Ei=J({},as,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:ta,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==vr&&(vr&&t.type==="mousemove"?(to=t.screenX-vr.screenX,no=t.screenY-vr.screenY):no=to=0,vr=t),to)},movementY:function(t){return"movementY"in t?t.movementY:no}}),iu=Ie(Ei),Ep=J({},Ei,{dataTransfer:0}),Cp=Ie(Ep),Pp=J({},as,{relatedTarget:0}),ro=Ie(Pp),Tp=J({},or,{animationName:0,elapsedTime:0,pseudoElement:0}),Op=Ie(Tp),Rp=J({},or,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),Ap=Ie(Rp),Lp=J({},or,{data:0}),ou=Ie(Lp),Ip={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$p={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Up={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Dp(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=Up[t])?!!e[t]:!1}function ta(){return Dp}var Mp=J({},as,{key:function(t){if(t.key){var e=Ip[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=zs(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?$p[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:ta,charCode:function(t){return t.type==="keypress"?zs(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?zs(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),zp=Ie(Mp),Fp=J({},Ei,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),lu=Ie(Fp),Bp=J({},as,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:ta}),Wp=Ie(Bp),Vp=J({},or,{propertyName:0,elapsedTime:0,pseudoElement:0}),Hp=Ie(Vp),qp=J({},Ei,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Kp=Ie(qp),Gp=[9,13,27,32],na=ht&&"CompositionEvent"in window,Tr=null;ht&&"documentMode"in document&&(Tr=document.documentMode);var Qp=ht&&"TextEvent"in window&&!Tr,wd=ht&&(!na||Tr&&8<Tr&&11>=Tr),au=String.fromCharCode(32),uu=!1;function _d(t,e){switch(t){case"keyup":return Gp.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function kd(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var An=!1;function Jp(t,e){switch(t){case"compositionend":return kd(e);case"keypress":return e.which!==32?null:(uu=!0,au);case"textInput":return t=e.data,t===au&&uu?null:t;default:return null}}function Yp(t,e){if(An)return t==="compositionend"||!na&&_d(t,e)?(t=xd(),Ms=Zl=Ct=null,An=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return wd&&e.locale!=="ko"?null:e.data;default:return null}}var Xp={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function cu(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!Xp[t.type]:e==="textarea"}function jd(t,e,n,r){ed(r),e=ti(e,"onChange"),0<e.length&&(n=new ea("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var Or=null,qr=null;function Zp(t){Ld(t,0)}function Ci(t){var e=$n(t);if(Kc(e))return t}function em(t,e){if(t==="change")return e}var Sd=!1;if(ht){var so;if(ht){var io="oninput"in document;if(!io){var du=document.createElement("div");du.setAttribute("oninput","return;"),io=typeof du.oninput=="function"}so=io}else so=!1;Sd=so&&(!document.documentMode||9<document.documentMode)}function hu(){Or&&(Or.detachEvent("onpropertychange",bd),qr=Or=null)}function bd(t){if(t.propertyName==="value"&&Ci(qr)){var e=[];jd(e,qr,t,Gl(t)),sd(Zp,e)}}function tm(t,e,n){t==="focusin"?(hu(),Or=e,qr=n,Or.attachEvent("onpropertychange",bd)):t==="focusout"&&hu()}function nm(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Ci(qr)}function rm(t,e){if(t==="click")return Ci(e)}function sm(t,e){if(t==="input"||t==="change")return Ci(e)}function im(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var Ye=typeof Object.is=="function"?Object.is:im;function Kr(t,e){if(Ye(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Oo.call(e,s)||!Ye(t[s],e[s]))return!1}return!0}function fu(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function pu(t,e){var n=fu(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=fu(n)}}function Nd(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?Nd(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function Ed(){for(var t=window,e=Gs();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=Gs(t.document)}return e}function ra(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function om(t){var e=Ed(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&Nd(n.ownerDocument.documentElement,n)){if(r!==null&&ra(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=pu(n,i);var o=pu(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var lm=ht&&"documentMode"in document&&11>=document.documentMode,Ln=null,Jo=null,Rr=null,Yo=!1;function mu(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Yo||Ln==null||Ln!==Gs(r)||(r=Ln,"selectionStart"in r&&ra(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),Rr&&Kr(Rr,r)||(Rr=r,r=ti(Jo,"onSelect"),0<r.length&&(e=new ea("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ln)))}function ks(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var In={animationend:ks("Animation","AnimationEnd"),animationiteration:ks("Animation","AnimationIteration"),animationstart:ks("Animation","AnimationStart"),transitionend:ks("Transition","TransitionEnd")},oo={},Cd={};ht&&(Cd=document.createElement("div").style,"AnimationEvent"in window||(delete In.animationend.animation,delete In.animationiteration.animation,delete In.animationstart.animation),"TransitionEvent"in window||delete In.transitionend.transition);function Pi(t){if(oo[t])return oo[t];if(!In[t])return t;var e=In[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in Cd)return oo[t]=e[n];return t}var Pd=Pi("animationend"),Td=Pi("animationiteration"),Od=Pi("animationstart"),Rd=Pi("transitionend"),Ad=new Map,gu="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Bt(t,e){Ad.set(t,e),vn(e,[t])}for(var lo=0;lo<gu.length;lo++){var ao=gu[lo],am=ao.toLowerCase(),um=ao[0].toUpperCase()+ao.slice(1);Bt(am,"on"+um)}Bt(Pd,"onAnimationEnd");Bt(Td,"onAnimationIteration");Bt(Od,"onAnimationStart");Bt("dblclick","onDoubleClick");Bt("focusin","onFocus");Bt("focusout","onBlur");Bt(Rd,"onTransitionEnd");Jn("onMouseEnter",["mouseout","mouseover"]);Jn("onMouseLeave",["mouseout","mouseover"]);Jn("onPointerEnter",["pointerout","pointerover"]);Jn("onPointerLeave",["pointerout","pointerover"]);vn("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));vn("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));vn("onBeforeInput",["compositionend","keypress","textInput","paste"]);vn("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));vn("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));vn("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var br="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),cm=new Set("cancel close invalid load scroll toggle".split(" ").concat(br));function vu(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,ap(r,e,void 0,t),t.currentTarget=null}function Ld(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,c=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;vu(s,a,c),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,c=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;vu(s,a,c),i=l}}}if(Js)throw t=qo,Js=!1,qo=null,t}function V(t,e){var n=e[nl];n===void 0&&(n=e[nl]=new Set);var r=t+"__bubble";n.has(r)||(Id(e,t,2,!1),n.add(r))}function uo(t,e,n){var r=0;e&&(r|=4),Id(n,t,r,e)}var js="_reactListening"+Math.random().toString(36).slice(2);function Gr(t){if(!t[js]){t[js]=!0,Bc.forEach(function(n){n!=="selectionchange"&&(cm.has(n)||uo(n,!1,t),uo(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[js]||(e[js]=!0,uo("selectionchange",!1,e))}}function Id(t,e,n,r){switch(yd(e)){case 1:var s=Sp;break;case 4:s=bp;break;default:s=Xl}n=s.bind(null,e,n,t),s=void 0,!Ho||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function co(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=ln(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}sd(function(){var c=i,d=Gl(n),h=[];e:{var f=Ad.get(t);if(f!==void 0){var v=ea,y=t;switch(t){case"keypress":if(zs(n)===0)break e;case"keydown":case"keyup":v=zp;break;case"focusin":y="focus",v=ro;break;case"focusout":y="blur",v=ro;break;case"beforeblur":case"afterblur":v=ro;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":v=iu;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":v=Cp;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":v=Wp;break;case Pd:case Td:case Od:v=Op;break;case Rd:v=Hp;break;case"scroll":v=Np;break;case"wheel":v=Kp;break;case"copy":case"cut":case"paste":v=Ap;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":v=lu}var _=(e&4)!==0,k=!_&&t==="scroll",g=_?f!==null?f+"Capture":null:f;_=[];for(var m=c,p;m!==null;){p=m;var x=p.stateNode;if(p.tag===5&&x!==null&&(p=x,g!==null&&(x=Br(m,g),x!=null&&_.push(Qr(m,x,p)))),k)break;m=m.return}0<_.length&&(f=new v(f,y,null,n,d),h.push({event:f,listeners:_}))}}if(!(e&7)){e:{if(f=t==="mouseover"||t==="pointerover",v=t==="mouseout"||t==="pointerout",f&&n!==Wo&&(y=n.relatedTarget||n.fromElement)&&(ln(y)||y[ft]))break e;if((v||f)&&(f=d.window===d?d:(f=d.ownerDocument)?f.defaultView||f.parentWindow:window,v?(y=n.relatedTarget||n.toElement,v=c,y=y?ln(y):null,y!==null&&(k=yn(y),y!==k||y.tag!==5&&y.tag!==6)&&(y=null)):(v=null,y=c),v!==y)){if(_=iu,x="onMouseLeave",g="onMouseEnter",m="mouse",(t==="pointerout"||t==="pointerover")&&(_=lu,x="onPointerLeave",g="onPointerEnter",m="pointer"),k=v==null?f:$n(v),p=y==null?f:$n(y),f=new _(x,m+"leave",v,n,d),f.target=k,f.relatedTarget=p,x=null,ln(d)===c&&(_=new _(g,m+"enter",y,n,d),_.target=p,_.relatedTarget=k,x=_),k=x,v&&y)t:{for(_=v,g=y,m=0,p=_;p;p=jn(p))m++;for(p=0,x=g;x;x=jn(x))p++;for(;0<m-p;)_=jn(_),m--;for(;0<p-m;)g=jn(g),p--;for(;m--;){if(_===g||g!==null&&_===g.alternate)break t;_=jn(_),g=jn(g)}_=null}else _=null;v!==null&&yu(h,f,v,_,!1),y!==null&&k!==null&&yu(h,k,y,_,!0)}}e:{if(f=c?$n(c):window,v=f.nodeName&&f.nodeName.toLowerCase(),v==="select"||v==="input"&&f.type==="file")var w=em;else if(cu(f))if(Sd)w=sm;else{w=nm;var S=tm}else(v=f.nodeName)&&v.toLowerCase()==="input"&&(f.type==="checkbox"||f.type==="radio")&&(w=rm);if(w&&(w=w(t,c))){jd(h,w,n,d);break e}S&&S(t,f,c),t==="focusout"&&(S=f._wrapperState)&&S.controlled&&f.type==="number"&&Do(f,"number",f.value)}switch(S=c?$n(c):window,t){case"focusin":(cu(S)||S.contentEditable==="true")&&(Ln=S,Jo=c,Rr=null);break;case"focusout":Rr=Jo=Ln=null;break;case"mousedown":Yo=!0;break;case"contextmenu":case"mouseup":case"dragend":Yo=!1,mu(h,n,d);break;case"selectionchange":if(lm)break;case"keydown":case"keyup":mu(h,n,d)}var b;if(na)e:{switch(t){case"compositionstart":var C="onCompositionStart";break e;case"compositionend":C="onCompositionEnd";break e;case"compositionupdate":C="onCompositionUpdate";break e}C=void 0}else An?_d(t,n)&&(C="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(C="onCompositionStart");C&&(wd&&n.locale!=="ko"&&(An||C!=="onCompositionStart"?C==="onCompositionEnd"&&An&&(b=xd()):(Ct=d,Zl="value"in Ct?Ct.value:Ct.textContent,An=!0)),S=ti(c,C),0<S.length&&(C=new ou(C,t,null,n,d),h.push({event:C,listeners:S}),b?C.data=b:(b=kd(n),b!==null&&(C.data=b)))),(b=Qp?Jp(t,n):Yp(t,n))&&(c=ti(c,"onBeforeInput"),0<c.length&&(d=new ou("onBeforeInput","beforeinput",null,n,d),h.push({event:d,listeners:c}),d.data=b))}Ld(h,e)})}function Qr(t,e,n){return{instance:t,listener:e,currentTarget:n}}function ti(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Br(t,n),i!=null&&r.unshift(Qr(t,i,s)),i=Br(t,e),i!=null&&r.push(Qr(t,i,s))),t=t.return}return r}function jn(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function yu(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,c=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&c!==null&&(a=c,s?(l=Br(n,i),l!=null&&o.unshift(Qr(n,l,a))):s||(l=Br(n,i),l!=null&&o.push(Qr(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var dm=/\r\n?/g,hm=/\u0000|\uFFFD/g;function xu(t){return(typeof t=="string"?t:""+t).replace(dm,`
`).replace(hm,"")}function Ss(t,e,n){if(e=xu(e),xu(t)!==e&&n)throw Error(N(425))}function ni(){}var Xo=null,Zo=null;function el(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var tl=typeof setTimeout=="function"?setTimeout:void 0,fm=typeof clearTimeout=="function"?clearTimeout:void 0,wu=typeof Promise=="function"?Promise:void 0,pm=typeof queueMicrotask=="function"?queueMicrotask:typeof wu<"u"?function(t){return wu.resolve(null).then(t).catch(mm)}:tl;function mm(t){setTimeout(function(){throw t})}function ho(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Hr(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Hr(e)}function Lt(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function _u(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var lr=Math.random().toString(36).slice(2),nt="__reactFiber$"+lr,Jr="__reactProps$"+lr,ft="__reactContainer$"+lr,nl="__reactEvents$"+lr,gm="__reactListeners$"+lr,vm="__reactHandles$"+lr;function ln(t){var e=t[nt];if(e)return e;for(var n=t.parentNode;n;){if(e=n[ft]||n[nt]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=_u(t);t!==null;){if(n=t[nt])return n;t=_u(t)}return e}t=n,n=t.parentNode}return null}function us(t){return t=t[nt]||t[ft],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function $n(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(N(33))}function Ti(t){return t[Jr]||null}var rl=[],Un=-1;function Wt(t){return{current:t}}function H(t){0>Un||(t.current=rl[Un],rl[Un]=null,Un--)}function B(t,e){Un++,rl[Un]=t.current,t.current=e}var Ft={},pe=Wt(Ft),be=Wt(!1),hn=Ft;function Yn(t,e){var n=t.type.contextTypes;if(!n)return Ft;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function Ne(t){return t=t.childContextTypes,t!=null}function ri(){H(be),H(pe)}function ku(t,e,n){if(pe.current!==Ft)throw Error(N(168));B(pe,e),B(be,n)}function $d(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(N(108,tp(t)||"Unknown",s));return J({},n,r)}function si(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ft,hn=pe.current,B(pe,t),B(be,be.current),!0}function ju(t,e,n){var r=t.stateNode;if(!r)throw Error(N(169));n?(t=$d(t,e,hn),r.__reactInternalMemoizedMergedChildContext=t,H(be),H(pe),B(pe,t)):H(be),B(be,n)}var at=null,Oi=!1,fo=!1;function Ud(t){at===null?at=[t]:at.push(t)}function ym(t){Oi=!0,Ud(t)}function Vt(){if(!fo&&at!==null){fo=!0;var t=0,e=z;try{var n=at;for(z=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}at=null,Oi=!1}catch(s){throw at!==null&&(at=at.slice(t+1)),ad(Ql,Vt),s}finally{z=e,fo=!1}}return null}var Dn=[],Mn=0,ii=null,oi=0,$e=[],Ue=0,fn=null,ut=1,ct="";function nn(t,e){Dn[Mn++]=oi,Dn[Mn++]=ii,ii=t,oi=e}function Dd(t,e,n){$e[Ue++]=ut,$e[Ue++]=ct,$e[Ue++]=fn,fn=t;var r=ut;t=ct;var s=32-Qe(r)-1;r&=~(1<<s),n+=1;var i=32-Qe(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,ut=1<<32-Qe(e)+s|n<<s|r,ct=i+t}else ut=1<<i|n<<s|r,ct=t}function sa(t){t.return!==null&&(nn(t,1),Dd(t,1,0))}function ia(t){for(;t===ii;)ii=Dn[--Mn],Dn[Mn]=null,oi=Dn[--Mn],Dn[Mn]=null;for(;t===fn;)fn=$e[--Ue],$e[Ue]=null,ct=$e[--Ue],$e[Ue]=null,ut=$e[--Ue],$e[Ue]=null}var Re=null,Oe=null,K=!1,Ge=null;function Md(t,e){var n=De(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Su(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Re=t,Oe=Lt(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Re=t,Oe=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=fn!==null?{id:ut,overflow:ct}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=De(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Re=t,Oe=null,!0):!1;default:return!1}}function sl(t){return(t.mode&1)!==0&&(t.flags&128)===0}function il(t){if(K){var e=Oe;if(e){var n=e;if(!Su(t,e)){if(sl(t))throw Error(N(418));e=Lt(n.nextSibling);var r=Re;e&&Su(t,e)?Md(r,n):(t.flags=t.flags&-4097|2,K=!1,Re=t)}}else{if(sl(t))throw Error(N(418));t.flags=t.flags&-4097|2,K=!1,Re=t}}}function bu(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Re=t}function bs(t){if(t!==Re)return!1;if(!K)return bu(t),K=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!el(t.type,t.memoizedProps)),e&&(e=Oe)){if(sl(t))throw zd(),Error(N(418));for(;e;)Md(t,e),e=Lt(e.nextSibling)}if(bu(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(N(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){Oe=Lt(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}Oe=null}}else Oe=Re?Lt(t.stateNode.nextSibling):null;return!0}function zd(){for(var t=Oe;t;)t=Lt(t.nextSibling)}function Xn(){Oe=Re=null,K=!1}function oa(t){Ge===null?Ge=[t]:Ge.push(t)}var xm=gt.ReactCurrentBatchConfig;function yr(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(N(309));var r=n.stateNode}if(!r)throw Error(N(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(N(284));if(!n._owner)throw Error(N(290,t))}return t}function Ns(t,e){throw t=Object.prototype.toString.call(e),Error(N(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Nu(t){var e=t._init;return e(t._payload)}function Fd(t){function e(g,m){if(t){var p=g.deletions;p===null?(g.deletions=[m],g.flags|=16):p.push(m)}}function n(g,m){if(!t)return null;for(;m!==null;)e(g,m),m=m.sibling;return null}function r(g,m){for(g=new Map;m!==null;)m.key!==null?g.set(m.key,m):g.set(m.index,m),m=m.sibling;return g}function s(g,m){return g=Dt(g,m),g.index=0,g.sibling=null,g}function i(g,m,p){return g.index=p,t?(p=g.alternate,p!==null?(p=p.index,p<m?(g.flags|=2,m):p):(g.flags|=2,m)):(g.flags|=1048576,m)}function o(g){return t&&g.alternate===null&&(g.flags|=2),g}function a(g,m,p,x){return m===null||m.tag!==6?(m=wo(p,g.mode,x),m.return=g,m):(m=s(m,p),m.return=g,m)}function l(g,m,p,x){var w=p.type;return w===Rn?d(g,m,p.props.children,x,p.key):m!==null&&(m.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===kt&&Nu(w)===m.type)?(x=s(m,p.props),x.ref=yr(g,m,p),x.return=g,x):(x=Ks(p.type,p.key,p.props,null,g.mode,x),x.ref=yr(g,m,p),x.return=g,x)}function c(g,m,p,x){return m===null||m.tag!==4||m.stateNode.containerInfo!==p.containerInfo||m.stateNode.implementation!==p.implementation?(m=_o(p,g.mode,x),m.return=g,m):(m=s(m,p.children||[]),m.return=g,m)}function d(g,m,p,x,w){return m===null||m.tag!==7?(m=dn(p,g.mode,x,w),m.return=g,m):(m=s(m,p),m.return=g,m)}function h(g,m,p){if(typeof m=="string"&&m!==""||typeof m=="number")return m=wo(""+m,g.mode,p),m.return=g,m;if(typeof m=="object"&&m!==null){switch(m.$$typeof){case ms:return p=Ks(m.type,m.key,m.props,null,g.mode,p),p.ref=yr(g,null,m),p.return=g,p;case On:return m=_o(m,g.mode,p),m.return=g,m;case kt:var x=m._init;return h(g,x(m._payload),p)}if(jr(m)||fr(m))return m=dn(m,g.mode,p,null),m.return=g,m;Ns(g,m)}return null}function f(g,m,p,x){var w=m!==null?m.key:null;if(typeof p=="string"&&p!==""||typeof p=="number")return w!==null?null:a(g,m,""+p,x);if(typeof p=="object"&&p!==null){switch(p.$$typeof){case ms:return p.key===w?l(g,m,p,x):null;case On:return p.key===w?c(g,m,p,x):null;case kt:return w=p._init,f(g,m,w(p._payload),x)}if(jr(p)||fr(p))return w!==null?null:d(g,m,p,x,null);Ns(g,p)}return null}function v(g,m,p,x,w){if(typeof x=="string"&&x!==""||typeof x=="number")return g=g.get(p)||null,a(m,g,""+x,w);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case ms:return g=g.get(x.key===null?p:x.key)||null,l(m,g,x,w);case On:return g=g.get(x.key===null?p:x.key)||null,c(m,g,x,w);case kt:var S=x._init;return v(g,m,p,S(x._payload),w)}if(jr(x)||fr(x))return g=g.get(p)||null,d(m,g,x,w,null);Ns(m,x)}return null}function y(g,m,p,x){for(var w=null,S=null,b=m,C=m=0,U=null;b!==null&&C<p.length;C++){b.index>C?(U=b,b=null):U=b.sibling;var R=f(g,b,p[C],x);if(R===null){b===null&&(b=U);break}t&&b&&R.alternate===null&&e(g,b),m=i(R,m,C),S===null?w=R:S.sibling=R,S=R,b=U}if(C===p.length)return n(g,b),K&&nn(g,C),w;if(b===null){for(;C<p.length;C++)b=h(g,p[C],x),b!==null&&(m=i(b,m,C),S===null?w=b:S.sibling=b,S=b);return K&&nn(g,C),w}for(b=r(g,b);C<p.length;C++)U=v(b,g,C,p[C],x),U!==null&&(t&&U.alternate!==null&&b.delete(U.key===null?C:U.key),m=i(U,m,C),S===null?w=U:S.sibling=U,S=U);return t&&b.forEach(function(Ce){return e(g,Ce)}),K&&nn(g,C),w}function _(g,m,p,x){var w=fr(p);if(typeof w!="function")throw Error(N(150));if(p=w.call(p),p==null)throw Error(N(151));for(var S=w=null,b=m,C=m=0,U=null,R=p.next();b!==null&&!R.done;C++,R=p.next()){b.index>C?(U=b,b=null):U=b.sibling;var Ce=f(g,b,R.value,x);if(Ce===null){b===null&&(b=U);break}t&&b&&Ce.alternate===null&&e(g,b),m=i(Ce,m,C),S===null?w=Ce:S.sibling=Ce,S=Ce,b=U}if(R.done)return n(g,b),K&&nn(g,C),w;if(b===null){for(;!R.done;C++,R=p.next())R=h(g,R.value,x),R!==null&&(m=i(R,m,C),S===null?w=R:S.sibling=R,S=R);return K&&nn(g,C),w}for(b=r(g,b);!R.done;C++,R=p.next())R=v(b,g,C,R.value,x),R!==null&&(t&&R.alternate!==null&&b.delete(R.key===null?C:R.key),m=i(R,m,C),S===null?w=R:S.sibling=R,S=R);return t&&b.forEach(function(Qt){return e(g,Qt)}),K&&nn(g,C),w}function k(g,m,p,x){if(typeof p=="object"&&p!==null&&p.type===Rn&&p.key===null&&(p=p.props.children),typeof p=="object"&&p!==null){switch(p.$$typeof){case ms:e:{for(var w=p.key,S=m;S!==null;){if(S.key===w){if(w=p.type,w===Rn){if(S.tag===7){n(g,S.sibling),m=s(S,p.props.children),m.return=g,g=m;break e}}else if(S.elementType===w||typeof w=="object"&&w!==null&&w.$$typeof===kt&&Nu(w)===S.type){n(g,S.sibling),m=s(S,p.props),m.ref=yr(g,S,p),m.return=g,g=m;break e}n(g,S);break}else e(g,S);S=S.sibling}p.type===Rn?(m=dn(p.props.children,g.mode,x,p.key),m.return=g,g=m):(x=Ks(p.type,p.key,p.props,null,g.mode,x),x.ref=yr(g,m,p),x.return=g,g=x)}return o(g);case On:e:{for(S=p.key;m!==null;){if(m.key===S)if(m.tag===4&&m.stateNode.containerInfo===p.containerInfo&&m.stateNode.implementation===p.implementation){n(g,m.sibling),m=s(m,p.children||[]),m.return=g,g=m;break e}else{n(g,m);break}else e(g,m);m=m.sibling}m=_o(p,g.mode,x),m.return=g,g=m}return o(g);case kt:return S=p._init,k(g,m,S(p._payload),x)}if(jr(p))return y(g,m,p,x);if(fr(p))return _(g,m,p,x);Ns(g,p)}return typeof p=="string"&&p!==""||typeof p=="number"?(p=""+p,m!==null&&m.tag===6?(n(g,m.sibling),m=s(m,p),m.return=g,g=m):(n(g,m),m=wo(p,g.mode,x),m.return=g,g=m),o(g)):n(g,m)}return k}var Zn=Fd(!0),Bd=Fd(!1),li=Wt(null),ai=null,zn=null,la=null;function aa(){la=zn=ai=null}function ua(t){var e=li.current;H(li),t._currentValue=e}function ol(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function Kn(t,e){ai=t,la=zn=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(Se=!0),t.firstContext=null)}function Fe(t){var e=t._currentValue;if(la!==t)if(t={context:t,memoizedValue:e,next:null},zn===null){if(ai===null)throw Error(N(308));zn=t,ai.dependencies={lanes:0,firstContext:t}}else zn=zn.next=t;return e}var an=null;function ca(t){an===null?an=[t]:an.push(t)}function Wd(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,ca(e)):(n.next=s.next,s.next=n),e.interleaved=n,pt(t,r)}function pt(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var jt=!1;function da(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Vd(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function dt(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function It(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,D&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,pt(t,n)}return s=r.interleaved,s===null?(e.next=e,ca(r)):(e.next=s.next,s.next=e),r.interleaved=e,pt(t,n)}function Fs(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Jl(t,n)}}function Eu(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function ui(t,e,n,r){var s=t.updateQueue;jt=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,c=l.next;l.next=null,o===null?i=c:o.next=c,o=l;var d=t.alternate;d!==null&&(d=d.updateQueue,a=d.lastBaseUpdate,a!==o&&(a===null?d.firstBaseUpdate=c:a.next=c,d.lastBaseUpdate=l))}if(i!==null){var h=s.baseState;o=0,d=c=l=null,a=i;do{var f=a.lane,v=a.eventTime;if((r&f)===f){d!==null&&(d=d.next={eventTime:v,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var y=t,_=a;switch(f=e,v=n,_.tag){case 1:if(y=_.payload,typeof y=="function"){h=y.call(v,h,f);break e}h=y;break e;case 3:y.flags=y.flags&-65537|128;case 0:if(y=_.payload,f=typeof y=="function"?y.call(v,h,f):y,f==null)break e;h=J({},h,f);break e;case 2:jt=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,f=s.effects,f===null?s.effects=[a]:f.push(a))}else v={eventTime:v,lane:f,tag:a.tag,payload:a.payload,callback:a.callback,next:null},d===null?(c=d=v,l=h):d=d.next=v,o|=f;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;f=a,a=f.next,f.next=null,s.lastBaseUpdate=f,s.shared.pending=null}}while(1);if(d===null&&(l=h),s.baseState=l,s.firstBaseUpdate=c,s.lastBaseUpdate=d,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);mn|=o,t.lanes=o,t.memoizedState=h}}function Cu(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(N(191,s));s.call(r)}}}var cs={},st=Wt(cs),Yr=Wt(cs),Xr=Wt(cs);function un(t){if(t===cs)throw Error(N(174));return t}function ha(t,e){switch(B(Xr,e),B(Yr,t),B(st,cs),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:zo(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=zo(e,t)}H(st),B(st,e)}function er(){H(st),H(Yr),H(Xr)}function Hd(t){un(Xr.current);var e=un(st.current),n=zo(e,t.type);e!==n&&(B(Yr,t),B(st,n))}function fa(t){Yr.current===t&&(H(st),H(Yr))}var G=Wt(0);function ci(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var po=[];function pa(){for(var t=0;t<po.length;t++)po[t]._workInProgressVersionPrimary=null;po.length=0}var Bs=gt.ReactCurrentDispatcher,mo=gt.ReactCurrentBatchConfig,pn=0,Q=null,re=null,oe=null,di=!1,Ar=!1,Zr=0,wm=0;function de(){throw Error(N(321))}function ma(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!Ye(t[n],e[n]))return!1;return!0}function ga(t,e,n,r,s,i){if(pn=i,Q=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Bs.current=t===null||t.memoizedState===null?Sm:bm,t=n(r,s),Ar){i=0;do{if(Ar=!1,Zr=0,25<=i)throw Error(N(301));i+=1,oe=re=null,e.updateQueue=null,Bs.current=Nm,t=n(r,s)}while(Ar)}if(Bs.current=hi,e=re!==null&&re.next!==null,pn=0,oe=re=Q=null,di=!1,e)throw Error(N(300));return t}function va(){var t=Zr!==0;return Zr=0,t}function tt(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return oe===null?Q.memoizedState=oe=t:oe=oe.next=t,oe}function Be(){if(re===null){var t=Q.alternate;t=t!==null?t.memoizedState:null}else t=re.next;var e=oe===null?Q.memoizedState:oe.next;if(e!==null)oe=e,re=t;else{if(t===null)throw Error(N(310));re=t,t={memoizedState:re.memoizedState,baseState:re.baseState,baseQueue:re.baseQueue,queue:re.queue,next:null},oe===null?Q.memoizedState=oe=t:oe=oe.next=t}return oe}function es(t,e){return typeof e=="function"?e(t):e}function go(t){var e=Be(),n=e.queue;if(n===null)throw Error(N(311));n.lastRenderedReducer=t;var r=re,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,c=i;do{var d=c.lane;if((pn&d)===d)l!==null&&(l=l.next={lane:0,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null}),r=c.hasEagerState?c.eagerState:t(r,c.action);else{var h={lane:d,action:c.action,hasEagerState:c.hasEagerState,eagerState:c.eagerState,next:null};l===null?(a=l=h,o=r):l=l.next=h,Q.lanes|=d,mn|=d}c=c.next}while(c!==null&&c!==i);l===null?o=r:l.next=a,Ye(r,e.memoizedState)||(Se=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Q.lanes|=i,mn|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function vo(t){var e=Be(),n=e.queue;if(n===null)throw Error(N(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);Ye(i,e.memoizedState)||(Se=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function qd(){}function Kd(t,e){var n=Q,r=Be(),s=e(),i=!Ye(r.memoizedState,s);if(i&&(r.memoizedState=s,Se=!0),r=r.queue,ya(Jd.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||oe!==null&&oe.memoizedState.tag&1){if(n.flags|=2048,ts(9,Qd.bind(null,n,r,s,e),void 0,null),le===null)throw Error(N(349));pn&30||Gd(n,e,s)}return s}function Gd(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Q.updateQueue,e===null?(e={lastEffect:null,stores:null},Q.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function Qd(t,e,n,r){e.value=n,e.getSnapshot=r,Yd(e)&&Xd(t)}function Jd(t,e,n){return n(function(){Yd(e)&&Xd(t)})}function Yd(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!Ye(t,n)}catch{return!0}}function Xd(t){var e=pt(t,1);e!==null&&Je(e,t,1,-1)}function Pu(t){var e=tt();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:es,lastRenderedState:t},e.queue=t,t=t.dispatch=jm.bind(null,Q,t),[e.memoizedState,t]}function ts(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Q.updateQueue,e===null?(e={lastEffect:null,stores:null},Q.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function Zd(){return Be().memoizedState}function Ws(t,e,n,r){var s=tt();Q.flags|=t,s.memoizedState=ts(1|e,n,void 0,r===void 0?null:r)}function Ri(t,e,n,r){var s=Be();r=r===void 0?null:r;var i=void 0;if(re!==null){var o=re.memoizedState;if(i=o.destroy,r!==null&&ma(r,o.deps)){s.memoizedState=ts(e,n,i,r);return}}Q.flags|=t,s.memoizedState=ts(1|e,n,i,r)}function Tu(t,e){return Ws(8390656,8,t,e)}function ya(t,e){return Ri(2048,8,t,e)}function eh(t,e){return Ri(4,2,t,e)}function th(t,e){return Ri(4,4,t,e)}function nh(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function rh(t,e,n){return n=n!=null?n.concat([t]):null,Ri(4,4,nh.bind(null,e,t),n)}function xa(){}function sh(t,e){var n=Be();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ma(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function ih(t,e){var n=Be();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&ma(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function oh(t,e,n){return pn&21?(Ye(n,e)||(n=dd(),Q.lanes|=n,mn|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,Se=!0),t.memoizedState=n)}function _m(t,e){var n=z;z=n!==0&&4>n?n:4,t(!0);var r=mo.transition;mo.transition={};try{t(!1),e()}finally{z=n,mo.transition=r}}function lh(){return Be().memoizedState}function km(t,e,n){var r=Ut(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},ah(t))uh(e,n);else if(n=Wd(t,e,n,r),n!==null){var s=ye();Je(n,t,r,s),ch(n,e,r)}}function jm(t,e,n){var r=Ut(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(ah(t))uh(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,Ye(a,o)){var l=e.interleaved;l===null?(s.next=s,ca(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=Wd(t,e,s,r),n!==null&&(s=ye(),Je(n,t,r,s),ch(n,e,r))}}function ah(t){var e=t.alternate;return t===Q||e!==null&&e===Q}function uh(t,e){Ar=di=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function ch(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Jl(t,n)}}var hi={readContext:Fe,useCallback:de,useContext:de,useEffect:de,useImperativeHandle:de,useInsertionEffect:de,useLayoutEffect:de,useMemo:de,useReducer:de,useRef:de,useState:de,useDebugValue:de,useDeferredValue:de,useTransition:de,useMutableSource:de,useSyncExternalStore:de,useId:de,unstable_isNewReconciler:!1},Sm={readContext:Fe,useCallback:function(t,e){return tt().memoizedState=[t,e===void 0?null:e],t},useContext:Fe,useEffect:Tu,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Ws(4194308,4,nh.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Ws(4194308,4,t,e)},useInsertionEffect:function(t,e){return Ws(4,2,t,e)},useMemo:function(t,e){var n=tt();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=tt();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=km.bind(null,Q,t),[r.memoizedState,t]},useRef:function(t){var e=tt();return t={current:t},e.memoizedState=t},useState:Pu,useDebugValue:xa,useDeferredValue:function(t){return tt().memoizedState=t},useTransition:function(){var t=Pu(!1),e=t[0];return t=_m.bind(null,t[1]),tt().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Q,s=tt();if(K){if(n===void 0)throw Error(N(407));n=n()}else{if(n=e(),le===null)throw Error(N(349));pn&30||Gd(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,Tu(Jd.bind(null,r,i,t),[t]),r.flags|=2048,ts(9,Qd.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=tt(),e=le.identifierPrefix;if(K){var n=ct,r=ut;n=(r&~(1<<32-Qe(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=Zr++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=wm++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},bm={readContext:Fe,useCallback:sh,useContext:Fe,useEffect:ya,useImperativeHandle:rh,useInsertionEffect:eh,useLayoutEffect:th,useMemo:ih,useReducer:go,useRef:Zd,useState:function(){return go(es)},useDebugValue:xa,useDeferredValue:function(t){var e=Be();return oh(e,re.memoizedState,t)},useTransition:function(){var t=go(es)[0],e=Be().memoizedState;return[t,e]},useMutableSource:qd,useSyncExternalStore:Kd,useId:lh,unstable_isNewReconciler:!1},Nm={readContext:Fe,useCallback:sh,useContext:Fe,useEffect:ya,useImperativeHandle:rh,useInsertionEffect:eh,useLayoutEffect:th,useMemo:ih,useReducer:vo,useRef:Zd,useState:function(){return vo(es)},useDebugValue:xa,useDeferredValue:function(t){var e=Be();return re===null?e.memoizedState=t:oh(e,re.memoizedState,t)},useTransition:function(){var t=vo(es)[0],e=Be().memoizedState;return[t,e]},useMutableSource:qd,useSyncExternalStore:Kd,useId:lh,unstable_isNewReconciler:!1};function He(t,e){if(t&&t.defaultProps){e=J({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function ll(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:J({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Ai={isMounted:function(t){return(t=t._reactInternals)?yn(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=ye(),s=Ut(t),i=dt(r,s);i.payload=e,n!=null&&(i.callback=n),e=It(t,i,s),e!==null&&(Je(e,t,s,r),Fs(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=ye(),s=Ut(t),i=dt(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=It(t,i,s),e!==null&&(Je(e,t,s,r),Fs(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=ye(),r=Ut(t),s=dt(n,r);s.tag=2,e!=null&&(s.callback=e),e=It(t,s,r),e!==null&&(Je(e,t,r,n),Fs(e,t,r))}};function Ou(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Kr(n,r)||!Kr(s,i):!0}function dh(t,e,n){var r=!1,s=Ft,i=e.contextType;return typeof i=="object"&&i!==null?i=Fe(i):(s=Ne(e)?hn:pe.current,r=e.contextTypes,i=(r=r!=null)?Yn(t,s):Ft),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Ai,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Ru(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Ai.enqueueReplaceState(e,e.state,null)}function al(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},da(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Fe(i):(i=Ne(e)?hn:pe.current,s.context=Yn(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(ll(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Ai.enqueueReplaceState(s,s.state,null),ui(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function tr(t,e){try{var n="",r=e;do n+=ep(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function yo(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function ul(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var Em=typeof WeakMap=="function"?WeakMap:Map;function hh(t,e,n){n=dt(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){pi||(pi=!0,xl=r),ul(t,e)},n}function fh(t,e,n){n=dt(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){ul(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){ul(t,e),typeof r!="function"&&($t===null?$t=new Set([this]):$t.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Au(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new Em;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=Fm.bind(null,t,e,n),e.then(t,t))}function Lu(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Iu(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=dt(-1,1),e.tag=2,It(n,e,1))),n.lanes|=1),t)}var Cm=gt.ReactCurrentOwner,Se=!1;function ve(t,e,n,r){e.child=t===null?Bd(e,null,n,r):Zn(e,t.child,n,r)}function $u(t,e,n,r,s){n=n.render;var i=e.ref;return Kn(e,s),r=ga(t,e,n,r,i,s),n=va(),t!==null&&!Se?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,mt(t,e,s)):(K&&n&&sa(e),e.flags|=1,ve(t,e,r,s),e.child)}function Uu(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Ea(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,ph(t,e,i,r,s)):(t=Ks(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Kr,n(o,r)&&t.ref===e.ref)return mt(t,e,s)}return e.flags|=1,t=Dt(i,r),t.ref=e.ref,t.return=e,e.child=t}function ph(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Kr(i,r)&&t.ref===e.ref)if(Se=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(Se=!0);else return e.lanes=t.lanes,mt(t,e,s)}return cl(t,e,n,r,s)}function mh(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},B(Bn,Te),Te|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,B(Bn,Te),Te|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,B(Bn,Te),Te|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,B(Bn,Te),Te|=r;return ve(t,e,s,n),e.child}function gh(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function cl(t,e,n,r,s){var i=Ne(n)?hn:pe.current;return i=Yn(e,i),Kn(e,s),n=ga(t,e,n,r,i,s),r=va(),t!==null&&!Se?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,mt(t,e,s)):(K&&r&&sa(e),e.flags|=1,ve(t,e,n,s),e.child)}function Du(t,e,n,r,s){if(Ne(n)){var i=!0;si(e)}else i=!1;if(Kn(e,s),e.stateNode===null)Vs(t,e),dh(e,n,r),al(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,c=n.contextType;typeof c=="object"&&c!==null?c=Fe(c):(c=Ne(n)?hn:pe.current,c=Yn(e,c));var d=n.getDerivedStateFromProps,h=typeof d=="function"||typeof o.getSnapshotBeforeUpdate=="function";h||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==c)&&Ru(e,o,r,c),jt=!1;var f=e.memoizedState;o.state=f,ui(e,r,o,s),l=e.memoizedState,a!==r||f!==l||be.current||jt?(typeof d=="function"&&(ll(e,n,d,r),l=e.memoizedState),(a=jt||Ou(e,n,a,r,f,l,c))?(h||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=c,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,Vd(t,e),a=e.memoizedProps,c=e.type===e.elementType?a:He(e.type,a),o.props=c,h=e.pendingProps,f=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Fe(l):(l=Ne(n)?hn:pe.current,l=Yn(e,l));var v=n.getDerivedStateFromProps;(d=typeof v=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==h||f!==l)&&Ru(e,o,r,l),jt=!1,f=e.memoizedState,o.state=f,ui(e,r,o,s);var y=e.memoizedState;a!==h||f!==y||be.current||jt?(typeof v=="function"&&(ll(e,n,v,r),y=e.memoizedState),(c=jt||Ou(e,n,c,r,f,y,l)||!1)?(d||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,y,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,y,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=y),o.props=r,o.state=y,o.context=l,r=c):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&f===t.memoizedState||(e.flags|=1024),r=!1)}return dl(t,e,n,r,i,s)}function dl(t,e,n,r,s,i){gh(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&ju(e,n,!1),mt(t,e,i);r=e.stateNode,Cm.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=Zn(e,t.child,null,i),e.child=Zn(e,null,a,i)):ve(t,e,a,i),e.memoizedState=r.state,s&&ju(e,n,!0),e.child}function vh(t){var e=t.stateNode;e.pendingContext?ku(t,e.pendingContext,e.pendingContext!==e.context):e.context&&ku(t,e.context,!1),ha(t,e.containerInfo)}function Mu(t,e,n,r,s){return Xn(),oa(s),e.flags|=256,ve(t,e,n,r),e.child}var hl={dehydrated:null,treeContext:null,retryLane:0};function fl(t){return{baseLanes:t,cachePool:null,transitions:null}}function yh(t,e,n){var r=e.pendingProps,s=G.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),B(G,s&1),t===null)return il(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=$i(o,r,0,null),t=dn(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=fl(n),e.memoizedState=hl,t):wa(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return Pm(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=Dt(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=Dt(a,i):(i=dn(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?fl(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=hl,r}return i=t.child,t=i.sibling,r=Dt(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function wa(t,e){return e=$i({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Es(t,e,n,r){return r!==null&&oa(r),Zn(e,t.child,null,n),t=wa(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function Pm(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=yo(Error(N(422))),Es(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=$i({mode:"visible",children:r.children},s,0,null),i=dn(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&Zn(e,t.child,null,o),e.child.memoizedState=fl(o),e.memoizedState=hl,i);if(!(e.mode&1))return Es(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(N(419)),r=yo(i,r,void 0),Es(t,e,o,r)}if(a=(o&t.childLanes)!==0,Se||a){if(r=le,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,pt(t,s),Je(r,t,s,-1))}return Na(),r=yo(Error(N(421))),Es(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=Bm.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,Oe=Lt(s.nextSibling),Re=e,K=!0,Ge=null,t!==null&&($e[Ue++]=ut,$e[Ue++]=ct,$e[Ue++]=fn,ut=t.id,ct=t.overflow,fn=e),e=wa(e,r.children),e.flags|=4096,e)}function zu(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),ol(t.return,e,n)}function xo(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function xh(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(ve(t,e,r.children,n),r=G.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&zu(t,n,e);else if(t.tag===19)zu(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(B(G,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&ci(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),xo(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&ci(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}xo(e,!0,n,null,i);break;case"together":xo(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Vs(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function mt(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),mn|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(N(153));if(e.child!==null){for(t=e.child,n=Dt(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=Dt(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function Tm(t,e,n){switch(e.tag){case 3:vh(e),Xn();break;case 5:Hd(e);break;case 1:Ne(e.type)&&si(e);break;case 4:ha(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;B(li,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(B(G,G.current&1),e.flags|=128,null):n&e.child.childLanes?yh(t,e,n):(B(G,G.current&1),t=mt(t,e,n),t!==null?t.sibling:null);B(G,G.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return xh(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),B(G,G.current),r)break;return null;case 22:case 23:return e.lanes=0,mh(t,e,n)}return mt(t,e,n)}var wh,pl,_h,kh;wh=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};pl=function(){};_h=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,un(st.current);var i=null;switch(n){case"input":s=$o(t,s),r=$o(t,r),i=[];break;case"select":s=J({},s,{value:void 0}),r=J({},r,{value:void 0}),i=[];break;case"textarea":s=Mo(t,s),r=Mo(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=ni)}Fo(n,r);var o;n=null;for(c in s)if(!r.hasOwnProperty(c)&&s.hasOwnProperty(c)&&s[c]!=null)if(c==="style"){var a=s[c];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else c!=="dangerouslySetInnerHTML"&&c!=="children"&&c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&c!=="autoFocus"&&(zr.hasOwnProperty(c)?i||(i=[]):(i=i||[]).push(c,null));for(c in r){var l=r[c];if(a=s!=null?s[c]:void 0,r.hasOwnProperty(c)&&l!==a&&(l!=null||a!=null))if(c==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(c,n)),n=l;else c==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(c,l)):c==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(c,""+l):c!=="suppressContentEditableWarning"&&c!=="suppressHydrationWarning"&&(zr.hasOwnProperty(c)?(l!=null&&c==="onScroll"&&V("scroll",t),i||a===l||(i=[])):(i=i||[]).push(c,l))}n&&(i=i||[]).push("style",n);var c=i;(e.updateQueue=c)&&(e.flags|=4)}};kh=function(t,e,n,r){n!==r&&(e.flags|=4)};function xr(t,e){if(!K)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function he(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function Om(t,e,n){var r=e.pendingProps;switch(ia(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return he(e),null;case 1:return Ne(e.type)&&ri(),he(e),null;case 3:return r=e.stateNode,er(),H(be),H(pe),pa(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(bs(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Ge!==null&&(kl(Ge),Ge=null))),pl(t,e),he(e),null;case 5:fa(e);var s=un(Xr.current);if(n=e.type,t!==null&&e.stateNode!=null)_h(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(N(166));return he(e),null}if(t=un(st.current),bs(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[nt]=e,r[Jr]=i,t=(e.mode&1)!==0,n){case"dialog":V("cancel",r),V("close",r);break;case"iframe":case"object":case"embed":V("load",r);break;case"video":case"audio":for(s=0;s<br.length;s++)V(br[s],r);break;case"source":V("error",r);break;case"img":case"image":case"link":V("error",r),V("load",r);break;case"details":V("toggle",r);break;case"input":Qa(r,i),V("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},V("invalid",r);break;case"textarea":Ya(r,i),V("invalid",r)}Fo(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Ss(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Ss(r.textContent,a,t),s=["children",""+a]):zr.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&V("scroll",r)}switch(n){case"input":gs(r),Ja(r,i,!0);break;case"textarea":gs(r),Xa(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=ni)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Jc(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[nt]=e,t[Jr]=r,wh(t,e,!1,!1),e.stateNode=t;e:{switch(o=Bo(n,r),n){case"dialog":V("cancel",t),V("close",t),s=r;break;case"iframe":case"object":case"embed":V("load",t),s=r;break;case"video":case"audio":for(s=0;s<br.length;s++)V(br[s],t);s=r;break;case"source":V("error",t),s=r;break;case"img":case"image":case"link":V("error",t),V("load",t),s=r;break;case"details":V("toggle",t),s=r;break;case"input":Qa(t,r),s=$o(t,r),V("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=J({},r,{value:void 0}),V("invalid",t);break;case"textarea":Ya(t,r),s=Mo(t,r),V("invalid",t);break;default:s=r}Fo(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?Zc(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Yc(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Fr(t,l):typeof l=="number"&&Fr(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(zr.hasOwnProperty(i)?l!=null&&i==="onScroll"&&V("scroll",t):l!=null&&Vl(t,i,l,o))}switch(n){case"input":gs(t),Ja(t,r,!1);break;case"textarea":gs(t),Xa(t);break;case"option":r.value!=null&&t.setAttribute("value",""+zt(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?Wn(t,!!r.multiple,i,!1):r.defaultValue!=null&&Wn(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=ni)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return he(e),null;case 6:if(t&&e.stateNode!=null)kh(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(N(166));if(n=un(Xr.current),un(st.current),bs(e)){if(r=e.stateNode,n=e.memoizedProps,r[nt]=e,(i=r.nodeValue!==n)&&(t=Re,t!==null))switch(t.tag){case 3:Ss(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ss(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[nt]=e,e.stateNode=r}return he(e),null;case 13:if(H(G),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(K&&Oe!==null&&e.mode&1&&!(e.flags&128))zd(),Xn(),e.flags|=98560,i=!1;else if(i=bs(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(N(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(N(317));i[nt]=e}else Xn(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;he(e),i=!1}else Ge!==null&&(kl(Ge),Ge=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||G.current&1?se===0&&(se=3):Na())),e.updateQueue!==null&&(e.flags|=4),he(e),null);case 4:return er(),pl(t,e),t===null&&Gr(e.stateNode.containerInfo),he(e),null;case 10:return ua(e.type._context),he(e),null;case 17:return Ne(e.type)&&ri(),he(e),null;case 19:if(H(G),i=e.memoizedState,i===null)return he(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)xr(i,!1);else{if(se!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=ci(t),o!==null){for(e.flags|=128,xr(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return B(G,G.current&1|2),e.child}t=t.sibling}i.tail!==null&&ee()>nr&&(e.flags|=128,r=!0,xr(i,!1),e.lanes=4194304)}else{if(!r)if(t=ci(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),xr(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!K)return he(e),null}else 2*ee()-i.renderingStartTime>nr&&n!==1073741824&&(e.flags|=128,r=!0,xr(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ee(),e.sibling=null,n=G.current,B(G,r?n&1|2:n&1),e):(he(e),null);case 22:case 23:return ba(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?Te&1073741824&&(he(e),e.subtreeFlags&6&&(e.flags|=8192)):he(e),null;case 24:return null;case 25:return null}throw Error(N(156,e.tag))}function Rm(t,e){switch(ia(e),e.tag){case 1:return Ne(e.type)&&ri(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return er(),H(be),H(pe),pa(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return fa(e),null;case 13:if(H(G),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(N(340));Xn()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return H(G),null;case 4:return er(),null;case 10:return ua(e.type._context),null;case 22:case 23:return ba(),null;case 24:return null;default:return null}}var Cs=!1,fe=!1,Am=typeof WeakSet=="function"?WeakSet:Set,T=null;function Fn(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){Y(t,e,r)}else n.current=null}function ml(t,e,n){try{n()}catch(r){Y(t,e,r)}}var Fu=!1;function Lm(t,e){if(Xo=Zs,t=Ed(),ra(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,c=0,d=0,h=t,f=null;t:for(;;){for(var v;h!==n||s!==0&&h.nodeType!==3||(a=o+s),h!==i||r!==0&&h.nodeType!==3||(l=o+r),h.nodeType===3&&(o+=h.nodeValue.length),(v=h.firstChild)!==null;)f=h,h=v;for(;;){if(h===t)break t;if(f===n&&++c===s&&(a=o),f===i&&++d===r&&(l=o),(v=h.nextSibling)!==null)break;h=f,f=h.parentNode}h=v}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(Zo={focusedElem:t,selectionRange:n},Zs=!1,T=e;T!==null;)if(e=T,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,T=t;else for(;T!==null;){e=T;try{var y=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(y!==null){var _=y.memoizedProps,k=y.memoizedState,g=e.stateNode,m=g.getSnapshotBeforeUpdate(e.elementType===e.type?_:He(e.type,_),k);g.__reactInternalSnapshotBeforeUpdate=m}break;case 3:var p=e.stateNode.containerInfo;p.nodeType===1?p.textContent="":p.nodeType===9&&p.documentElement&&p.removeChild(p.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(N(163))}}catch(x){Y(e,e.return,x)}if(t=e.sibling,t!==null){t.return=e.return,T=t;break}T=e.return}return y=Fu,Fu=!1,y}function Lr(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&ml(e,n,i)}s=s.next}while(s!==r)}}function Li(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function gl(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function jh(t){var e=t.alternate;e!==null&&(t.alternate=null,jh(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[nt],delete e[Jr],delete e[nl],delete e[gm],delete e[vm])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function Sh(t){return t.tag===5||t.tag===3||t.tag===4}function Bu(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||Sh(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function vl(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=ni));else if(r!==4&&(t=t.child,t!==null))for(vl(t,e,n),t=t.sibling;t!==null;)vl(t,e,n),t=t.sibling}function yl(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(yl(t,e,n),t=t.sibling;t!==null;)yl(t,e,n),t=t.sibling}var ae=null,qe=!1;function wt(t,e,n){for(n=n.child;n!==null;)bh(t,e,n),n=n.sibling}function bh(t,e,n){if(rt&&typeof rt.onCommitFiberUnmount=="function")try{rt.onCommitFiberUnmount(Ni,n)}catch{}switch(n.tag){case 5:fe||Fn(n,e);case 6:var r=ae,s=qe;ae=null,wt(t,e,n),ae=r,qe=s,ae!==null&&(qe?(t=ae,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):ae.removeChild(n.stateNode));break;case 18:ae!==null&&(qe?(t=ae,n=n.stateNode,t.nodeType===8?ho(t.parentNode,n):t.nodeType===1&&ho(t,n),Hr(t)):ho(ae,n.stateNode));break;case 4:r=ae,s=qe,ae=n.stateNode.containerInfo,qe=!0,wt(t,e,n),ae=r,qe=s;break;case 0:case 11:case 14:case 15:if(!fe&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&ml(n,e,o),s=s.next}while(s!==r)}wt(t,e,n);break;case 1:if(!fe&&(Fn(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){Y(n,e,a)}wt(t,e,n);break;case 21:wt(t,e,n);break;case 22:n.mode&1?(fe=(r=fe)||n.memoizedState!==null,wt(t,e,n),fe=r):wt(t,e,n);break;default:wt(t,e,n)}}function Wu(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new Am),e.forEach(function(r){var s=Wm.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function We(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:ae=a.stateNode,qe=!1;break e;case 3:ae=a.stateNode.containerInfo,qe=!0;break e;case 4:ae=a.stateNode.containerInfo,qe=!0;break e}a=a.return}if(ae===null)throw Error(N(160));bh(i,o,s),ae=null,qe=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(c){Y(s,e,c)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)Nh(e,t),e=e.sibling}function Nh(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(We(e,t),et(t),r&4){try{Lr(3,t,t.return),Li(3,t)}catch(_){Y(t,t.return,_)}try{Lr(5,t,t.return)}catch(_){Y(t,t.return,_)}}break;case 1:We(e,t),et(t),r&512&&n!==null&&Fn(n,n.return);break;case 5:if(We(e,t),et(t),r&512&&n!==null&&Fn(n,n.return),t.flags&32){var s=t.stateNode;try{Fr(s,"")}catch(_){Y(t,t.return,_)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Gc(s,i),Bo(a,o);var c=Bo(a,i);for(o=0;o<l.length;o+=2){var d=l[o],h=l[o+1];d==="style"?Zc(s,h):d==="dangerouslySetInnerHTML"?Yc(s,h):d==="children"?Fr(s,h):Vl(s,d,h,c)}switch(a){case"input":Uo(s,i);break;case"textarea":Qc(s,i);break;case"select":var f=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var v=i.value;v!=null?Wn(s,!!i.multiple,v,!1):f!==!!i.multiple&&(i.defaultValue!=null?Wn(s,!!i.multiple,i.defaultValue,!0):Wn(s,!!i.multiple,i.multiple?[]:"",!1))}s[Jr]=i}catch(_){Y(t,t.return,_)}}break;case 6:if(We(e,t),et(t),r&4){if(t.stateNode===null)throw Error(N(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(_){Y(t,t.return,_)}}break;case 3:if(We(e,t),et(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Hr(e.containerInfo)}catch(_){Y(t,t.return,_)}break;case 4:We(e,t),et(t);break;case 13:We(e,t),et(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(ja=ee())),r&4&&Wu(t);break;case 22:if(d=n!==null&&n.memoizedState!==null,t.mode&1?(fe=(c=fe)||d,We(e,t),fe=c):We(e,t),et(t),r&8192){if(c=t.memoizedState!==null,(t.stateNode.isHidden=c)&&!d&&t.mode&1)for(T=t,d=t.child;d!==null;){for(h=T=d;T!==null;){switch(f=T,v=f.child,f.tag){case 0:case 11:case 14:case 15:Lr(4,f,f.return);break;case 1:Fn(f,f.return);var y=f.stateNode;if(typeof y.componentWillUnmount=="function"){r=f,n=f.return;try{e=r,y.props=e.memoizedProps,y.state=e.memoizedState,y.componentWillUnmount()}catch(_){Y(r,n,_)}}break;case 5:Fn(f,f.return);break;case 22:if(f.memoizedState!==null){Hu(h);continue}}v!==null?(v.return=f,T=v):Hu(h)}d=d.sibling}e:for(d=null,h=t;;){if(h.tag===5){if(d===null){d=h;try{s=h.stateNode,c?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=h.stateNode,l=h.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Xc("display",o))}catch(_){Y(t,t.return,_)}}}else if(h.tag===6){if(d===null)try{h.stateNode.nodeValue=c?"":h.memoizedProps}catch(_){Y(t,t.return,_)}}else if((h.tag!==22&&h.tag!==23||h.memoizedState===null||h===t)&&h.child!==null){h.child.return=h,h=h.child;continue}if(h===t)break e;for(;h.sibling===null;){if(h.return===null||h.return===t)break e;d===h&&(d=null),h=h.return}d===h&&(d=null),h.sibling.return=h.return,h=h.sibling}}break;case 19:We(e,t),et(t),r&4&&Wu(t);break;case 21:break;default:We(e,t),et(t)}}function et(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(Sh(n)){var r=n;break e}n=n.return}throw Error(N(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Fr(s,""),r.flags&=-33);var i=Bu(t);yl(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=Bu(t);vl(t,a,o);break;default:throw Error(N(161))}}catch(l){Y(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function Im(t,e,n){T=t,Eh(t)}function Eh(t,e,n){for(var r=(t.mode&1)!==0;T!==null;){var s=T,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Cs;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||fe;a=Cs;var c=fe;if(Cs=o,(fe=l)&&!c)for(T=s;T!==null;)o=T,l=o.child,o.tag===22&&o.memoizedState!==null?qu(s):l!==null?(l.return=o,T=l):qu(s);for(;i!==null;)T=i,Eh(i),i=i.sibling;T=s,Cs=a,fe=c}Vu(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,T=i):Vu(t)}}function Vu(t){for(;T!==null;){var e=T;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:fe||Li(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!fe)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:He(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Cu(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Cu(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var c=e.alternate;if(c!==null){var d=c.memoizedState;if(d!==null){var h=d.dehydrated;h!==null&&Hr(h)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(N(163))}fe||e.flags&512&&gl(e)}catch(f){Y(e,e.return,f)}}if(e===t){T=null;break}if(n=e.sibling,n!==null){n.return=e.return,T=n;break}T=e.return}}function Hu(t){for(;T!==null;){var e=T;if(e===t){T=null;break}var n=e.sibling;if(n!==null){n.return=e.return,T=n;break}T=e.return}}function qu(t){for(;T!==null;){var e=T;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{Li(4,e)}catch(l){Y(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){Y(e,s,l)}}var i=e.return;try{gl(e)}catch(l){Y(e,i,l)}break;case 5:var o=e.return;try{gl(e)}catch(l){Y(e,o,l)}}}catch(l){Y(e,e.return,l)}if(e===t){T=null;break}var a=e.sibling;if(a!==null){a.return=e.return,T=a;break}T=e.return}}var $m=Math.ceil,fi=gt.ReactCurrentDispatcher,_a=gt.ReactCurrentOwner,Me=gt.ReactCurrentBatchConfig,D=0,le=null,ne=null,ue=0,Te=0,Bn=Wt(0),se=0,ns=null,mn=0,Ii=0,ka=0,Ir=null,ke=null,ja=0,nr=1/0,ot=null,pi=!1,xl=null,$t=null,Ps=!1,Pt=null,mi=0,$r=0,wl=null,Hs=-1,qs=0;function ye(){return D&6?ee():Hs!==-1?Hs:Hs=ee()}function Ut(t){return t.mode&1?D&2&&ue!==0?ue&-ue:xm.transition!==null?(qs===0&&(qs=dd()),qs):(t=z,t!==0||(t=window.event,t=t===void 0?16:yd(t.type)),t):1}function Je(t,e,n,r){if(50<$r)throw $r=0,wl=null,Error(N(185));ls(t,n,r),(!(D&2)||t!==le)&&(t===le&&(!(D&2)&&(Ii|=n),se===4&&Nt(t,ue)),Ee(t,r),n===1&&D===0&&!(e.mode&1)&&(nr=ee()+500,Oi&&Vt()))}function Ee(t,e){var n=t.callbackNode;xp(t,e);var r=Xs(t,t===le?ue:0);if(r===0)n!==null&&tu(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&tu(n),e===1)t.tag===0?ym(Ku.bind(null,t)):Ud(Ku.bind(null,t)),pm(function(){!(D&6)&&Vt()}),n=null;else{switch(hd(r)){case 1:n=Ql;break;case 4:n=ud;break;case 16:n=Ys;break;case 536870912:n=cd;break;default:n=Ys}n=Ih(n,Ch.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function Ch(t,e){if(Hs=-1,qs=0,D&6)throw Error(N(327));var n=t.callbackNode;if(Gn()&&t.callbackNode!==n)return null;var r=Xs(t,t===le?ue:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=gi(t,r);else{e=r;var s=D;D|=2;var i=Th();(le!==t||ue!==e)&&(ot=null,nr=ee()+500,cn(t,e));do try{Mm();break}catch(a){Ph(t,a)}while(1);aa(),fi.current=i,D=s,ne!==null?e=0:(le=null,ue=0,e=se)}if(e!==0){if(e===2&&(s=Ko(t),s!==0&&(r=s,e=_l(t,s))),e===1)throw n=ns,cn(t,0),Nt(t,r),Ee(t,ee()),n;if(e===6)Nt(t,r);else{if(s=t.current.alternate,!(r&30)&&!Um(s)&&(e=gi(t,r),e===2&&(i=Ko(t),i!==0&&(r=i,e=_l(t,i))),e===1))throw n=ns,cn(t,0),Nt(t,r),Ee(t,ee()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(N(345));case 2:rn(t,ke,ot);break;case 3:if(Nt(t,r),(r&130023424)===r&&(e=ja+500-ee(),10<e)){if(Xs(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){ye(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=tl(rn.bind(null,t,ke,ot),e);break}rn(t,ke,ot);break;case 4:if(Nt(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-Qe(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=ee()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*$m(r/1960))-r,10<r){t.timeoutHandle=tl(rn.bind(null,t,ke,ot),r);break}rn(t,ke,ot);break;case 5:rn(t,ke,ot);break;default:throw Error(N(329))}}}return Ee(t,ee()),t.callbackNode===n?Ch.bind(null,t):null}function _l(t,e){var n=Ir;return t.current.memoizedState.isDehydrated&&(cn(t,e).flags|=256),t=gi(t,e),t!==2&&(e=ke,ke=n,e!==null&&kl(e)),t}function kl(t){ke===null?ke=t:ke.push.apply(ke,t)}function Um(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!Ye(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function Nt(t,e){for(e&=~ka,e&=~Ii,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-Qe(e),r=1<<n;t[n]=-1,e&=~r}}function Ku(t){if(D&6)throw Error(N(327));Gn();var e=Xs(t,0);if(!(e&1))return Ee(t,ee()),null;var n=gi(t,e);if(t.tag!==0&&n===2){var r=Ko(t);r!==0&&(e=r,n=_l(t,r))}if(n===1)throw n=ns,cn(t,0),Nt(t,e),Ee(t,ee()),n;if(n===6)throw Error(N(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,rn(t,ke,ot),Ee(t,ee()),null}function Sa(t,e){var n=D;D|=1;try{return t(e)}finally{D=n,D===0&&(nr=ee()+500,Oi&&Vt())}}function gn(t){Pt!==null&&Pt.tag===0&&!(D&6)&&Gn();var e=D;D|=1;var n=Me.transition,r=z;try{if(Me.transition=null,z=1,t)return t()}finally{z=r,Me.transition=n,D=e,!(D&6)&&Vt()}}function ba(){Te=Bn.current,H(Bn)}function cn(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,fm(n)),ne!==null)for(n=ne.return;n!==null;){var r=n;switch(ia(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&ri();break;case 3:er(),H(be),H(pe),pa();break;case 5:fa(r);break;case 4:er();break;case 13:H(G);break;case 19:H(G);break;case 10:ua(r.type._context);break;case 22:case 23:ba()}n=n.return}if(le=t,ne=t=Dt(t.current,null),ue=Te=e,se=0,ns=null,ka=Ii=mn=0,ke=Ir=null,an!==null){for(e=0;e<an.length;e++)if(n=an[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}an=null}return t}function Ph(t,e){do{var n=ne;try{if(aa(),Bs.current=hi,di){for(var r=Q.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}di=!1}if(pn=0,oe=re=Q=null,Ar=!1,Zr=0,_a.current=null,n===null||n.return===null){se=1,ns=e,ne=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=ue,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var c=l,d=a,h=d.tag;if(!(d.mode&1)&&(h===0||h===11||h===15)){var f=d.alternate;f?(d.updateQueue=f.updateQueue,d.memoizedState=f.memoizedState,d.lanes=f.lanes):(d.updateQueue=null,d.memoizedState=null)}var v=Lu(o);if(v!==null){v.flags&=-257,Iu(v,o,a,i,e),v.mode&1&&Au(i,c,e),e=v,l=c;var y=e.updateQueue;if(y===null){var _=new Set;_.add(l),e.updateQueue=_}else y.add(l);break e}else{if(!(e&1)){Au(i,c,e),Na();break e}l=Error(N(426))}}else if(K&&a.mode&1){var k=Lu(o);if(k!==null){!(k.flags&65536)&&(k.flags|=256),Iu(k,o,a,i,e),oa(tr(l,a));break e}}i=l=tr(l,a),se!==4&&(se=2),Ir===null?Ir=[i]:Ir.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var g=hh(i,l,e);Eu(i,g);break e;case 1:a=l;var m=i.type,p=i.stateNode;if(!(i.flags&128)&&(typeof m.getDerivedStateFromError=="function"||p!==null&&typeof p.componentDidCatch=="function"&&($t===null||!$t.has(p)))){i.flags|=65536,e&=-e,i.lanes|=e;var x=fh(i,a,e);Eu(i,x);break e}}i=i.return}while(i!==null)}Rh(n)}catch(w){e=w,ne===n&&n!==null&&(ne=n=n.return);continue}break}while(1)}function Th(){var t=fi.current;return fi.current=hi,t===null?hi:t}function Na(){(se===0||se===3||se===2)&&(se=4),le===null||!(mn&268435455)&&!(Ii&268435455)||Nt(le,ue)}function gi(t,e){var n=D;D|=2;var r=Th();(le!==t||ue!==e)&&(ot=null,cn(t,e));do try{Dm();break}catch(s){Ph(t,s)}while(1);if(aa(),D=n,fi.current=r,ne!==null)throw Error(N(261));return le=null,ue=0,se}function Dm(){for(;ne!==null;)Oh(ne)}function Mm(){for(;ne!==null&&!cp();)Oh(ne)}function Oh(t){var e=Lh(t.alternate,t,Te);t.memoizedProps=t.pendingProps,e===null?Rh(t):ne=e,_a.current=null}function Rh(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=Rm(n,e),n!==null){n.flags&=32767,ne=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{se=6,ne=null;return}}else if(n=Om(n,e,Te),n!==null){ne=n;return}if(e=e.sibling,e!==null){ne=e;return}ne=e=t}while(e!==null);se===0&&(se=5)}function rn(t,e,n){var r=z,s=Me.transition;try{Me.transition=null,z=1,zm(t,e,n,r)}finally{Me.transition=s,z=r}return null}function zm(t,e,n,r){do Gn();while(Pt!==null);if(D&6)throw Error(N(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(N(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(wp(t,i),t===le&&(ne=le=null,ue=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Ps||(Ps=!0,Ih(Ys,function(){return Gn(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Me.transition,Me.transition=null;var o=z;z=1;var a=D;D|=4,_a.current=null,Lm(t,n),Nh(n,t),om(Zo),Zs=!!Xo,Zo=Xo=null,t.current=n,Im(n),dp(),D=a,z=o,Me.transition=i}else t.current=n;if(Ps&&(Ps=!1,Pt=t,mi=s),i=t.pendingLanes,i===0&&($t=null),pp(n.stateNode),Ee(t,ee()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(pi)throw pi=!1,t=xl,xl=null,t;return mi&1&&t.tag!==0&&Gn(),i=t.pendingLanes,i&1?t===wl?$r++:($r=0,wl=t):$r=0,Vt(),null}function Gn(){if(Pt!==null){var t=hd(mi),e=Me.transition,n=z;try{if(Me.transition=null,z=16>t?16:t,Pt===null)var r=!1;else{if(t=Pt,Pt=null,mi=0,D&6)throw Error(N(331));var s=D;for(D|=4,T=t.current;T!==null;){var i=T,o=i.child;if(T.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var c=a[l];for(T=c;T!==null;){var d=T;switch(d.tag){case 0:case 11:case 15:Lr(8,d,i)}var h=d.child;if(h!==null)h.return=d,T=h;else for(;T!==null;){d=T;var f=d.sibling,v=d.return;if(jh(d),d===c){T=null;break}if(f!==null){f.return=v,T=f;break}T=v}}}var y=i.alternate;if(y!==null){var _=y.child;if(_!==null){y.child=null;do{var k=_.sibling;_.sibling=null,_=k}while(_!==null)}}T=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,T=o;else e:for(;T!==null;){if(i=T,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Lr(9,i,i.return)}var g=i.sibling;if(g!==null){g.return=i.return,T=g;break e}T=i.return}}var m=t.current;for(T=m;T!==null;){o=T;var p=o.child;if(o.subtreeFlags&2064&&p!==null)p.return=o,T=p;else e:for(o=m;T!==null;){if(a=T,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:Li(9,a)}}catch(w){Y(a,a.return,w)}if(a===o){T=null;break e}var x=a.sibling;if(x!==null){x.return=a.return,T=x;break e}T=a.return}}if(D=s,Vt(),rt&&typeof rt.onPostCommitFiberRoot=="function")try{rt.onPostCommitFiberRoot(Ni,t)}catch{}r=!0}return r}finally{z=n,Me.transition=e}}return!1}function Gu(t,e,n){e=tr(n,e),e=hh(t,e,1),t=It(t,e,1),e=ye(),t!==null&&(ls(t,1,e),Ee(t,e))}function Y(t,e,n){if(t.tag===3)Gu(t,t,n);else for(;e!==null;){if(e.tag===3){Gu(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&($t===null||!$t.has(r))){t=tr(n,t),t=fh(e,t,1),e=It(e,t,1),t=ye(),e!==null&&(ls(e,1,t),Ee(e,t));break}}e=e.return}}function Fm(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=ye(),t.pingedLanes|=t.suspendedLanes&n,le===t&&(ue&n)===n&&(se===4||se===3&&(ue&130023424)===ue&&500>ee()-ja?cn(t,0):ka|=n),Ee(t,e)}function Ah(t,e){e===0&&(t.mode&1?(e=xs,xs<<=1,!(xs&130023424)&&(xs=4194304)):e=1);var n=ye();t=pt(t,e),t!==null&&(ls(t,e,n),Ee(t,n))}function Bm(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),Ah(t,n)}function Wm(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(N(314))}r!==null&&r.delete(e),Ah(t,n)}var Lh;Lh=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||be.current)Se=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return Se=!1,Tm(t,e,n);Se=!!(t.flags&131072)}else Se=!1,K&&e.flags&1048576&&Dd(e,oi,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Vs(t,e),t=e.pendingProps;var s=Yn(e,pe.current);Kn(e,n),s=ga(null,e,r,t,s,n);var i=va();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,Ne(r)?(i=!0,si(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,da(e),s.updater=Ai,e.stateNode=s,s._reactInternals=e,al(e,r,t,n),e=dl(null,e,r,!0,i,n)):(e.tag=0,K&&i&&sa(e),ve(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Vs(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=Hm(r),t=He(r,t),s){case 0:e=cl(null,e,r,t,n);break e;case 1:e=Du(null,e,r,t,n);break e;case 11:e=$u(null,e,r,t,n);break e;case 14:e=Uu(null,e,r,He(r.type,t),n);break e}throw Error(N(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:He(r,s),cl(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:He(r,s),Du(t,e,r,s,n);case 3:e:{if(vh(e),t===null)throw Error(N(387));r=e.pendingProps,i=e.memoizedState,s=i.element,Vd(t,e),ui(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=tr(Error(N(423)),e),e=Mu(t,e,r,n,s);break e}else if(r!==s){s=tr(Error(N(424)),e),e=Mu(t,e,r,n,s);break e}else for(Oe=Lt(e.stateNode.containerInfo.firstChild),Re=e,K=!0,Ge=null,n=Bd(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Xn(),r===s){e=mt(t,e,n);break e}ve(t,e,r,n)}e=e.child}return e;case 5:return Hd(e),t===null&&il(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,el(r,s)?o=null:i!==null&&el(r,i)&&(e.flags|=32),gh(t,e),ve(t,e,o,n),e.child;case 6:return t===null&&il(e),null;case 13:return yh(t,e,n);case 4:return ha(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=Zn(e,null,r,n):ve(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:He(r,s),$u(t,e,r,s,n);case 7:return ve(t,e,e.pendingProps,n),e.child;case 8:return ve(t,e,e.pendingProps.children,n),e.child;case 12:return ve(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,B(li,r._currentValue),r._currentValue=o,i!==null)if(Ye(i.value,o)){if(i.children===s.children&&!be.current){e=mt(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=dt(-1,n&-n),l.tag=2;var c=i.updateQueue;if(c!==null){c=c.shared;var d=c.pending;d===null?l.next=l:(l.next=d.next,d.next=l),c.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),ol(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(N(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),ol(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}ve(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,Kn(e,n),s=Fe(s),r=r(s),e.flags|=1,ve(t,e,r,n),e.child;case 14:return r=e.type,s=He(r,e.pendingProps),s=He(r.type,s),Uu(t,e,r,s,n);case 15:return ph(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:He(r,s),Vs(t,e),e.tag=1,Ne(r)?(t=!0,si(e)):t=!1,Kn(e,n),dh(e,r,s),al(e,r,s,n),dl(null,e,r,!0,t,n);case 19:return xh(t,e,n);case 22:return mh(t,e,n)}throw Error(N(156,e.tag))};function Ih(t,e){return ad(t,e)}function Vm(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function De(t,e,n,r){return new Vm(t,e,n,r)}function Ea(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Hm(t){if(typeof t=="function")return Ea(t)?1:0;if(t!=null){if(t=t.$$typeof,t===ql)return 11;if(t===Kl)return 14}return 2}function Dt(t,e){var n=t.alternate;return n===null?(n=De(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Ks(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")Ea(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case Rn:return dn(n.children,s,i,e);case Hl:o=8,s|=8;break;case Ro:return t=De(12,n,e,s|2),t.elementType=Ro,t.lanes=i,t;case Ao:return t=De(13,n,e,s),t.elementType=Ao,t.lanes=i,t;case Lo:return t=De(19,n,e,s),t.elementType=Lo,t.lanes=i,t;case Hc:return $i(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case Wc:o=10;break e;case Vc:o=9;break e;case ql:o=11;break e;case Kl:o=14;break e;case kt:o=16,r=null;break e}throw Error(N(130,t==null?t:typeof t,""))}return e=De(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function dn(t,e,n,r){return t=De(7,t,r,e),t.lanes=n,t}function $i(t,e,n,r){return t=De(22,t,r,e),t.elementType=Hc,t.lanes=n,t.stateNode={isHidden:!1},t}function wo(t,e,n){return t=De(6,t,null,e),t.lanes=n,t}function _o(t,e,n){return e=De(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function qm(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=eo(0),this.expirationTimes=eo(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=eo(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function Ca(t,e,n,r,s,i,o,a,l){return t=new qm(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=De(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},da(i),t}function Km(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:On,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function $h(t){if(!t)return Ft;t=t._reactInternals;e:{if(yn(t)!==t||t.tag!==1)throw Error(N(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(Ne(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(N(171))}if(t.tag===1){var n=t.type;if(Ne(n))return $d(t,n,e)}return e}function Uh(t,e,n,r,s,i,o,a,l){return t=Ca(n,r,!0,t,s,i,o,a,l),t.context=$h(null),n=t.current,r=ye(),s=Ut(n),i=dt(r,s),i.callback=e??null,It(n,i,s),t.current.lanes=s,ls(t,s,r),Ee(t,r),t}function Ui(t,e,n,r){var s=e.current,i=ye(),o=Ut(s);return n=$h(n),e.context===null?e.context=n:e.pendingContext=n,e=dt(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=It(s,e,o),t!==null&&(Je(t,s,o,i),Fs(t,s,o)),o}function vi(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Qu(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Pa(t,e){Qu(t,e),(t=t.alternate)&&Qu(t,e)}function Gm(){return null}var Dh=typeof reportError=="function"?reportError:function(t){console.error(t)};function Ta(t){this._internalRoot=t}Di.prototype.render=Ta.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(N(409));Ui(t,e,null,null)};Di.prototype.unmount=Ta.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;gn(function(){Ui(null,t,null,null)}),e[ft]=null}};function Di(t){this._internalRoot=t}Di.prototype.unstable_scheduleHydration=function(t){if(t){var e=md();t={blockedOn:null,target:t,priority:e};for(var n=0;n<bt.length&&e!==0&&e<bt[n].priority;n++);bt.splice(n,0,t),n===0&&vd(t)}};function Oa(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Mi(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function Ju(){}function Qm(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var c=vi(o);i.call(c)}}var o=Uh(e,r,t,0,null,!1,!1,"",Ju);return t._reactRootContainer=o,t[ft]=o.current,Gr(t.nodeType===8?t.parentNode:t),gn(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var c=vi(l);a.call(c)}}var l=Ca(t,0,!1,null,null,!1,!1,"",Ju);return t._reactRootContainer=l,t[ft]=l.current,Gr(t.nodeType===8?t.parentNode:t),gn(function(){Ui(e,l,n,r)}),l}function zi(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=vi(o);a.call(l)}}Ui(e,o,t,s)}else o=Qm(n,e,t,s,r);return vi(o)}fd=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Sr(e.pendingLanes);n!==0&&(Jl(e,n|1),Ee(e,ee()),!(D&6)&&(nr=ee()+500,Vt()))}break;case 13:gn(function(){var r=pt(t,1);if(r!==null){var s=ye();Je(r,t,1,s)}}),Pa(t,1)}};Yl=function(t){if(t.tag===13){var e=pt(t,134217728);if(e!==null){var n=ye();Je(e,t,134217728,n)}Pa(t,134217728)}};pd=function(t){if(t.tag===13){var e=Ut(t),n=pt(t,e);if(n!==null){var r=ye();Je(n,t,e,r)}Pa(t,e)}};md=function(){return z};gd=function(t,e){var n=z;try{return z=t,e()}finally{z=n}};Vo=function(t,e,n){switch(e){case"input":if(Uo(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Ti(r);if(!s)throw Error(N(90));Kc(r),Uo(r,s)}}}break;case"textarea":Qc(t,n);break;case"select":e=n.value,e!=null&&Wn(t,!!n.multiple,e,!1)}};nd=Sa;rd=gn;var Jm={usingClientEntryPoint:!1,Events:[us,$n,Ti,ed,td,Sa]},wr={findFiberByHostInstance:ln,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Ym={bundleType:wr.bundleType,version:wr.version,rendererPackageName:wr.rendererPackageName,rendererConfig:wr.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:gt.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=od(t),t===null?null:t.stateNode},findFiberByHostInstance:wr.findFiberByHostInstance||Gm,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ts=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ts.isDisabled&&Ts.supportsFiber)try{Ni=Ts.inject(Ym),rt=Ts}catch{}}Le.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Jm;Le.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Oa(e))throw Error(N(200));return Km(t,e,null,n)};Le.createRoot=function(t,e){if(!Oa(t))throw Error(N(299));var n=!1,r="",s=Dh;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=Ca(t,1,!1,null,null,n,!1,r,s),t[ft]=e.current,Gr(t.nodeType===8?t.parentNode:t),new Ta(e)};Le.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(N(188)):(t=Object.keys(t).join(","),Error(N(268,t)));return t=od(e),t=t===null?null:t.stateNode,t};Le.flushSync=function(t){return gn(t)};Le.hydrate=function(t,e,n){if(!Mi(e))throw Error(N(200));return zi(null,t,e,!0,n)};Le.hydrateRoot=function(t,e,n){if(!Oa(t))throw Error(N(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=Dh;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=Uh(e,null,t,1,n??null,s,!1,i,o),t[ft]=e.current,Gr(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Di(e)};Le.render=function(t,e,n){if(!Mi(e))throw Error(N(200));return zi(null,t,e,!1,n)};Le.unmountComponentAtNode=function(t){if(!Mi(t))throw Error(N(40));return t._reactRootContainer?(gn(function(){zi(null,null,t,!1,function(){t._reactRootContainer=null,t[ft]=null})}),!0):!1};Le.unstable_batchedUpdates=Sa;Le.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Mi(n))throw Error(N(200));if(t==null||t._reactInternals===void 0)throw Error(N(38));return zi(t,e,n,!1,r)};Le.version="18.3.1-next-f1338f8080-20240426";function Mh(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(Mh)}catch(t){console.error(t)}}Mh(),Mc.exports=Le;var Xm=Mc.exports,Yu=Xm;To.createRoot=Yu.createRoot,To.hydrateRoot=Yu.hydrateRoot;/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function rs(){return rs=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},rs.apply(this,arguments)}var Tt;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Tt||(Tt={}));const Xu="popstate";function Zm(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return jl("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:yi(s)}return tg(e,n,null,t)}function te(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function zh(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function eg(){return Math.random().toString(36).substr(2,8)}function Zu(t,e){return{usr:t.state,key:t.key,idx:e}}function jl(t,e,n,r){return n===void 0&&(n=null),rs({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?ar(e):e,{state:n,key:e&&e.key||r||eg()})}function yi(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function ar(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function tg(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=Tt.Pop,l=null,c=d();c==null&&(c=0,o.replaceState(rs({},o.state,{idx:c}),""));function d(){return(o.state||{idx:null}).idx}function h(){a=Tt.Pop;let k=d(),g=k==null?null:k-c;c=k,l&&l({action:a,location:_.location,delta:g})}function f(k,g){a=Tt.Push;let m=jl(_.location,k,g);n&&n(m,k),c=d()+1;let p=Zu(m,c),x=_.createHref(m);try{o.pushState(p,"",x)}catch(w){if(w instanceof DOMException&&w.name==="DataCloneError")throw w;s.location.assign(x)}i&&l&&l({action:a,location:_.location,delta:1})}function v(k,g){a=Tt.Replace;let m=jl(_.location,k,g);n&&n(m,k),c=d();let p=Zu(m,c),x=_.createHref(m);o.replaceState(p,"",x),i&&l&&l({action:a,location:_.location,delta:0})}function y(k){let g=s.location.origin!=="null"?s.location.origin:s.location.href,m=typeof k=="string"?k:yi(k);return m=m.replace(/ $/,"%20"),te(g,"No window.location.(origin|href) available to create URL for href: "+m),new URL(m,g)}let _={get action(){return a},get location(){return t(s,o)},listen(k){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(Xu,h),l=k,()=>{s.removeEventListener(Xu,h),l=null}},createHref(k){return e(s,k)},createURL:y,encodeLocation(k){let g=y(k);return{pathname:g.pathname,search:g.search,hash:g.hash}},push:f,replace:v,go(k){return o.go(k)}};return _}var ec;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(ec||(ec={}));function ng(t,e,n){return n===void 0&&(n="/"),rg(t,e,n,!1)}function rg(t,e,n,r){let s=typeof e=="string"?ar(e):e,i=Ra(s.pathname||"/",n);if(i==null)return null;let o=Fh(t);sg(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let c=mg(i);a=fg(o[l],c,r)}return a}function Fh(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(te(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let c=Mt([r,l.relativePath]),d=n.concat(l);i.children&&i.children.length>0&&(te(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+c+'".')),Fh(i.children,e,d,c)),!(i.path==null&&!i.index)&&e.push({path:c,score:dg(c,i.index),routesMeta:d})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of Bh(i.path))s(i,o,l)}),e}function Bh(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=Bh(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function sg(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:hg(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const ig=/^:[\w-]+$/,og=3,lg=2,ag=1,ug=10,cg=-2,tc=t=>t==="*";function dg(t,e){let n=t.split("/"),r=n.length;return n.some(tc)&&(r+=cg),e&&(r+=lg),n.filter(s=>!tc(s)).reduce((s,i)=>s+(ig.test(i)?og:i===""?ag:ug),r)}function hg(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function fg(t,e,n){n===void 0&&(n=!1);let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],c=a===r.length-1,d=i==="/"?e:e.slice(i.length)||"/",h=nc({path:l.relativePath,caseSensitive:l.caseSensitive,end:c},d),f=l.route;if(!h&&c&&n&&!r[r.length-1].route.index&&(h=nc({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},d)),!h)return null;Object.assign(s,h.params),o.push({params:s,pathname:Mt([i,h.pathname]),pathnameBase:xg(Mt([i,h.pathnameBase])),route:f}),h.pathnameBase!=="/"&&(i=Mt([i,h.pathnameBase]))}return o}function nc(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=pg(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((c,d,h)=>{let{paramName:f,isOptional:v}=d;if(f==="*"){let _=a[h]||"";o=i.slice(0,i.length-_.length).replace(/(.)\/+$/,"$1")}const y=a[h];return v&&!y?c[f]=void 0:c[f]=(y||"").replace(/%2F/g,"/"),c},{}),pathname:i,pathnameBase:o,pattern:t}}function pg(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),zh(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function mg(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return zh(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Ra(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function gg(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?ar(t):t;return{pathname:n?n.startsWith("/")?n:vg(n,e):e,search:wg(r),hash:_g(s)}}function vg(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function ko(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function yg(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Aa(t,e){let n=yg(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function La(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=ar(t):(s=rs({},t),te(!s.pathname||!s.pathname.includes("?"),ko("?","pathname","search",s)),te(!s.pathname||!s.pathname.includes("#"),ko("#","pathname","hash",s)),te(!s.search||!s.search.includes("#"),ko("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let h=e.length-1;if(!r&&o.startsWith("..")){let f=o.split("/");for(;f[0]==="..";)f.shift(),h-=1;s.pathname=f.join("/")}a=h>=0?e[h]:"/"}let l=gg(s,a),c=o&&o!=="/"&&o.endsWith("/"),d=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(c||d)&&(l.pathname+="/"),l}const Mt=t=>t.join("/").replace(/\/\/+/g,"/"),xg=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),wg=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,_g=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function kg(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const Wh=["post","put","patch","delete"];new Set(Wh);const jg=["get",...Wh];new Set(jg);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function ss(){return ss=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},ss.apply(this,arguments)}const Ia=j.createContext(null),Sg=j.createContext(null),Ht=j.createContext(null),Fi=j.createContext(null),vt=j.createContext({outlet:null,matches:[],isDataRoute:!1}),Vh=j.createContext(null);function bg(t,e){let{relative:n}=e===void 0?{}:e;ur()||te(!1);let{basename:r,navigator:s}=j.useContext(Ht),{hash:i,pathname:o,search:a}=qh(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:Mt([r,o])),s.createHref({pathname:l,search:a,hash:i})}function ur(){return j.useContext(Fi)!=null}function cr(){return ur()||te(!1),j.useContext(Fi).location}function Hh(t){j.useContext(Ht).static||j.useLayoutEffect(t)}function qt(){let{isDataRoute:t}=j.useContext(vt);return t?Mg():Ng()}function Ng(){ur()||te(!1);let t=j.useContext(Ia),{basename:e,future:n,navigator:r}=j.useContext(Ht),{matches:s}=j.useContext(vt),{pathname:i}=cr(),o=JSON.stringify(Aa(s,n.v7_relativeSplatPath)),a=j.useRef(!1);return Hh(()=>{a.current=!0}),j.useCallback(function(c,d){if(d===void 0&&(d={}),!a.current)return;if(typeof c=="number"){r.go(c);return}let h=La(c,JSON.parse(o),i,d.relative==="path");t==null&&e!=="/"&&(h.pathname=h.pathname==="/"?e:Mt([e,h.pathname])),(d.replace?r.replace:r.push)(h,d.state,d)},[e,r,o,i,t])}function Eg(){let{matches:t}=j.useContext(vt),e=t[t.length-1];return e?e.params:{}}function qh(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=j.useContext(Ht),{matches:s}=j.useContext(vt),{pathname:i}=cr(),o=JSON.stringify(Aa(s,r.v7_relativeSplatPath));return j.useMemo(()=>La(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function Cg(t,e){return Pg(t,e)}function Pg(t,e,n,r){ur()||te(!1);let{navigator:s}=j.useContext(Ht),{matches:i}=j.useContext(vt),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let c=cr(),d;if(e){var h;let k=typeof e=="string"?ar(e):e;l==="/"||(h=k.pathname)!=null&&h.startsWith(l)||te(!1),d=k}else d=c;let f=d.pathname||"/",v=f;if(l!=="/"){let k=l.replace(/^\//,"").split("/");v="/"+f.replace(/^\//,"").split("/").slice(k.length).join("/")}let y=ng(t,{pathname:v}),_=Lg(y&&y.map(k=>Object.assign({},k,{params:Object.assign({},a,k.params),pathname:Mt([l,s.encodeLocation?s.encodeLocation(k.pathname).pathname:k.pathname]),pathnameBase:k.pathnameBase==="/"?l:Mt([l,s.encodeLocation?s.encodeLocation(k.pathnameBase).pathname:k.pathnameBase])})),i,n,r);return e&&_?j.createElement(Fi.Provider,{value:{location:ss({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:Tt.Pop}},_):_}function Tg(){let t=Dg(),e=kg(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"},i=null;return j.createElement(j.Fragment,null,j.createElement("h2",null,"Unexpected Application Error!"),j.createElement("h3",{style:{fontStyle:"italic"}},e),n?j.createElement("pre",{style:s},n):null,i)}const Og=j.createElement(Tg,null);class Rg extends j.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?j.createElement(vt.Provider,{value:this.props.routeContext},j.createElement(Vh.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function Ag(t){let{routeContext:e,match:n,children:r}=t,s=j.useContext(Ia);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),j.createElement(vt.Provider,{value:e},r)}function Lg(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let d=o.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);d>=0||te(!1),o=o.slice(0,Math.min(o.length,d+1))}let l=!1,c=-1;if(n&&r&&r.v7_partialHydration)for(let d=0;d<o.length;d++){let h=o[d];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=d),h.route.id){let{loaderData:f,errors:v}=n,y=h.route.loader&&f[h.route.id]===void 0&&(!v||v[h.route.id]===void 0);if(h.route.lazy||y){l=!0,c>=0?o=o.slice(0,c+1):o=[o[0]];break}}}return o.reduceRight((d,h,f)=>{let v,y=!1,_=null,k=null;n&&(v=a&&h.route.id?a[h.route.id]:void 0,_=h.route.errorElement||Og,l&&(c<0&&f===0?(zg("route-fallback",!1),y=!0,k=null):c===f&&(y=!0,k=h.route.hydrateFallbackElement||null)));let g=e.concat(o.slice(0,f+1)),m=()=>{let p;return v?p=_:y?p=k:h.route.Component?p=j.createElement(h.route.Component,null):h.route.element?p=h.route.element:p=d,j.createElement(Ag,{match:h,routeContext:{outlet:d,matches:g,isDataRoute:n!=null},children:p})};return n&&(h.route.ErrorBoundary||h.route.errorElement||f===0)?j.createElement(Rg,{location:n.location,revalidation:n.revalidation,component:_,error:v,children:m(),routeContext:{outlet:null,matches:g,isDataRoute:!0}}):m()},null)}var Kh=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(Kh||{}),xi=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(xi||{});function Ig(t){let e=j.useContext(Ia);return e||te(!1),e}function $g(t){let e=j.useContext(Sg);return e||te(!1),e}function Ug(t){let e=j.useContext(vt);return e||te(!1),e}function Gh(t){let e=Ug(),n=e.matches[e.matches.length-1];return n.route.id||te(!1),n.route.id}function Dg(){var t;let e=j.useContext(Vh),n=$g(xi.UseRouteError),r=Gh(xi.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function Mg(){let{router:t}=Ig(Kh.UseNavigateStable),e=Gh(xi.UseNavigateStable),n=j.useRef(!1);return Hh(()=>{n.current=!0}),j.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,ss({fromRouteId:e},i)))},[t,e])}const rc={};function zg(t,e,n){!e&&!rc[t]&&(rc[t]=!0)}function Fg(t,e){t==null||t.v7_startTransition,(t==null?void 0:t.v7_relativeSplatPath)===void 0&&(!e||e.v7_relativeSplatPath),e&&(e.v7_fetcherPersist,e.v7_normalizeFormMethod,e.v7_partialHydration,e.v7_skipActionErrorRevalidation)}function Bg(t){let{to:e,replace:n,state:r,relative:s}=t;ur()||te(!1);let{future:i,static:o}=j.useContext(Ht),{matches:a}=j.useContext(vt),{pathname:l}=cr(),c=qt(),d=La(e,Aa(a,i.v7_relativeSplatPath),l,s==="path"),h=JSON.stringify(d);return j.useEffect(()=>c(JSON.parse(h),{replace:n,state:r,relative:s}),[c,h,s,n,r]),null}function Nr(t){te(!1)}function Wg(t){let{basename:e="/",children:n=null,location:r,navigationType:s=Tt.Pop,navigator:i,static:o=!1,future:a}=t;ur()&&te(!1);let l=e.replace(/^\/*/,"/"),c=j.useMemo(()=>({basename:l,navigator:i,static:o,future:ss({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=ar(r));let{pathname:d="/",search:h="",hash:f="",state:v=null,key:y="default"}=r,_=j.useMemo(()=>{let k=Ra(d,l);return k==null?null:{location:{pathname:k,search:h,hash:f,state:v,key:y},navigationType:s}},[l,d,h,f,v,y,s]);return _==null?null:j.createElement(Ht.Provider,{value:c},j.createElement(Fi.Provider,{children:n,value:_}))}function Vg(t){let{children:e,location:n}=t;return Cg(Sl(e),n)}new Promise(()=>{});function Sl(t,e){e===void 0&&(e=[]);let n=[];return j.Children.forEach(t,(r,s)=>{if(!j.isValidElement(r))return;let i=[...e,s];if(r.type===j.Fragment){n.push.apply(n,Sl(r.props.children,i));return}r.type!==Nr&&te(!1),!r.props.index||!r.props.children||te(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Sl(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function bl(){return bl=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},bl.apply(this,arguments)}function Hg(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function qg(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function Kg(t,e){return t.button===0&&(!e||e==="_self")&&!qg(t)}function Nl(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(s=>[n,s]):[[n,r]])},[]))}function Gg(t,e){let n=Nl(t);return e&&e.forEach((r,s)=>{n.has(s)||e.getAll(s).forEach(i=>{n.append(s,i)})}),n}const Qg=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],Jg="6";try{window.__reactRouterVersion=Jg}catch{}const Yg="startTransition",sc=Ff[Yg];function Xg(t){let{basename:e,children:n,future:r,window:s}=t,i=j.useRef();i.current==null&&(i.current=Zm({window:s,v5Compat:!0}));let o=i.current,[a,l]=j.useState({action:o.action,location:o.location}),{v7_startTransition:c}=r||{},d=j.useCallback(h=>{c&&sc?sc(()=>l(h)):l(h)},[l,c]);return j.useLayoutEffect(()=>o.listen(d),[o,d]),j.useEffect(()=>Fg(r),[r]),j.createElement(Wg,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const Zg=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",ev=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ic=j.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:c,preventScrollReset:d,viewTransition:h}=e,f=Hg(e,Qg),{basename:v}=j.useContext(Ht),y,_=!1;if(typeof c=="string"&&ev.test(c)&&(y=c,Zg))try{let p=new URL(window.location.href),x=c.startsWith("//")?new URL(p.protocol+c):new URL(c),w=Ra(x.pathname,v);x.origin===p.origin&&w!=null?c=w+x.search+x.hash:_=!0}catch{}let k=bg(c,{relative:s}),g=tv(c,{replace:o,state:a,target:l,preventScrollReset:d,relative:s,viewTransition:h});function m(p){r&&r(p),p.defaultPrevented||g(p)}return j.createElement("a",bl({},f,{href:y||k,onClick:_||i?r:m,ref:n,target:l}))});var oc;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(oc||(oc={}));var lc;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(lc||(lc={}));function tv(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=e===void 0?{}:e,l=qt(),c=cr(),d=qh(t,{relative:o});return j.useCallback(h=>{if(Kg(h,n)){h.preventDefault();let f=r!==void 0?r:yi(c)===yi(d);l(t,{replace:f,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[c,l,d,r,s,n,t,i,o,a])}function nv(t){let e=j.useRef(Nl(t)),n=j.useRef(!1),r=cr(),s=j.useMemo(()=>Gg(r.search,n.current?null:e.current),[r.search]),i=qt(),o=j.useCallback((a,l)=>{const c=Nl(typeof a=="function"?a(s):a);n.current=!0,i("?"+c,l)},[i,s]);return[s,o]}const rv="modulepreload",sv=function(t){return"/"+t},ac={},ds=function(e,n,r){if(!n||n.length===0)return e();const s=document.getElementsByTagName("link");return Promise.all(n.map(i=>{if(i=sv(i),i in ac)return;ac[i]=!0;const o=i.endsWith(".css"),a=o?'[rel="stylesheet"]':"";if(!!r)for(let d=s.length-1;d>=0;d--){const h=s[d];if(h.href===i&&(!o||h.rel==="stylesheet"))return}else if(document.querySelector(`link[href="${i}"]${a}`))return;const c=document.createElement("link");if(c.rel=o?"stylesheet":rv,o||(c.as="script",c.crossOrigin=""),c.href=i,document.head.appendChild(c),o)return new Promise((d,h)=>{c.addEventListener("load",d),c.addEventListener("error",()=>h(new Error(`Unable to preload CSS for ${i}`)))})})).then(()=>e()).catch(i=>{const o=new Event("vite:preloadError",{cancelable:!0});if(o.payload=i,window.dispatchEvent(o),!o.defaultPrevented)throw i})},iv=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>ds(()=>Promise.resolve().then(()=>dr),void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)};class $a extends Error{constructor(e,n="FunctionsError",r){super(e),this.name=n,this.context=r}}class ov extends $a{constructor(e){super("Failed to send a request to the Edge Function","FunctionsFetchError",e)}}class lv extends $a{constructor(e){super("Relay Error invoking the Edge Function","FunctionsRelayError",e)}}class av extends $a{constructor(e){super("Edge Function returned a non-2xx status code","FunctionsHttpError",e)}}var El;(function(t){t.Any="any",t.ApNortheast1="ap-northeast-1",t.ApNortheast2="ap-northeast-2",t.ApSouth1="ap-south-1",t.ApSoutheast1="ap-southeast-1",t.ApSoutheast2="ap-southeast-2",t.CaCentral1="ca-central-1",t.EuCentral1="eu-central-1",t.EuWest1="eu-west-1",t.EuWest2="eu-west-2",t.EuWest3="eu-west-3",t.SaEast1="sa-east-1",t.UsEast1="us-east-1",t.UsWest1="us-west-1",t.UsWest2="us-west-2"})(El||(El={}));var uv=globalThis&&globalThis.__awaiter||function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{c(r.next(d))}catch(h){o(h)}}function l(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};class cv{constructor(e,{headers:n={},customFetch:r,region:s=El.Any}={}){this.url=e,this.headers=n,this.region=s,this.fetch=iv(r)}setAuth(e){this.headers.Authorization=`Bearer ${e}`}invoke(e,n={}){var r;return uv(this,void 0,void 0,function*(){try{const{headers:s,method:i,body:o}=n;let a={},{region:l}=n;l||(l=this.region),l&&l!=="any"&&(a["x-region"]=l);let c;o&&(s&&!Object.prototype.hasOwnProperty.call(s,"Content-Type")||!s)&&(typeof Blob<"u"&&o instanceof Blob||o instanceof ArrayBuffer?(a["Content-Type"]="application/octet-stream",c=o):typeof o=="string"?(a["Content-Type"]="text/plain",c=o):typeof FormData<"u"&&o instanceof FormData?c=o:(a["Content-Type"]="application/json",c=JSON.stringify(o)));const d=yield this.fetch(`${this.url}/${e}`,{method:i||"POST",headers:Object.assign(Object.assign(Object.assign({},a),this.headers),s),body:c}).catch(y=>{throw new ov(y)}),h=d.headers.get("x-relay-error");if(h&&h==="true")throw new lv(d);if(!d.ok)throw new av(d);let f=((r=d.headers.get("Content-Type"))!==null&&r!==void 0?r:"text/plain").split(";")[0].trim(),v;return f==="application/json"?v=yield d.json():f==="application/octet-stream"?v=yield d.blob():f==="text/event-stream"?v=d:f==="multipart/form-data"?v=yield d.formData():v=yield d.text(),{data:v,error:null}}catch(s){return{data:null,error:s}}})}}var je={},Ua={},Bi={},hs={},Wi={},Vi={},dv=function(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("unable to locate global object")},rr=dv();const hv=rr.fetch,Qh=rr.fetch.bind(rr),Jh=rr.Headers,fv=rr.Request,pv=rr.Response,dr=Object.freeze(Object.defineProperty({__proto__:null,Headers:Jh,Request:fv,Response:pv,default:Qh,fetch:hv},Symbol.toStringTag,{value:"Module"})),mv=bf(dr);var Hi={};Object.defineProperty(Hi,"__esModule",{value:!0});let gv=class extends Error{constructor(e){super(e.message),this.name="PostgrestError",this.details=e.details,this.hint=e.hint,this.code=e.code}};Hi.default=gv;var Yh=ze&&ze.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Vi,"__esModule",{value:!0});const vv=Yh(mv),yv=Yh(Hi);let xv=class{constructor(e){this.shouldThrowOnError=!1,this.method=e.method,this.url=e.url,this.headers=e.headers,this.schema=e.schema,this.body=e.body,this.shouldThrowOnError=e.shouldThrowOnError,this.signal=e.signal,this.isMaybeSingle=e.isMaybeSingle,e.fetch?this.fetch=e.fetch:typeof fetch>"u"?this.fetch=vv.default:this.fetch=fetch}throwOnError(){return this.shouldThrowOnError=!0,this}setHeader(e,n){return this.headers=Object.assign({},this.headers),this.headers[e]=n,this}then(e,n){this.schema===void 0||(["GET","HEAD"].includes(this.method)?this.headers["Accept-Profile"]=this.schema:this.headers["Content-Profile"]=this.schema),this.method!=="GET"&&this.method!=="HEAD"&&(this.headers["Content-Type"]="application/json");const r=this.fetch;let s=r(this.url.toString(),{method:this.method,headers:this.headers,body:JSON.stringify(this.body),signal:this.signal}).then(async i=>{var o,a,l;let c=null,d=null,h=null,f=i.status,v=i.statusText;if(i.ok){if(this.method!=="HEAD"){const g=await i.text();g===""||(this.headers.Accept==="text/csv"||this.headers.Accept&&this.headers.Accept.includes("application/vnd.pgrst.plan+text")?d=g:d=JSON.parse(g))}const _=(o=this.headers.Prefer)===null||o===void 0?void 0:o.match(/count=(exact|planned|estimated)/),k=(a=i.headers.get("content-range"))===null||a===void 0?void 0:a.split("/");_&&k&&k.length>1&&(h=parseInt(k[1])),this.isMaybeSingle&&this.method==="GET"&&Array.isArray(d)&&(d.length>1?(c={code:"PGRST116",details:`Results contain ${d.length} rows, application/vnd.pgrst.object+json requires 1 row`,hint:null,message:"JSON object requested, multiple (or no) rows returned"},d=null,h=null,f=406,v="Not Acceptable"):d.length===1?d=d[0]:d=null)}else{const _=await i.text();try{c=JSON.parse(_),Array.isArray(c)&&i.status===404&&(d=[],c=null,f=200,v="OK")}catch{i.status===404&&_===""?(f=204,v="No Content"):c={message:_}}if(c&&this.isMaybeSingle&&(!((l=c==null?void 0:c.details)===null||l===void 0)&&l.includes("0 rows"))&&(c=null,f=200,v="OK"),c&&this.shouldThrowOnError)throw new yv.default(c)}return{error:c,data:d,count:h,status:f,statusText:v}});return this.shouldThrowOnError||(s=s.catch(i=>{var o,a,l;return{error:{message:`${(o=i==null?void 0:i.name)!==null&&o!==void 0?o:"FetchError"}: ${i==null?void 0:i.message}`,details:`${(a=i==null?void 0:i.stack)!==null&&a!==void 0?a:""}`,hint:"",code:`${(l=i==null?void 0:i.code)!==null&&l!==void 0?l:""}`},data:null,count:null,status:0,statusText:""}})),s.then(e,n)}returns(){return this}overrideTypes(){return this}};Vi.default=xv;var wv=ze&&ze.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Wi,"__esModule",{value:!0});const _v=wv(Vi);let kv=class extends _v.default{select(e){let n=!1;const r=(e??"*").split("").map(s=>/\s/.test(s)&&!n?"":(s==='"'&&(n=!n),s)).join("");return this.url.searchParams.set("select",r),this.headers.Prefer&&(this.headers.Prefer+=","),this.headers.Prefer+="return=representation",this}order(e,{ascending:n=!0,nullsFirst:r,foreignTable:s,referencedTable:i=s}={}){const o=i?`${i}.order`:"order",a=this.url.searchParams.get(o);return this.url.searchParams.set(o,`${a?`${a},`:""}${e}.${n?"asc":"desc"}${r===void 0?"":r?".nullsfirst":".nullslast"}`),this}limit(e,{foreignTable:n,referencedTable:r=n}={}){const s=typeof r>"u"?"limit":`${r}.limit`;return this.url.searchParams.set(s,`${e}`),this}range(e,n,{foreignTable:r,referencedTable:s=r}={}){const i=typeof s>"u"?"offset":`${s}.offset`,o=typeof s>"u"?"limit":`${s}.limit`;return this.url.searchParams.set(i,`${e}`),this.url.searchParams.set(o,`${n-e+1}`),this}abortSignal(e){return this.signal=e,this}single(){return this.headers.Accept="application/vnd.pgrst.object+json",this}maybeSingle(){return this.method==="GET"?this.headers.Accept="application/json":this.headers.Accept="application/vnd.pgrst.object+json",this.isMaybeSingle=!0,this}csv(){return this.headers.Accept="text/csv",this}geojson(){return this.headers.Accept="application/geo+json",this}explain({analyze:e=!1,verbose:n=!1,settings:r=!1,buffers:s=!1,wal:i=!1,format:o="text"}={}){var a;const l=[e?"analyze":null,n?"verbose":null,r?"settings":null,s?"buffers":null,i?"wal":null].filter(Boolean).join("|"),c=(a=this.headers.Accept)!==null&&a!==void 0?a:"application/json";return this.headers.Accept=`application/vnd.pgrst.plan+${o}; for="${c}"; options=${l};`,o==="json"?this:this}rollback(){var e;return((e=this.headers.Prefer)!==null&&e!==void 0?e:"").trim().length>0?this.headers.Prefer+=",tx=rollback":this.headers.Prefer="tx=rollback",this}returns(){return this}};Wi.default=kv;var jv=ze&&ze.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(hs,"__esModule",{value:!0});const Sv=jv(Wi);let bv=class extends Sv.default{eq(e,n){return this.url.searchParams.append(e,`eq.${n}`),this}neq(e,n){return this.url.searchParams.append(e,`neq.${n}`),this}gt(e,n){return this.url.searchParams.append(e,`gt.${n}`),this}gte(e,n){return this.url.searchParams.append(e,`gte.${n}`),this}lt(e,n){return this.url.searchParams.append(e,`lt.${n}`),this}lte(e,n){return this.url.searchParams.append(e,`lte.${n}`),this}like(e,n){return this.url.searchParams.append(e,`like.${n}`),this}likeAllOf(e,n){return this.url.searchParams.append(e,`like(all).{${n.join(",")}}`),this}likeAnyOf(e,n){return this.url.searchParams.append(e,`like(any).{${n.join(",")}}`),this}ilike(e,n){return this.url.searchParams.append(e,`ilike.${n}`),this}ilikeAllOf(e,n){return this.url.searchParams.append(e,`ilike(all).{${n.join(",")}}`),this}ilikeAnyOf(e,n){return this.url.searchParams.append(e,`ilike(any).{${n.join(",")}}`),this}is(e,n){return this.url.searchParams.append(e,`is.${n}`),this}in(e,n){const r=Array.from(new Set(n)).map(s=>typeof s=="string"&&new RegExp("[,()]").test(s)?`"${s}"`:`${s}`).join(",");return this.url.searchParams.append(e,`in.(${r})`),this}contains(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cs.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cs.{${n.join(",")}}`):this.url.searchParams.append(e,`cs.${JSON.stringify(n)}`),this}containedBy(e,n){return typeof n=="string"?this.url.searchParams.append(e,`cd.${n}`):Array.isArray(n)?this.url.searchParams.append(e,`cd.{${n.join(",")}}`):this.url.searchParams.append(e,`cd.${JSON.stringify(n)}`),this}rangeGt(e,n){return this.url.searchParams.append(e,`sr.${n}`),this}rangeGte(e,n){return this.url.searchParams.append(e,`nxl.${n}`),this}rangeLt(e,n){return this.url.searchParams.append(e,`sl.${n}`),this}rangeLte(e,n){return this.url.searchParams.append(e,`nxr.${n}`),this}rangeAdjacent(e,n){return this.url.searchParams.append(e,`adj.${n}`),this}overlaps(e,n){return typeof n=="string"?this.url.searchParams.append(e,`ov.${n}`):this.url.searchParams.append(e,`ov.{${n.join(",")}}`),this}textSearch(e,n,{config:r,type:s}={}){let i="";s==="plain"?i="pl":s==="phrase"?i="ph":s==="websearch"&&(i="w");const o=r===void 0?"":`(${r})`;return this.url.searchParams.append(e,`${i}fts${o}.${n}`),this}match(e){return Object.entries(e).forEach(([n,r])=>{this.url.searchParams.append(n,`eq.${r}`)}),this}not(e,n,r){return this.url.searchParams.append(e,`not.${n}.${r}`),this}or(e,{foreignTable:n,referencedTable:r=n}={}){const s=r?`${r}.or`:"or";return this.url.searchParams.append(s,`(${e})`),this}filter(e,n,r){return this.url.searchParams.append(e,`${n}.${r}`),this}};hs.default=bv;var Nv=ze&&ze.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Bi,"__esModule",{value:!0});const _r=Nv(hs);let Ev=class{constructor(e,{headers:n={},schema:r,fetch:s}){this.url=e,this.headers=n,this.schema=r,this.fetch=s}select(e,{head:n=!1,count:r}={}){const s=n?"HEAD":"GET";let i=!1;const o=(e??"*").split("").map(a=>/\s/.test(a)&&!i?"":(a==='"'&&(i=!i),a)).join("");return this.url.searchParams.set("select",o),r&&(this.headers.Prefer=`count=${r}`),new _r.default({method:s,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}insert(e,{count:n,defaultToNull:r=!0}={}){const s="POST",i=[];if(this.headers.Prefer&&i.push(this.headers.Prefer),n&&i.push(`count=${n}`),r||i.push("missing=default"),this.headers.Prefer=i.join(","),Array.isArray(e)){const o=e.reduce((a,l)=>a.concat(Object.keys(l)),[]);if(o.length>0){const a=[...new Set(o)].map(l=>`"${l}"`);this.url.searchParams.set("columns",a.join(","))}}return new _r.default({method:s,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}upsert(e,{onConflict:n,ignoreDuplicates:r=!1,count:s,defaultToNull:i=!0}={}){const o="POST",a=[`resolution=${r?"ignore":"merge"}-duplicates`];if(n!==void 0&&this.url.searchParams.set("on_conflict",n),this.headers.Prefer&&a.push(this.headers.Prefer),s&&a.push(`count=${s}`),i||a.push("missing=default"),this.headers.Prefer=a.join(","),Array.isArray(e)){const l=e.reduce((c,d)=>c.concat(Object.keys(d)),[]);if(l.length>0){const c=[...new Set(l)].map(d=>`"${d}"`);this.url.searchParams.set("columns",c.join(","))}}return new _r.default({method:o,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}update(e,{count:n}={}){const r="PATCH",s=[];return this.headers.Prefer&&s.push(this.headers.Prefer),n&&s.push(`count=${n}`),this.headers.Prefer=s.join(","),new _r.default({method:r,url:this.url,headers:this.headers,schema:this.schema,body:e,fetch:this.fetch,allowEmpty:!1})}delete({count:e}={}){const n="DELETE",r=[];return e&&r.push(`count=${e}`),this.headers.Prefer&&r.unshift(this.headers.Prefer),this.headers.Prefer=r.join(","),new _r.default({method:n,url:this.url,headers:this.headers,schema:this.schema,fetch:this.fetch,allowEmpty:!1})}};Bi.default=Ev;var qi={},Ki={};Object.defineProperty(Ki,"__esModule",{value:!0});Ki.version=void 0;Ki.version="0.0.0-automated";Object.defineProperty(qi,"__esModule",{value:!0});qi.DEFAULT_HEADERS=void 0;const Cv=Ki;qi.DEFAULT_HEADERS={"X-Client-Info":`postgrest-js/${Cv.version}`};var Xh=ze&&ze.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(Ua,"__esModule",{value:!0});const Pv=Xh(Bi),Tv=Xh(hs),Ov=qi;let Rv=class Zh{constructor(e,{headers:n={},schema:r,fetch:s}={}){this.url=e,this.headers=Object.assign(Object.assign({},Ov.DEFAULT_HEADERS),n),this.schemaName=r,this.fetch=s}from(e){const n=new URL(`${this.url}/${e}`);return new Pv.default(n,{headers:Object.assign({},this.headers),schema:this.schemaName,fetch:this.fetch})}schema(e){return new Zh(this.url,{headers:this.headers,schema:e,fetch:this.fetch})}rpc(e,n={},{head:r=!1,get:s=!1,count:i}={}){let o;const a=new URL(`${this.url}/rpc/${e}`);let l;r||s?(o=r?"HEAD":"GET",Object.entries(n).filter(([d,h])=>h!==void 0).map(([d,h])=>[d,Array.isArray(h)?`{${h.join(",")}}`:`${h}`]).forEach(([d,h])=>{a.searchParams.append(d,h)})):(o="POST",l=n);const c=Object.assign({},this.headers);return i&&(c.Prefer=`count=${i}`),new Tv.default({method:o,url:a,headers:c,schema:this.schemaName,body:l,fetch:this.fetch,allowEmpty:!1})}};Ua.default=Rv;var hr=ze&&ze.__importDefault||function(t){return t&&t.__esModule?t:{default:t}};Object.defineProperty(je,"__esModule",{value:!0});je.PostgrestError=je.PostgrestBuilder=je.PostgrestTransformBuilder=je.PostgrestFilterBuilder=je.PostgrestQueryBuilder=je.PostgrestClient=void 0;const ef=hr(Ua);je.PostgrestClient=ef.default;const tf=hr(Bi);je.PostgrestQueryBuilder=tf.default;const nf=hr(hs);je.PostgrestFilterBuilder=nf.default;const rf=hr(Wi);je.PostgrestTransformBuilder=rf.default;const sf=hr(Vi);je.PostgrestBuilder=sf.default;const of=hr(Hi);je.PostgrestError=of.default;var Av=je.default={PostgrestClient:ef.default,PostgrestQueryBuilder:tf.default,PostgrestFilterBuilder:nf.default,PostgrestTransformBuilder:rf.default,PostgrestBuilder:sf.default,PostgrestError:of.default};const{PostgrestClient:Lv,PostgrestQueryBuilder:ax,PostgrestFilterBuilder:ux,PostgrestTransformBuilder:cx,PostgrestBuilder:dx,PostgrestError:hx}=Av;let Cl;typeof window>"u"?Cl=require("ws"):Cl=window.WebSocket;const Iv=Cl,$v="2.11.10",Uv={"X-Client-Info":`realtime-js/${$v}`},Dv="1.0.0",lf=1e4,Mv=1e3;var Qn;(function(t){t[t.connecting=0]="connecting",t[t.open=1]="open",t[t.closing=2]="closing",t[t.closed=3]="closed"})(Qn||(Qn={}));var ge;(function(t){t.closed="closed",t.errored="errored",t.joined="joined",t.joining="joining",t.leaving="leaving"})(ge||(ge={}));var Ke;(function(t){t.close="phx_close",t.error="phx_error",t.join="phx_join",t.reply="phx_reply",t.leave="phx_leave",t.access_token="access_token"})(Ke||(Ke={}));var Pl;(function(t){t.websocket="websocket"})(Pl||(Pl={}));var on;(function(t){t.Connecting="connecting",t.Open="open",t.Closing="closing",t.Closed="closed"})(on||(on={}));class zv{constructor(){this.HEADER_LENGTH=1}decode(e,n){return e.constructor===ArrayBuffer?n(this._binaryDecode(e)):n(typeof e=="string"?JSON.parse(e):{})}_binaryDecode(e){const n=new DataView(e),r=new TextDecoder;return this._decodeBroadcast(e,n,r)}_decodeBroadcast(e,n,r){const s=n.getUint8(1),i=n.getUint8(2);let o=this.HEADER_LENGTH+2;const a=r.decode(e.slice(o,o+s));o=o+s;const l=r.decode(e.slice(o,o+i));o=o+i;const c=JSON.parse(r.decode(e.slice(o,e.byteLength)));return{ref:null,topic:a,event:l,payload:c}}}class af{constructor(e,n){this.callback=e,this.timerCalc=n,this.timer=void 0,this.tries=0,this.callback=e,this.timerCalc=n}reset(){this.tries=0,clearTimeout(this.timer)}scheduleTimeout(){clearTimeout(this.timer),this.timer=setTimeout(()=>{this.tries=this.tries+1,this.callback()},this.timerCalc(this.tries+1))}}var F;(function(t){t.abstime="abstime",t.bool="bool",t.date="date",t.daterange="daterange",t.float4="float4",t.float8="float8",t.int2="int2",t.int4="int4",t.int4range="int4range",t.int8="int8",t.int8range="int8range",t.json="json",t.jsonb="jsonb",t.money="money",t.numeric="numeric",t.oid="oid",t.reltime="reltime",t.text="text",t.time="time",t.timestamp="timestamp",t.timestamptz="timestamptz",t.timetz="timetz",t.tsrange="tsrange",t.tstzrange="tstzrange"})(F||(F={}));const uc=(t,e,n={})=>{var r;const s=(r=n.skipTypes)!==null&&r!==void 0?r:[];return Object.keys(e).reduce((i,o)=>(i[o]=Fv(o,t,e,s),i),{})},Fv=(t,e,n,r)=>{const s=e.find(a=>a.name===t),i=s==null?void 0:s.type,o=n[t];return i&&!r.includes(i)?uf(i,o):Tl(o)},uf=(t,e)=>{if(t.charAt(0)==="_"){const n=t.slice(1,t.length);return Hv(e,n)}switch(t){case F.bool:return Bv(e);case F.float4:case F.float8:case F.int2:case F.int4:case F.int8:case F.numeric:case F.oid:return Wv(e);case F.json:case F.jsonb:return Vv(e);case F.timestamp:return qv(e);case F.abstime:case F.date:case F.daterange:case F.int4range:case F.int8range:case F.money:case F.reltime:case F.text:case F.time:case F.timestamptz:case F.timetz:case F.tsrange:case F.tstzrange:return Tl(e);default:return Tl(e)}},Tl=t=>t,Bv=t=>{switch(t){case"t":return!0;case"f":return!1;default:return t}},Wv=t=>{if(typeof t=="string"){const e=parseFloat(t);if(!Number.isNaN(e))return e}return t},Vv=t=>{if(typeof t=="string")try{return JSON.parse(t)}catch(e){return console.log(`JSON parse error: ${e}`),t}return t},Hv=(t,e)=>{if(typeof t!="string")return t;const n=t.length-1,r=t[n];if(t[0]==="{"&&r==="}"){let i;const o=t.slice(1,n);try{i=JSON.parse("["+o+"]")}catch{i=o?o.split(","):[]}return i.map(a=>uf(e,a))}return t},qv=t=>typeof t=="string"?t.replace(" ","T"):t,cf=t=>{let e=t;return e=e.replace(/^ws/i,"http"),e=e.replace(/(\/socket\/websocket|\/socket|\/websocket)\/?$/i,""),e.replace(/\/+$/,"")};class jo{constructor(e,n,r={},s=lf){this.channel=e,this.event=n,this.payload=r,this.timeout=s,this.sent=!1,this.timeoutTimer=void 0,this.ref="",this.receivedResp=null,this.recHooks=[],this.refEvent=null}resend(e){this.timeout=e,this._cancelRefEvent(),this.ref="",this.refEvent=null,this.receivedResp=null,this.sent=!1,this.send()}send(){this._hasReceived("timeout")||(this.startTimeout(),this.sent=!0,this.channel.socket.push({topic:this.channel.topic,event:this.event,payload:this.payload,ref:this.ref,join_ref:this.channel._joinRef()}))}updatePayload(e){this.payload=Object.assign(Object.assign({},this.payload),e)}receive(e,n){var r;return this._hasReceived(e)&&n((r=this.receivedResp)===null||r===void 0?void 0:r.response),this.recHooks.push({status:e,callback:n}),this}startTimeout(){if(this.timeoutTimer)return;this.ref=this.channel.socket._makeRef(),this.refEvent=this.channel._replyEventName(this.ref);const e=n=>{this._cancelRefEvent(),this._cancelTimeout(),this.receivedResp=n,this._matchReceive(n)};this.channel._on(this.refEvent,{},e),this.timeoutTimer=setTimeout(()=>{this.trigger("timeout",{})},this.timeout)}trigger(e,n){this.refEvent&&this.channel._trigger(this.refEvent,{status:e,response:n})}destroy(){this._cancelRefEvent(),this._cancelTimeout()}_cancelRefEvent(){this.refEvent&&this.channel._off(this.refEvent,{})}_cancelTimeout(){clearTimeout(this.timeoutTimer),this.timeoutTimer=void 0}_matchReceive({status:e,response:n}){this.recHooks.filter(r=>r.status===e).forEach(r=>r.callback(n))}_hasReceived(e){return this.receivedResp&&this.receivedResp.status===e}}var cc;(function(t){t.SYNC="sync",t.JOIN="join",t.LEAVE="leave"})(cc||(cc={}));class Ur{constructor(e,n){this.channel=e,this.state={},this.pendingDiffs=[],this.joinRef=null,this.caller={onJoin:()=>{},onLeave:()=>{},onSync:()=>{}};const r=(n==null?void 0:n.events)||{state:"presence_state",diff:"presence_diff"};this.channel._on(r.state,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.joinRef=this.channel._joinRef(),this.state=Ur.syncState(this.state,s,i,o),this.pendingDiffs.forEach(l=>{this.state=Ur.syncDiff(this.state,l,i,o)}),this.pendingDiffs=[],a()}),this.channel._on(r.diff,{},s=>{const{onJoin:i,onLeave:o,onSync:a}=this.caller;this.inPendingSyncState()?this.pendingDiffs.push(s):(this.state=Ur.syncDiff(this.state,s,i,o),a())}),this.onJoin((s,i,o)=>{this.channel._trigger("presence",{event:"join",key:s,currentPresences:i,newPresences:o})}),this.onLeave((s,i,o)=>{this.channel._trigger("presence",{event:"leave",key:s,currentPresences:i,leftPresences:o})}),this.onSync(()=>{this.channel._trigger("presence",{event:"sync"})})}static syncState(e,n,r,s){const i=this.cloneDeep(e),o=this.transformState(n),a={},l={};return this.map(i,(c,d)=>{o[c]||(l[c]=d)}),this.map(o,(c,d)=>{const h=i[c];if(h){const f=d.map(k=>k.presence_ref),v=h.map(k=>k.presence_ref),y=d.filter(k=>v.indexOf(k.presence_ref)<0),_=h.filter(k=>f.indexOf(k.presence_ref)<0);y.length>0&&(a[c]=y),_.length>0&&(l[c]=_)}else a[c]=d}),this.syncDiff(i,{joins:a,leaves:l},r,s)}static syncDiff(e,n,r,s){const{joins:i,leaves:o}={joins:this.transformState(n.joins),leaves:this.transformState(n.leaves)};return r||(r=()=>{}),s||(s=()=>{}),this.map(i,(a,l)=>{var c;const d=(c=e[a])!==null&&c!==void 0?c:[];if(e[a]=this.cloneDeep(l),d.length>0){const h=e[a].map(v=>v.presence_ref),f=d.filter(v=>h.indexOf(v.presence_ref)<0);e[a].unshift(...f)}r(a,d,l)}),this.map(o,(a,l)=>{let c=e[a];if(!c)return;const d=l.map(h=>h.presence_ref);c=c.filter(h=>d.indexOf(h.presence_ref)<0),e[a]=c,s(a,c,l),c.length===0&&delete e[a]}),e}static map(e,n){return Object.getOwnPropertyNames(e).map(r=>n(r,e[r]))}static transformState(e){return e=this.cloneDeep(e),Object.getOwnPropertyNames(e).reduce((n,r)=>{const s=e[r];return"metas"in s?n[r]=s.metas.map(i=>(i.presence_ref=i.phx_ref,delete i.phx_ref,delete i.phx_ref_prev,i)):n[r]=s,n},{})}static cloneDeep(e){return JSON.parse(JSON.stringify(e))}onJoin(e){this.caller.onJoin=e}onLeave(e){this.caller.onLeave=e}onSync(e){this.caller.onSync=e}inPendingSyncState(){return!this.joinRef||this.joinRef!==this.channel._joinRef()}}var dc;(function(t){t.ALL="*",t.INSERT="INSERT",t.UPDATE="UPDATE",t.DELETE="DELETE"})(dc||(dc={}));var hc;(function(t){t.BROADCAST="broadcast",t.PRESENCE="presence",t.POSTGRES_CHANGES="postgres_changes",t.SYSTEM="system"})(hc||(hc={}));var lt;(function(t){t.SUBSCRIBED="SUBSCRIBED",t.TIMED_OUT="TIMED_OUT",t.CLOSED="CLOSED",t.CHANNEL_ERROR="CHANNEL_ERROR"})(lt||(lt={}));class Da{constructor(e,n={config:{}},r){this.topic=e,this.params=n,this.socket=r,this.bindings={},this.state=ge.closed,this.joinedOnce=!1,this.pushBuffer=[],this.subTopic=e.replace(/^realtime:/i,""),this.params.config=Object.assign({broadcast:{ack:!1,self:!1},presence:{key:""},private:!1},n.config),this.timeout=this.socket.timeout,this.joinPush=new jo(this,Ke.join,this.params,this.timeout),this.rejoinTimer=new af(()=>this._rejoinUntilConnected(),this.socket.reconnectAfterMs),this.joinPush.receive("ok",()=>{this.state=ge.joined,this.rejoinTimer.reset(),this.pushBuffer.forEach(s=>s.send()),this.pushBuffer=[]}),this._onClose(()=>{this.rejoinTimer.reset(),this.socket.log("channel",`close ${this.topic} ${this._joinRef()}`),this.state=ge.closed,this.socket._remove(this)}),this._onError(s=>{this._isLeaving()||this._isClosed()||(this.socket.log("channel",`error ${this.topic}`,s),this.state=ge.errored,this.rejoinTimer.scheduleTimeout())}),this.joinPush.receive("timeout",()=>{this._isJoining()&&(this.socket.log("channel",`timeout ${this.topic}`,this.joinPush.timeout),this.state=ge.errored,this.rejoinTimer.scheduleTimeout())}),this._on(Ke.reply,{},(s,i)=>{this._trigger(this._replyEventName(i),s)}),this.presence=new Ur(this),this.broadcastEndpointURL=cf(this.socket.endPoint)+"/api/broadcast",this.private=this.params.config.private||!1}subscribe(e,n=this.timeout){var r,s;if(this.socket.isConnected()||this.socket.connect(),this.joinedOnce)throw"tried to subscribe multiple times. 'subscribe' can only be called a single time per channel instance";{const{config:{broadcast:i,presence:o,private:a}}=this.params;this._onError(d=>e==null?void 0:e(lt.CHANNEL_ERROR,d)),this._onClose(()=>e==null?void 0:e(lt.CLOSED));const l={},c={broadcast:i,presence:o,postgres_changes:(s=(r=this.bindings.postgres_changes)===null||r===void 0?void 0:r.map(d=>d.filter))!==null&&s!==void 0?s:[],private:a};this.socket.accessTokenValue&&(l.access_token=this.socket.accessTokenValue),this.updateJoinPayload(Object.assign({config:c},l)),this.joinedOnce=!0,this._rejoin(n),this.joinPush.receive("ok",async({postgres_changes:d})=>{var h;if(this.socket.setAuth(),d===void 0){e==null||e(lt.SUBSCRIBED);return}else{const f=this.bindings.postgres_changes,v=(h=f==null?void 0:f.length)!==null&&h!==void 0?h:0,y=[];for(let _=0;_<v;_++){const k=f[_],{filter:{event:g,schema:m,table:p,filter:x}}=k,w=d&&d[_];if(w&&w.event===g&&w.schema===m&&w.table===p&&w.filter===x)y.push(Object.assign(Object.assign({},k),{id:w.id}));else{this.unsubscribe(),this.state=ge.errored,e==null||e(lt.CHANNEL_ERROR,new Error("mismatch between server and client bindings for postgres changes"));return}}this.bindings.postgres_changes=y,e&&e(lt.SUBSCRIBED);return}}).receive("error",d=>{this.state=ge.errored,e==null||e(lt.CHANNEL_ERROR,new Error(JSON.stringify(Object.values(d).join(", ")||"error")))}).receive("timeout",()=>{e==null||e(lt.TIMED_OUT)})}return this}presenceState(){return this.presence.state}async track(e,n={}){return await this.send({type:"presence",event:"track",payload:e},n.timeout||this.timeout)}async untrack(e={}){return await this.send({type:"presence",event:"untrack"},e)}on(e,n,r){return this._on(e,n,r)}async send(e,n={}){var r,s;if(!this._canPush()&&e.type==="broadcast"){const{event:i,payload:o}=e,l={method:"POST",headers:{Authorization:this.socket.accessTokenValue?`Bearer ${this.socket.accessTokenValue}`:"",apikey:this.socket.apiKey?this.socket.apiKey:"","Content-Type":"application/json"},body:JSON.stringify({messages:[{topic:this.subTopic,event:i,payload:o,private:this.private}]})};try{const c=await this._fetchWithTimeout(this.broadcastEndpointURL,l,(r=n.timeout)!==null&&r!==void 0?r:this.timeout);return await((s=c.body)===null||s===void 0?void 0:s.cancel()),c.ok?"ok":"error"}catch(c){return c.name==="AbortError"?"timed out":"error"}}else return new Promise(i=>{var o,a,l;const c=this._push(e.type,e,n.timeout||this.timeout);e.type==="broadcast"&&!(!((l=(a=(o=this.params)===null||o===void 0?void 0:o.config)===null||a===void 0?void 0:a.broadcast)===null||l===void 0)&&l.ack)&&i("ok"),c.receive("ok",()=>i("ok")),c.receive("error",()=>i("error")),c.receive("timeout",()=>i("timed out"))})}updateJoinPayload(e){this.joinPush.updatePayload(e)}unsubscribe(e=this.timeout){this.state=ge.leaving;const n=()=>{this.socket.log("channel",`leave ${this.topic}`),this._trigger(Ke.close,"leave",this._joinRef())};return this.joinPush.destroy(),new Promise(r=>{const s=new jo(this,Ke.leave,{},e);s.receive("ok",()=>{n(),r("ok")}).receive("timeout",()=>{n(),r("timed out")}).receive("error",()=>{r("error")}),s.send(),this._canPush()||s.trigger("ok",{})})}teardown(){this.pushBuffer.forEach(e=>e.destroy()),this.rejoinTimer&&clearTimeout(this.rejoinTimer.timer),this.joinPush.destroy()}async _fetchWithTimeout(e,n,r){const s=new AbortController,i=setTimeout(()=>s.abort(),r),o=await this.socket.fetch(e,Object.assign(Object.assign({},n),{signal:s.signal}));return clearTimeout(i),o}_push(e,n,r=this.timeout){if(!this.joinedOnce)throw`tried to push '${e}' to '${this.topic}' before joining. Use channel.subscribe() before pushing events`;let s=new jo(this,e,n,r);return this._canPush()?s.send():(s.startTimeout(),this.pushBuffer.push(s)),s}_onMessage(e,n,r){return n}_isMember(e){return this.topic===e}_joinRef(){return this.joinPush.ref}_trigger(e,n,r){var s,i;const o=e.toLocaleLowerCase(),{close:a,error:l,leave:c,join:d}=Ke;if(r&&[a,l,c,d].indexOf(o)>=0&&r!==this._joinRef())return;let f=this._onMessage(o,n,r);if(n&&!f)throw"channel onMessage callbacks must return the payload, modified or unmodified";["insert","update","delete"].includes(o)?(s=this.bindings.postgres_changes)===null||s===void 0||s.filter(v=>{var y,_,k;return((y=v.filter)===null||y===void 0?void 0:y.event)==="*"||((k=(_=v.filter)===null||_===void 0?void 0:_.event)===null||k===void 0?void 0:k.toLocaleLowerCase())===o}).map(v=>v.callback(f,r)):(i=this.bindings[o])===null||i===void 0||i.filter(v=>{var y,_,k,g,m,p;if(["broadcast","presence","postgres_changes"].includes(o))if("id"in v){const x=v.id,w=(y=v.filter)===null||y===void 0?void 0:y.event;return x&&((_=n.ids)===null||_===void 0?void 0:_.includes(x))&&(w==="*"||(w==null?void 0:w.toLocaleLowerCase())===((k=n.data)===null||k===void 0?void 0:k.type.toLocaleLowerCase()))}else{const x=(m=(g=v==null?void 0:v.filter)===null||g===void 0?void 0:g.event)===null||m===void 0?void 0:m.toLocaleLowerCase();return x==="*"||x===((p=n==null?void 0:n.event)===null||p===void 0?void 0:p.toLocaleLowerCase())}else return v.type.toLocaleLowerCase()===o}).map(v=>{if(typeof f=="object"&&"ids"in f){const y=f.data,{schema:_,table:k,commit_timestamp:g,type:m,errors:p}=y;f=Object.assign(Object.assign({},{schema:_,table:k,commit_timestamp:g,eventType:m,new:{},old:{},errors:p}),this._getPayloadRecords(y))}v.callback(f,r)})}_isClosed(){return this.state===ge.closed}_isJoined(){return this.state===ge.joined}_isJoining(){return this.state===ge.joining}_isLeaving(){return this.state===ge.leaving}_replyEventName(e){return`chan_reply_${e}`}_on(e,n,r){const s=e.toLocaleLowerCase(),i={type:s,filter:n,callback:r};return this.bindings[s]?this.bindings[s].push(i):this.bindings[s]=[i],this}_off(e,n){const r=e.toLocaleLowerCase();return this.bindings[r]=this.bindings[r].filter(s=>{var i;return!(((i=s.type)===null||i===void 0?void 0:i.toLocaleLowerCase())===r&&Da.isEqual(s.filter,n))}),this}static isEqual(e,n){if(Object.keys(e).length!==Object.keys(n).length)return!1;for(const r in e)if(e[r]!==n[r])return!1;return!0}_rejoinUntilConnected(){this.rejoinTimer.scheduleTimeout(),this.socket.isConnected()&&this._rejoin()}_onClose(e){this._on(Ke.close,{},e)}_onError(e){this._on(Ke.error,{},n=>e(n))}_canPush(){return this.socket.isConnected()&&this._isJoined()}_rejoin(e=this.timeout){this._isLeaving()||(this.socket._leaveOpenTopic(this.topic),this.state=ge.joining,this.joinPush.resend(e))}_getPayloadRecords(e){const n={new:{},old:{}};return(e.type==="INSERT"||e.type==="UPDATE")&&(n.new=uc(e.columns,e.record)),(e.type==="UPDATE"||e.type==="DELETE")&&(n.old=uc(e.columns,e.old_record)),n}}const fc=()=>{},Kv=`
  addEventListener("message", (e) => {
    if (e.data.event === "start") {
      setInterval(() => postMessage({ event: "keepAlive" }), e.data.interval);
    }
  });`;class Gv{constructor(e,n){var r;this.accessTokenValue=null,this.apiKey=null,this.channels=new Array,this.endPoint="",this.httpEndpoint="",this.headers=Uv,this.params={},this.timeout=lf,this.heartbeatIntervalMs=25e3,this.heartbeatTimer=void 0,this.pendingHeartbeatRef=null,this.heartbeatCallback=fc,this.ref=0,this.logger=fc,this.conn=null,this.sendBuffer=[],this.serializer=new zv,this.stateChangeCallbacks={open:[],close:[],error:[],message:[]},this.accessToken=null,this._resolveFetch=i=>{let o;return i?o=i:typeof fetch>"u"?o=(...a)=>ds(()=>Promise.resolve().then(()=>dr),void 0).then(({default:l})=>l(...a)):o=fetch,(...a)=>o(...a)},this.endPoint=`${e}/${Pl.websocket}`,this.httpEndpoint=cf(e),n!=null&&n.transport?this.transport=n.transport:this.transport=null,n!=null&&n.params&&(this.params=n.params),n!=null&&n.headers&&(this.headers=Object.assign(Object.assign({},this.headers),n.headers)),n!=null&&n.timeout&&(this.timeout=n.timeout),n!=null&&n.logger&&(this.logger=n.logger),(n!=null&&n.logLevel||n!=null&&n.log_level)&&(this.logLevel=n.logLevel||n.log_level,this.params=Object.assign(Object.assign({},this.params),{log_level:this.logLevel})),n!=null&&n.heartbeatIntervalMs&&(this.heartbeatIntervalMs=n.heartbeatIntervalMs);const s=(r=n==null?void 0:n.params)===null||r===void 0?void 0:r.apikey;if(s&&(this.accessTokenValue=s,this.apiKey=s),this.reconnectAfterMs=n!=null&&n.reconnectAfterMs?n.reconnectAfterMs:i=>[1e3,2e3,5e3,1e4][i-1]||1e4,this.encode=n!=null&&n.encode?n.encode:(i,o)=>o(JSON.stringify(i)),this.decode=n!=null&&n.decode?n.decode:this.serializer.decode.bind(this.serializer),this.reconnectTimer=new af(async()=>{this.disconnect(),this.connect()},this.reconnectAfterMs),this.fetch=this._resolveFetch(n==null?void 0:n.fetch),n!=null&&n.worker){if(typeof window<"u"&&!window.Worker)throw new Error("Web Worker is not supported");this.worker=(n==null?void 0:n.worker)||!1,this.workerUrl=n==null?void 0:n.workerUrl}this.accessToken=(n==null?void 0:n.accessToken)||null}connect(){if(!this.conn){if(this.transport||(this.transport=Iv),this.transport){typeof window<"u"&&this.transport===window.WebSocket?this.conn=new this.transport(this.endpointURL()):this.conn=new this.transport(this.endpointURL(),void 0,{headers:this.headers}),this.setupConnection();return}this.conn=new Qv(this.endpointURL(),void 0,{close:()=>{this.conn=null}})}}endpointURL(){return this._appendParams(this.endPoint,Object.assign({},this.params,{vsn:Dv}))}disconnect(e,n){this.conn&&(this.conn.onclose=function(){},e?this.conn.close(e,n??""):this.conn.close(),this.conn=null,this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.reset(),this.channels.forEach(r=>r.teardown()))}getChannels(){return this.channels}async removeChannel(e){const n=await e.unsubscribe();return this.channels=this.channels.filter(r=>r._joinRef!==e._joinRef),this.channels.length===0&&this.disconnect(),n}async removeAllChannels(){const e=await Promise.all(this.channels.map(n=>n.unsubscribe()));return this.channels=[],this.disconnect(),e}log(e,n,r){this.logger(e,n,r)}connectionState(){switch(this.conn&&this.conn.readyState){case Qn.connecting:return on.Connecting;case Qn.open:return on.Open;case Qn.closing:return on.Closing;default:return on.Closed}}isConnected(){return this.connectionState()===on.Open}channel(e,n={config:{}}){const r=`realtime:${e}`,s=this.getChannels().find(i=>i.topic===r);if(s)return s;{const i=new Da(`realtime:${e}`,n,this);return this.channels.push(i),i}}push(e){const{topic:n,event:r,payload:s,ref:i}=e,o=()=>{this.encode(e,a=>{var l;(l=this.conn)===null||l===void 0||l.send(a)})};this.log("push",`${n} ${r} (${i})`,s),this.isConnected()?o():this.sendBuffer.push(o)}async setAuth(e=null){let n=e||this.accessToken&&await this.accessToken()||this.accessTokenValue;this.accessTokenValue!=n&&(this.accessTokenValue=n,this.channels.forEach(r=>{n&&r.updateJoinPayload({access_token:n,version:this.headers&&this.headers["X-Client-Info"]}),r.joinedOnce&&r._isJoined()&&r._push(Ke.access_token,{access_token:n})}))}async sendHeartbeat(){var e;if(!this.isConnected()){this.heartbeatCallback("disconnected");return}if(this.pendingHeartbeatRef){this.pendingHeartbeatRef=null,this.log("transport","heartbeat timeout. Attempting to re-establish connection"),this.heartbeatCallback("timeout"),(e=this.conn)===null||e===void 0||e.close(Mv,"hearbeat timeout");return}this.pendingHeartbeatRef=this._makeRef(),this.push({topic:"phoenix",event:"heartbeat",payload:{},ref:this.pendingHeartbeatRef}),this.heartbeatCallback("sent"),await this.setAuth()}onHeartbeat(e){this.heartbeatCallback=e}flushSendBuffer(){this.isConnected()&&this.sendBuffer.length>0&&(this.sendBuffer.forEach(e=>e()),this.sendBuffer=[])}_makeRef(){let e=this.ref+1;return e===this.ref?this.ref=0:this.ref=e,this.ref.toString()}_leaveOpenTopic(e){let n=this.channels.find(r=>r.topic===e&&(r._isJoined()||r._isJoining()));n&&(this.log("transport",`leaving duplicate topic "${e}"`),n.unsubscribe())}_remove(e){this.channels=this.channels.filter(n=>n.topic!==e.topic)}setupConnection(){this.conn&&(this.conn.binaryType="arraybuffer",this.conn.onopen=()=>this._onConnOpen(),this.conn.onerror=e=>this._onConnError(e),this.conn.onmessage=e=>this._onConnMessage(e),this.conn.onclose=e=>this._onConnClose(e))}_onConnMessage(e){this.decode(e.data,n=>{let{topic:r,event:s,payload:i,ref:o}=n;r==="phoenix"&&s==="phx_reply"&&this.heartbeatCallback(n.payload.status=="ok"?"ok":"error"),o&&o===this.pendingHeartbeatRef&&(this.pendingHeartbeatRef=null),this.log("receive",`${i.status||""} ${r} ${s} ${o&&"("+o+")"||""}`,i),Array.from(this.channels).filter(a=>a._isMember(r)).forEach(a=>a._trigger(s,i,o)),this.stateChangeCallbacks.message.forEach(a=>a(n))})}_onConnOpen(){if(this.log("transport",`connected to ${this.endpointURL()}`),this.flushSendBuffer(),this.reconnectTimer.reset(),!this.worker)this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.heartbeatTimer=setInterval(()=>this.sendHeartbeat(),this.heartbeatIntervalMs);else{this.workerUrl?this.log("worker",`starting worker for from ${this.workerUrl}`):this.log("worker","starting default worker");const e=this._workerObjectUrl(this.workerUrl);this.workerRef=new Worker(e),this.workerRef.onerror=n=>{this.log("worker","worker error",n.message),this.workerRef.terminate()},this.workerRef.onmessage=n=>{n.data.event==="keepAlive"&&this.sendHeartbeat()},this.workerRef.postMessage({event:"start",interval:this.heartbeatIntervalMs})}this.stateChangeCallbacks.open.forEach(e=>e())}_onConnClose(e){this.log("transport","close",e),this._triggerChanError(),this.heartbeatTimer&&clearInterval(this.heartbeatTimer),this.reconnectTimer.scheduleTimeout(),this.stateChangeCallbacks.close.forEach(n=>n(e))}_onConnError(e){this.log("transport",e.message),this._triggerChanError(),this.stateChangeCallbacks.error.forEach(n=>n(e))}_triggerChanError(){this.channels.forEach(e=>e._trigger(Ke.error))}_appendParams(e,n){if(Object.keys(n).length===0)return e;const r=e.match(/\?/)?"&":"?",s=new URLSearchParams(n);return`${e}${r}${s}`}_workerObjectUrl(e){let n;if(e)n=e;else{const r=new Blob([Kv],{type:"application/javascript"});n=URL.createObjectURL(r)}return n}}class Qv{constructor(e,n,r){this.binaryType="arraybuffer",this.onclose=()=>{},this.onerror=()=>{},this.onmessage=()=>{},this.onopen=()=>{},this.readyState=Qn.connecting,this.send=()=>{},this.url=null,this.url=e,this.close=r.close}}class Ma extends Error{constructor(e){super(e),this.__isStorageError=!0,this.name="StorageError"}}function ie(t){return typeof t=="object"&&t!==null&&"__isStorageError"in t}class Jv extends Ma{constructor(e,n){super(e),this.name="StorageApiError",this.status=n}toJSON(){return{name:this.name,message:this.message,status:this.status}}}class Ol extends Ma{constructor(e,n){super(e),this.name="StorageUnknownError",this.originalError=n}}var Yv=globalThis&&globalThis.__awaiter||function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{c(r.next(d))}catch(h){o(h)}}function l(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const df=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>ds(()=>Promise.resolve().then(()=>dr),void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},Xv=()=>Yv(void 0,void 0,void 0,function*(){return typeof Response>"u"?(yield ds(()=>Promise.resolve().then(()=>dr),void 0)).Response:Response}),Rl=t=>{if(Array.isArray(t))return t.map(n=>Rl(n));if(typeof t=="function"||t!==Object(t))return t;const e={};return Object.entries(t).forEach(([n,r])=>{const s=n.replace(/([-_][a-z])/gi,i=>i.toUpperCase().replace(/[-_]/g,""));e[s]=Rl(r)}),e};var xn=globalThis&&globalThis.__awaiter||function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{c(r.next(d))}catch(h){o(h)}}function l(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const So=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),Zv=(t,e,n)=>xn(void 0,void 0,void 0,function*(){const r=yield Xv();t instanceof r&&!(n!=null&&n.noResolveJson)?t.json().then(s=>{e(new Jv(So(s),t.status||500))}).catch(s=>{e(new Ol(So(s),s))}):e(new Ol(So(t),t))}),ey=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json"},e==null?void 0:e.headers),r&&(s.body=JSON.stringify(r)),Object.assign(Object.assign({},s),n))};function fs(t,e,n,r,s,i){return xn(this,void 0,void 0,function*(){return new Promise((o,a)=>{t(n,ey(e,r,s,i)).then(l=>{if(!l.ok)throw l;return r!=null&&r.noResolveJson?l:l.json()}).then(l=>o(l)).catch(l=>Zv(l,a,r))})})}function wi(t,e,n,r){return xn(this,void 0,void 0,function*(){return fs(t,"GET",e,n,r)})}function St(t,e,n,r,s){return xn(this,void 0,void 0,function*(){return fs(t,"POST",e,r,s,n)})}function ty(t,e,n,r,s){return xn(this,void 0,void 0,function*(){return fs(t,"PUT",e,r,s,n)})}function ny(t,e,n,r){return xn(this,void 0,void 0,function*(){return fs(t,"HEAD",e,Object.assign(Object.assign({},n),{noResolveJson:!0}),r)})}function hf(t,e,n,r,s){return xn(this,void 0,void 0,function*(){return fs(t,"DELETE",e,r,s,n)})}var _e=globalThis&&globalThis.__awaiter||function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{c(r.next(d))}catch(h){o(h)}}function l(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const ry={limit:100,offset:0,sortBy:{column:"name",order:"asc"}},pc={cacheControl:"3600",contentType:"text/plain;charset=UTF-8",upsert:!1};class sy{constructor(e,n={},r,s){this.url=e,this.headers=n,this.bucketId=r,this.fetch=df(s)}uploadOrUpdate(e,n,r,s){return _e(this,void 0,void 0,function*(){try{let i;const o=Object.assign(Object.assign({},pc),s);let a=Object.assign(Object.assign({},this.headers),e==="POST"&&{"x-upsert":String(o.upsert)});const l=o.metadata;typeof Blob<"u"&&r instanceof Blob?(i=new FormData,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l)),i.append("",r)):typeof FormData<"u"&&r instanceof FormData?(i=r,i.append("cacheControl",o.cacheControl),l&&i.append("metadata",this.encodeMetadata(l))):(i=r,a["cache-control"]=`max-age=${o.cacheControl}`,a["content-type"]=o.contentType,l&&(a["x-metadata"]=this.toBase64(this.encodeMetadata(l)))),s!=null&&s.headers&&(a=Object.assign(Object.assign({},a),s.headers));const c=this._removeEmptyFolders(n),d=this._getFinalPath(c),h=yield this.fetch(`${this.url}/object/${d}`,Object.assign({method:e,body:i,headers:a},o!=null&&o.duplex?{duplex:o.duplex}:{})),f=yield h.json();return h.ok?{data:{path:c,id:f.Id,fullPath:f.Key},error:null}:{data:null,error:f}}catch(i){if(ie(i))return{data:null,error:i};throw i}})}upload(e,n,r){return _e(this,void 0,void 0,function*(){return this.uploadOrUpdate("POST",e,n,r)})}uploadToSignedUrl(e,n,r,s){return _e(this,void 0,void 0,function*(){const i=this._removeEmptyFolders(e),o=this._getFinalPath(i),a=new URL(this.url+`/object/upload/sign/${o}`);a.searchParams.set("token",n);try{let l;const c=Object.assign({upsert:pc.upsert},s),d=Object.assign(Object.assign({},this.headers),{"x-upsert":String(c.upsert)});typeof Blob<"u"&&r instanceof Blob?(l=new FormData,l.append("cacheControl",c.cacheControl),l.append("",r)):typeof FormData<"u"&&r instanceof FormData?(l=r,l.append("cacheControl",c.cacheControl)):(l=r,d["cache-control"]=`max-age=${c.cacheControl}`,d["content-type"]=c.contentType);const h=yield this.fetch(a.toString(),{method:"PUT",body:l,headers:d}),f=yield h.json();return h.ok?{data:{path:i,fullPath:f.Key},error:null}:{data:null,error:f}}catch(l){if(ie(l))return{data:null,error:l};throw l}})}createSignedUploadUrl(e,n){return _e(this,void 0,void 0,function*(){try{let r=this._getFinalPath(e);const s=Object.assign({},this.headers);n!=null&&n.upsert&&(s["x-upsert"]="true");const i=yield St(this.fetch,`${this.url}/object/upload/sign/${r}`,{},{headers:s}),o=new URL(this.url+i.url),a=o.searchParams.get("token");if(!a)throw new Ma("No token returned by API");return{data:{signedUrl:o.toString(),path:e,token:a},error:null}}catch(r){if(ie(r))return{data:null,error:r};throw r}})}update(e,n,r){return _e(this,void 0,void 0,function*(){return this.uploadOrUpdate("PUT",e,n,r)})}move(e,n,r){return _e(this,void 0,void 0,function*(){try{return{data:yield St(this.fetch,`${this.url}/object/move`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers}),error:null}}catch(s){if(ie(s))return{data:null,error:s};throw s}})}copy(e,n,r){return _e(this,void 0,void 0,function*(){try{return{data:{path:(yield St(this.fetch,`${this.url}/object/copy`,{bucketId:this.bucketId,sourceKey:e,destinationKey:n,destinationBucket:r==null?void 0:r.destinationBucket},{headers:this.headers})).Key},error:null}}catch(s){if(ie(s))return{data:null,error:s};throw s}})}createSignedUrl(e,n,r){return _e(this,void 0,void 0,function*(){try{let s=this._getFinalPath(e),i=yield St(this.fetch,`${this.url}/object/sign/${s}`,Object.assign({expiresIn:n},r!=null&&r.transform?{transform:r.transform}:{}),{headers:this.headers});const o=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return i={signedUrl:encodeURI(`${this.url}${i.signedURL}${o}`)},{data:i,error:null}}catch(s){if(ie(s))return{data:null,error:s};throw s}})}createSignedUrls(e,n,r){return _e(this,void 0,void 0,function*(){try{const s=yield St(this.fetch,`${this.url}/object/sign/${this.bucketId}`,{expiresIn:n,paths:e},{headers:this.headers}),i=r!=null&&r.download?`&download=${r.download===!0?"":r.download}`:"";return{data:s.map(o=>Object.assign(Object.assign({},o),{signedUrl:o.signedURL?encodeURI(`${this.url}${o.signedURL}${i}`):null})),error:null}}catch(s){if(ie(s))return{data:null,error:s};throw s}})}download(e,n){return _e(this,void 0,void 0,function*(){const s=typeof(n==null?void 0:n.transform)<"u"?"render/image/authenticated":"object",i=this.transformOptsToQueryString((n==null?void 0:n.transform)||{}),o=i?`?${i}`:"";try{const a=this._getFinalPath(e);return{data:yield(yield wi(this.fetch,`${this.url}/${s}/${a}${o}`,{headers:this.headers,noResolveJson:!0})).blob(),error:null}}catch(a){if(ie(a))return{data:null,error:a};throw a}})}info(e){return _e(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{const r=yield wi(this.fetch,`${this.url}/object/info/${n}`,{headers:this.headers});return{data:Rl(r),error:null}}catch(r){if(ie(r))return{data:null,error:r};throw r}})}exists(e){return _e(this,void 0,void 0,function*(){const n=this._getFinalPath(e);try{return yield ny(this.fetch,`${this.url}/object/${n}`,{headers:this.headers}),{data:!0,error:null}}catch(r){if(ie(r)&&r instanceof Ol){const s=r.originalError;if([400,404].includes(s==null?void 0:s.status))return{data:!1,error:r}}throw r}})}getPublicUrl(e,n){const r=this._getFinalPath(e),s=[],i=n!=null&&n.download?`download=${n.download===!0?"":n.download}`:"";i!==""&&s.push(i);const a=typeof(n==null?void 0:n.transform)<"u"?"render/image":"object",l=this.transformOptsToQueryString((n==null?void 0:n.transform)||{});l!==""&&s.push(l);let c=s.join("&");return c!==""&&(c=`?${c}`),{data:{publicUrl:encodeURI(`${this.url}/${a}/public/${r}${c}`)}}}remove(e){return _e(this,void 0,void 0,function*(){try{return{data:yield hf(this.fetch,`${this.url}/object/${this.bucketId}`,{prefixes:e},{headers:this.headers}),error:null}}catch(n){if(ie(n))return{data:null,error:n};throw n}})}list(e,n,r){return _e(this,void 0,void 0,function*(){try{const s=Object.assign(Object.assign(Object.assign({},ry),n),{prefix:e||""});return{data:yield St(this.fetch,`${this.url}/object/list/${this.bucketId}`,s,{headers:this.headers},r),error:null}}catch(s){if(ie(s))return{data:null,error:s};throw s}})}encodeMetadata(e){return JSON.stringify(e)}toBase64(e){return typeof Buffer<"u"?Buffer.from(e).toString("base64"):btoa(e)}_getFinalPath(e){return`${this.bucketId}/${e}`}_removeEmptyFolders(e){return e.replace(/^\/|\/$/g,"").replace(/\/+/g,"/")}transformOptsToQueryString(e){const n=[];return e.width&&n.push(`width=${e.width}`),e.height&&n.push(`height=${e.height}`),e.resize&&n.push(`resize=${e.resize}`),e.format&&n.push(`format=${e.format}`),e.quality&&n.push(`quality=${e.quality}`),n.join("&")}}const iy="2.7.1",oy={"X-Client-Info":`storage-js/${iy}`};var Sn=globalThis&&globalThis.__awaiter||function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{c(r.next(d))}catch(h){o(h)}}function l(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};class ly{constructor(e,n={},r){this.url=e,this.headers=Object.assign(Object.assign({},oy),n),this.fetch=df(r)}listBuckets(){return Sn(this,void 0,void 0,function*(){try{return{data:yield wi(this.fetch,`${this.url}/bucket`,{headers:this.headers}),error:null}}catch(e){if(ie(e))return{data:null,error:e};throw e}})}getBucket(e){return Sn(this,void 0,void 0,function*(){try{return{data:yield wi(this.fetch,`${this.url}/bucket/${e}`,{headers:this.headers}),error:null}}catch(n){if(ie(n))return{data:null,error:n};throw n}})}createBucket(e,n={public:!1}){return Sn(this,void 0,void 0,function*(){try{return{data:yield St(this.fetch,`${this.url}/bucket`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(ie(r))return{data:null,error:r};throw r}})}updateBucket(e,n){return Sn(this,void 0,void 0,function*(){try{return{data:yield ty(this.fetch,`${this.url}/bucket/${e}`,{id:e,name:e,public:n.public,file_size_limit:n.fileSizeLimit,allowed_mime_types:n.allowedMimeTypes},{headers:this.headers}),error:null}}catch(r){if(ie(r))return{data:null,error:r};throw r}})}emptyBucket(e){return Sn(this,void 0,void 0,function*(){try{return{data:yield St(this.fetch,`${this.url}/bucket/${e}/empty`,{},{headers:this.headers}),error:null}}catch(n){if(ie(n))return{data:null,error:n};throw n}})}deleteBucket(e){return Sn(this,void 0,void 0,function*(){try{return{data:yield hf(this.fetch,`${this.url}/bucket/${e}`,{},{headers:this.headers}),error:null}}catch(n){if(ie(n))return{data:null,error:n};throw n}})}}class ay extends ly{constructor(e,n={},r){super(e,n,r)}from(e){return new sy(this.url,this.headers,e,this.fetch)}}const uy="2.50.0";let Er="";typeof Deno<"u"?Er="deno":typeof document<"u"?Er="web":typeof navigator<"u"&&navigator.product==="ReactNative"?Er="react-native":Er="node";const cy={"X-Client-Info":`supabase-js-${Er}/${uy}`},dy={headers:cy},hy={schema:"public"},fy={autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"implicit"},py={};var my=globalThis&&globalThis.__awaiter||function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{c(r.next(d))}catch(h){o(h)}}function l(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};const gy=t=>{let e;return t?e=t:typeof fetch>"u"?e=Qh:e=fetch,(...n)=>e(...n)},vy=()=>typeof Headers>"u"?Jh:Headers,yy=(t,e,n)=>{const r=gy(n),s=vy();return(i,o)=>my(void 0,void 0,void 0,function*(){var a;const l=(a=yield e())!==null&&a!==void 0?a:t;let c=new s(o==null?void 0:o.headers);return c.has("apikey")||c.set("apikey",t),c.has("Authorization")||c.set("Authorization",`Bearer ${l}`),r(i,Object.assign(Object.assign({},o),{headers:c}))})};var xy=globalThis&&globalThis.__awaiter||function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{c(r.next(d))}catch(h){o(h)}}function l(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};function wy(t){return t.endsWith("/")?t:t+"/"}function _y(t,e){var n,r;const{db:s,auth:i,realtime:o,global:a}=t,{db:l,auth:c,realtime:d,global:h}=e,f={db:Object.assign(Object.assign({},l),s),auth:Object.assign(Object.assign({},c),i),realtime:Object.assign(Object.assign({},d),o),global:Object.assign(Object.assign(Object.assign({},h),a),{headers:Object.assign(Object.assign({},(n=h==null?void 0:h.headers)!==null&&n!==void 0?n:{}),(r=a==null?void 0:a.headers)!==null&&r!==void 0?r:{})}),accessToken:()=>xy(this,void 0,void 0,function*(){return""})};return t.accessToken?f.accessToken=t.accessToken:delete f.accessToken,f}const ff="2.70.0",Tn=30*1e3,Al=3,bo=Al*Tn,ky="http://localhost:9999",jy="supabase.auth.token",Sy={"X-Client-Info":`gotrue-js/${ff}`},Ll="X-Supabase-Api-Version",pf={"2024-01-01":{timestamp:Date.parse("2024-01-01T00:00:00.0Z"),name:"2024-01-01"}},by=/^([a-z0-9_-]{4})*($|[a-z0-9_-]{3}$|[a-z0-9_-]{2}$)$/i,Ny=6e5;class za extends Error{constructor(e,n,r){super(e),this.__isAuthError=!0,this.name="AuthError",this.status=n,this.code=r}}function L(t){return typeof t=="object"&&t!==null&&"__isAuthError"in t}class Ey extends za{constructor(e,n,r){super(e,n,r),this.name="AuthApiError",this.status=n,this.code=r}}function Cy(t){return L(t)&&t.name==="AuthApiError"}class mf extends za{constructor(e,n){super(e),this.name="AuthUnknownError",this.originalError=n}}class Kt extends za{constructor(e,n,r,s){super(e,r,s),this.name=n,this.status=r}}class _t extends Kt{constructor(){super("Auth session missing!","AuthSessionMissingError",400,void 0)}}function Py(t){return L(t)&&t.name==="AuthSessionMissingError"}class Os extends Kt{constructor(){super("Auth session or user missing","AuthInvalidTokenResponseError",500,void 0)}}class Rs extends Kt{constructor(e){super(e,"AuthInvalidCredentialsError",400,void 0)}}class As extends Kt{constructor(e,n=null){super(e,"AuthImplicitGrantRedirectError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}function Ty(t){return L(t)&&t.name==="AuthImplicitGrantRedirectError"}class mc extends Kt{constructor(e,n=null){super(e,"AuthPKCEGrantCodeExchangeError",500,void 0),this.details=null,this.details=n}toJSON(){return{name:this.name,message:this.message,status:this.status,details:this.details}}}class Il extends Kt{constructor(e,n){super(e,"AuthRetryableFetchError",n,void 0)}}function No(t){return L(t)&&t.name==="AuthRetryableFetchError"}class gc extends Kt{constructor(e,n,r){super(e,"AuthWeakPasswordError",n,"weak_password"),this.reasons=r}}class Dr extends Kt{constructor(e){super(e,"AuthInvalidJwtError",400,"invalid_jwt")}}const _i="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_".split(""),vc=` 	
\r=`.split(""),Oy=(()=>{const t=new Array(128);for(let e=0;e<t.length;e+=1)t[e]=-1;for(let e=0;e<vc.length;e+=1)t[vc[e].charCodeAt(0)]=-2;for(let e=0;e<_i.length;e+=1)t[_i[e].charCodeAt(0)]=e;return t})();function yc(t,e,n){if(t!==null)for(e.queue=e.queue<<8|t,e.queuedBits+=8;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(_i[r]),e.queuedBits-=6}else if(e.queuedBits>0)for(e.queue=e.queue<<6-e.queuedBits,e.queuedBits=6;e.queuedBits>=6;){const r=e.queue>>e.queuedBits-6&63;n(_i[r]),e.queuedBits-=6}}function gf(t,e,n){const r=Oy[t];if(r>-1)for(e.queue=e.queue<<6|r,e.queuedBits+=6;e.queuedBits>=8;)n(e.queue>>e.queuedBits-8&255),e.queuedBits-=8;else{if(r===-2)return;throw new Error(`Invalid Base64-URL character "${String.fromCharCode(t)}"`)}}function xc(t){const e=[],n=o=>{e.push(String.fromCodePoint(o))},r={utf8seq:0,codepoint:0},s={queue:0,queuedBits:0},i=o=>{Ly(o,r,n)};for(let o=0;o<t.length;o+=1)gf(t.charCodeAt(o),s,i);return e.join("")}function Ry(t,e){if(t<=127){e(t);return}else if(t<=2047){e(192|t>>6),e(128|t&63);return}else if(t<=65535){e(224|t>>12),e(128|t>>6&63),e(128|t&63);return}else if(t<=1114111){e(240|t>>18),e(128|t>>12&63),e(128|t>>6&63),e(128|t&63);return}throw new Error(`Unrecognized Unicode codepoint: ${t.toString(16)}`)}function Ay(t,e){for(let n=0;n<t.length;n+=1){let r=t.charCodeAt(n);if(r>55295&&r<=56319){const s=(r-55296)*1024&65535;r=(t.charCodeAt(n+1)-56320&65535|s)+65536,n+=1}Ry(r,e)}}function Ly(t,e,n){if(e.utf8seq===0){if(t<=127){n(t);return}for(let r=1;r<6;r+=1)if(!(t>>7-r&1)){e.utf8seq=r;break}if(e.utf8seq===2)e.codepoint=t&31;else if(e.utf8seq===3)e.codepoint=t&15;else if(e.utf8seq===4)e.codepoint=t&7;else throw new Error("Invalid UTF-8 sequence");e.utf8seq-=1}else if(e.utf8seq>0){if(t<=127)throw new Error("Invalid UTF-8 sequence");e.codepoint=e.codepoint<<6|t&63,e.utf8seq-=1,e.utf8seq===0&&n(e.codepoint)}}function Iy(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};for(let s=0;s<t.length;s+=1)gf(t.charCodeAt(s),n,r);return new Uint8Array(e)}function $y(t){const e=[];return Ay(t,n=>e.push(n)),new Uint8Array(e)}function Uy(t){const e=[],n={queue:0,queuedBits:0},r=s=>{e.push(s)};return t.forEach(s=>yc(s,n,r)),yc(null,n,r),e.join("")}function Dy(t){return Math.round(Date.now()/1e3)+t}function My(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(t){const e=Math.random()*16|0;return(t=="x"?e:e&3|8).toString(16)})}const Ve=()=>typeof window<"u"&&typeof document<"u",en={tested:!1,writable:!1},Mr=()=>{if(!Ve())return!1;try{if(typeof globalThis.localStorage!="object")return!1}catch{return!1}if(en.tested)return en.writable;const t=`lswt-${Math.random()}${Math.random()}`;try{globalThis.localStorage.setItem(t,t),globalThis.localStorage.removeItem(t),en.tested=!0,en.writable=!0}catch{en.tested=!0,en.writable=!1}return en.writable};function zy(t){const e={},n=new URL(t);if(n.hash&&n.hash[0]==="#")try{new URLSearchParams(n.hash.substring(1)).forEach((s,i)=>{e[i]=s})}catch{}return n.searchParams.forEach((r,s)=>{e[s]=r}),e}const vf=t=>{let e;return t?e=t:typeof fetch>"u"?e=(...n)=>ds(()=>Promise.resolve().then(()=>dr),void 0).then(({default:r})=>r(...n)):e=fetch,(...n)=>e(...n)},Fy=t=>typeof t=="object"&&t!==null&&"status"in t&&"ok"in t&&"json"in t&&typeof t.json=="function",yf=async(t,e,n)=>{await t.setItem(e,JSON.stringify(n))},Ls=async(t,e)=>{const n=await t.getItem(e);if(!n)return null;try{return JSON.parse(n)}catch{return n}},Is=async(t,e)=>{await t.removeItem(e)};class Gi{constructor(){this.promise=new Gi.promiseConstructor((e,n)=>{this.resolve=e,this.reject=n})}}Gi.promiseConstructor=Promise;function Eo(t){const e=t.split(".");if(e.length!==3)throw new Dr("Invalid JWT structure");for(let r=0;r<e.length;r++)if(!by.test(e[r]))throw new Dr("JWT not in base64url format");return{header:JSON.parse(xc(e[0])),payload:JSON.parse(xc(e[1])),signature:Iy(e[2]),raw:{header:e[0],payload:e[1]}}}async function By(t){return await new Promise(e=>{setTimeout(()=>e(null),t)})}function Wy(t,e){return new Promise((r,s)=>{(async()=>{for(let i=0;i<1/0;i++)try{const o=await t(i);if(!e(i,null,o)){r(o);return}}catch(o){if(!e(i,o)){s(o);return}}})()})}function Vy(t){return("0"+t.toString(16)).substr(-2)}function Hy(){const e=new Uint32Array(56);if(typeof crypto>"u"){const n="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-._~",r=n.length;let s="";for(let i=0;i<56;i++)s+=n.charAt(Math.floor(Math.random()*r));return s}return crypto.getRandomValues(e),Array.from(e,Vy).join("")}async function qy(t){const n=new TextEncoder().encode(t),r=await crypto.subtle.digest("SHA-256",n),s=new Uint8Array(r);return Array.from(s).map(i=>String.fromCharCode(i)).join("")}async function Ky(t){if(!(typeof crypto<"u"&&typeof crypto.subtle<"u"&&typeof TextEncoder<"u"))return console.warn("WebCrypto API is not supported. Code challenge method will default to use plain instead of sha256."),t;const n=await qy(t);return btoa(n).replace(/\+/g,"-").replace(/\//g,"_").replace(/=+$/,"")}async function bn(t,e,n=!1){const r=Hy();let s=r;n&&(s+="/PASSWORD_RECOVERY"),await yf(t,`${e}-code-verifier`,s);const i=await Ky(r);return[i,r===i?"plain":"s256"]}const Gy=/^2[0-9]{3}-(0[1-9]|1[0-2])-(0[1-9]|1[0-9]|2[0-9]|3[0-1])$/i;function Qy(t){const e=t.headers.get(Ll);if(!e||!e.match(Gy))return null;try{return new Date(`${e}T00:00:00.0Z`)}catch{return null}}function Jy(t){if(!t)throw new Error("Missing exp claim");const e=Math.floor(Date.now()/1e3);if(t<=e)throw new Error("JWT has expired")}function Yy(t){switch(t){case"RS256":return{name:"RSASSA-PKCS1-v1_5",hash:{name:"SHA-256"}};case"ES256":return{name:"ECDSA",namedCurve:"P-256",hash:{name:"SHA-256"}};default:throw new Error("Invalid alg claim")}}const Xy=/^[0-9a-f]{8}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{4}-[0-9a-f]{12}$/;function Nn(t){if(!Xy.test(t))throw new Error("@supabase/auth-js: Expected parameter to be UUID but is not")}var Zy=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};const sn=t=>t.msg||t.message||t.error_description||t.error||JSON.stringify(t),e0=[502,503,504];async function wc(t){var e;if(!Fy(t))throw new Il(sn(t),0);if(e0.includes(t.status))throw new Il(sn(t),t.status);let n;try{n=await t.json()}catch(i){throw new mf(sn(i),i)}let r;const s=Qy(t);if(s&&s.getTime()>=pf["2024-01-01"].timestamp&&typeof n=="object"&&n&&typeof n.code=="string"?r=n.code:typeof n=="object"&&n&&typeof n.error_code=="string"&&(r=n.error_code),r){if(r==="weak_password")throw new gc(sn(n),t.status,((e=n.weak_password)===null||e===void 0?void 0:e.reasons)||[]);if(r==="session_not_found")throw new _t}else if(typeof n=="object"&&n&&typeof n.weak_password=="object"&&n.weak_password&&Array.isArray(n.weak_password.reasons)&&n.weak_password.reasons.length&&n.weak_password.reasons.reduce((i,o)=>i&&typeof o=="string",!0))throw new gc(sn(n),t.status,n.weak_password.reasons);throw new Ey(sn(n),t.status||500,r)}const t0=(t,e,n,r)=>{const s={method:t,headers:(e==null?void 0:e.headers)||{}};return t==="GET"?s:(s.headers=Object.assign({"Content-Type":"application/json;charset=UTF-8"},e==null?void 0:e.headers),s.body=JSON.stringify(r),Object.assign(Object.assign({},s),n))};async function I(t,e,n,r){var s;const i=Object.assign({},r==null?void 0:r.headers);i[Ll]||(i[Ll]=pf["2024-01-01"].name),r!=null&&r.jwt&&(i.Authorization=`Bearer ${r.jwt}`);const o=(s=r==null?void 0:r.query)!==null&&s!==void 0?s:{};r!=null&&r.redirectTo&&(o.redirect_to=r.redirectTo);const a=Object.keys(o).length?"?"+new URLSearchParams(o).toString():"",l=await n0(t,e,n+a,{headers:i,noResolveJson:r==null?void 0:r.noResolveJson},{},r==null?void 0:r.body);return r!=null&&r.xform?r==null?void 0:r.xform(l):{data:Object.assign({},l),error:null}}async function n0(t,e,n,r,s,i){const o=t0(e,r,s,i);let a;try{a=await t(n,Object.assign({},o))}catch(l){throw console.error(l),new Il(sn(l),0)}if(a.ok||await wc(a),r!=null&&r.noResolveJson)return a;try{return await a.json()}catch(l){await wc(l)}}function it(t){var e;let n=null;o0(t)&&(n=Object.assign({},t),t.expires_at||(n.expires_at=Dy(t.expires_in)));const r=(e=t.user)!==null&&e!==void 0?e:t;return{data:{session:n,user:r},error:null}}function _c(t){const e=it(t);return!e.error&&t.weak_password&&typeof t.weak_password=="object"&&Array.isArray(t.weak_password.reasons)&&t.weak_password.reasons.length&&t.weak_password.message&&typeof t.weak_password.message=="string"&&t.weak_password.reasons.reduce((n,r)=>n&&typeof r=="string",!0)&&(e.data.weak_password=t.weak_password),e}function Et(t){var e;return{data:{user:(e=t.user)!==null&&e!==void 0?e:t},error:null}}function r0(t){return{data:t,error:null}}function s0(t){const{action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i}=t,o=Zy(t,["action_link","email_otp","hashed_token","redirect_to","verification_type"]),a={action_link:e,email_otp:n,hashed_token:r,redirect_to:s,verification_type:i},l=Object.assign({},o);return{data:{properties:a,user:l},error:null}}function i0(t){return t}function o0(t){return t.access_token&&t.refresh_token&&t.expires_in}const Co=["global","local","others"];var l0=globalThis&&globalThis.__rest||function(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n};class a0{constructor({url:e="",headers:n={},fetch:r}){this.url=e,this.headers=n,this.fetch=vf(r),this.mfa={listFactors:this._listFactors.bind(this),deleteFactor:this._deleteFactor.bind(this)}}async signOut(e,n=Co[0]){if(Co.indexOf(n)<0)throw new Error(`@supabase/auth-js: Parameter scope must be one of ${Co.join(", ")}`);try{return await I(this.fetch,"POST",`${this.url}/logout?scope=${n}`,{headers:this.headers,jwt:e,noResolveJson:!0}),{data:null,error:null}}catch(r){if(L(r))return{data:null,error:r};throw r}}async inviteUserByEmail(e,n={}){try{return await I(this.fetch,"POST",`${this.url}/invite`,{body:{email:e,data:n.data},headers:this.headers,redirectTo:n.redirectTo,xform:Et})}catch(r){if(L(r))return{data:{user:null},error:r};throw r}}async generateLink(e){try{const{options:n}=e,r=l0(e,["options"]),s=Object.assign(Object.assign({},r),n);return"newEmail"in r&&(s.new_email=r==null?void 0:r.newEmail,delete s.newEmail),await I(this.fetch,"POST",`${this.url}/admin/generate_link`,{body:s,headers:this.headers,xform:s0,redirectTo:n==null?void 0:n.redirectTo})}catch(n){if(L(n))return{data:{properties:null,user:null},error:n};throw n}}async createUser(e){try{return await I(this.fetch,"POST",`${this.url}/admin/users`,{body:e,headers:this.headers,xform:Et})}catch(n){if(L(n))return{data:{user:null},error:n};throw n}}async listUsers(e){var n,r,s,i,o,a,l;try{const c={nextPage:null,lastPage:0,total:0},d=await I(this.fetch,"GET",`${this.url}/admin/users`,{headers:this.headers,noResolveJson:!0,query:{page:(r=(n=e==null?void 0:e.page)===null||n===void 0?void 0:n.toString())!==null&&r!==void 0?r:"",per_page:(i=(s=e==null?void 0:e.perPage)===null||s===void 0?void 0:s.toString())!==null&&i!==void 0?i:""},xform:i0});if(d.error)throw d.error;const h=await d.json(),f=(o=d.headers.get("x-total-count"))!==null&&o!==void 0?o:0,v=(l=(a=d.headers.get("link"))===null||a===void 0?void 0:a.split(","))!==null&&l!==void 0?l:[];return v.length>0&&(v.forEach(y=>{const _=parseInt(y.split(";")[0].split("=")[1].substring(0,1)),k=JSON.parse(y.split(";")[1].split("=")[1]);c[`${k}Page`]=_}),c.total=parseInt(f)),{data:Object.assign(Object.assign({},h),c),error:null}}catch(c){if(L(c))return{data:{users:[]},error:c};throw c}}async getUserById(e){Nn(e);try{return await I(this.fetch,"GET",`${this.url}/admin/users/${e}`,{headers:this.headers,xform:Et})}catch(n){if(L(n))return{data:{user:null},error:n};throw n}}async updateUserById(e,n){Nn(e);try{return await I(this.fetch,"PUT",`${this.url}/admin/users/${e}`,{body:n,headers:this.headers,xform:Et})}catch(r){if(L(r))return{data:{user:null},error:r};throw r}}async deleteUser(e,n=!1){Nn(e);try{return await I(this.fetch,"DELETE",`${this.url}/admin/users/${e}`,{headers:this.headers,body:{should_soft_delete:n},xform:Et})}catch(r){if(L(r))return{data:{user:null},error:r};throw r}}async _listFactors(e){Nn(e.userId);try{const{data:n,error:r}=await I(this.fetch,"GET",`${this.url}/admin/users/${e.userId}/factors`,{headers:this.headers,xform:s=>({data:{factors:s},error:null})});return{data:n,error:r}}catch(n){if(L(n))return{data:null,error:n};throw n}}async _deleteFactor(e){Nn(e.userId),Nn(e.id);try{return{data:await I(this.fetch,"DELETE",`${this.url}/admin/users/${e.userId}/factors/${e.id}`,{headers:this.headers}),error:null}}catch(n){if(L(n))return{data:null,error:n};throw n}}}const u0={getItem:t=>Mr()?globalThis.localStorage.getItem(t):null,setItem:(t,e)=>{Mr()&&globalThis.localStorage.setItem(t,e)},removeItem:t=>{Mr()&&globalThis.localStorage.removeItem(t)}};function kc(t={}){return{getItem:e=>t[e]||null,setItem:(e,n)=>{t[e]=n},removeItem:e=>{delete t[e]}}}function c0(){if(typeof globalThis!="object")try{Object.defineProperty(Object.prototype,"__magic__",{get:function(){return this},configurable:!0}),__magic__.globalThis=__magic__,delete Object.prototype.__magic__}catch{typeof self<"u"&&(self.globalThis=self)}}const En={debug:!!(globalThis&&Mr()&&globalThis.localStorage&&globalThis.localStorage.getItem("supabase.gotrue-js.locks.debug")==="true")};class xf extends Error{constructor(e){super(e),this.isAcquireTimeout=!0}}class d0 extends xf{}async function h0(t,e,n){En.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquire lock",t,e);const r=new globalThis.AbortController;return e>0&&setTimeout(()=>{r.abort(),En.debug&&console.log("@supabase/gotrue-js: navigatorLock acquire timed out",t)},e),await Promise.resolve().then(()=>globalThis.navigator.locks.request(t,e===0?{mode:"exclusive",ifAvailable:!0}:{mode:"exclusive",signal:r.signal},async s=>{if(s){En.debug&&console.log("@supabase/gotrue-js: navigatorLock: acquired",t,s.name);try{return await n()}finally{En.debug&&console.log("@supabase/gotrue-js: navigatorLock: released",t,s.name)}}else{if(e===0)throw En.debug&&console.log("@supabase/gotrue-js: navigatorLock: not immediately available",t),new d0(`Acquiring an exclusive Navigator LockManager lock "${t}" immediately failed`);if(En.debug)try{const i=await globalThis.navigator.locks.query();console.log("@supabase/gotrue-js: Navigator LockManager state",JSON.stringify(i,null,"  "))}catch(i){console.warn("@supabase/gotrue-js: Error when querying Navigator LockManager state",i)}return console.warn("@supabase/gotrue-js: Navigator LockManager returned a null lock when using #request without ifAvailable set to true, it appears this browser is not following the LockManager spec https://developer.mozilla.org/en-US/docs/Web/API/LockManager/request"),await n()}}))}c0();const f0={url:ky,storageKey:jy,autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,headers:Sy,flowType:"implicit",debug:!1,hasCustomAuthorizationHeader:!1};async function jc(t,e,n){return await n()}class is{constructor(e){var n,r;this.memoryStorage=null,this.stateChangeEmitters=new Map,this.autoRefreshTicker=null,this.visibilityChangedCallback=null,this.refreshingDeferred=null,this.initializePromise=null,this.detectSessionInUrl=!0,this.hasCustomAuthorizationHeader=!1,this.suppressGetSessionWarning=!1,this.lockAcquired=!1,this.pendingInLock=[],this.broadcastChannel=null,this.logger=console.log,this.instanceID=is.nextInstanceID,is.nextInstanceID+=1,this.instanceID>0&&Ve()&&console.warn("Multiple GoTrueClient instances detected in the same browser context. It is not an error, but this should be avoided as it may produce undefined behavior when used concurrently under the same storage key.");const s=Object.assign(Object.assign({},f0),e);if(this.logDebugMessages=!!s.debug,typeof s.debug=="function"&&(this.logger=s.debug),this.persistSession=s.persistSession,this.storageKey=s.storageKey,this.autoRefreshToken=s.autoRefreshToken,this.admin=new a0({url:s.url,headers:s.headers,fetch:s.fetch}),this.url=s.url,this.headers=s.headers,this.fetch=vf(s.fetch),this.lock=s.lock||jc,this.detectSessionInUrl=s.detectSessionInUrl,this.flowType=s.flowType,this.hasCustomAuthorizationHeader=s.hasCustomAuthorizationHeader,s.lock?this.lock=s.lock:Ve()&&(!((n=globalThis==null?void 0:globalThis.navigator)===null||n===void 0)&&n.locks)?this.lock=h0:this.lock=jc,this.jwks={keys:[]},this.jwks_cached_at=Number.MIN_SAFE_INTEGER,this.mfa={verify:this._verify.bind(this),enroll:this._enroll.bind(this),unenroll:this._unenroll.bind(this),challenge:this._challenge.bind(this),listFactors:this._listFactors.bind(this),challengeAndVerify:this._challengeAndVerify.bind(this),getAuthenticatorAssuranceLevel:this._getAuthenticatorAssuranceLevel.bind(this)},this.persistSession?s.storage?this.storage=s.storage:Mr()?this.storage=u0:(this.memoryStorage={},this.storage=kc(this.memoryStorage)):(this.memoryStorage={},this.storage=kc(this.memoryStorage)),Ve()&&globalThis.BroadcastChannel&&this.persistSession&&this.storageKey){try{this.broadcastChannel=new globalThis.BroadcastChannel(this.storageKey)}catch(i){console.error("Failed to create a new BroadcastChannel, multi-tab state changes will not be available",i)}(r=this.broadcastChannel)===null||r===void 0||r.addEventListener("message",async i=>{this._debug("received broadcast notification from other tab or client",i),await this._notifyAllSubscribers(i.data.event,i.data.session,!1)})}this.initialize()}_debug(...e){return this.logDebugMessages&&this.logger(`GoTrueClient@${this.instanceID} (${ff}) ${new Date().toISOString()}`,...e),this}async initialize(){return this.initializePromise?await this.initializePromise:(this.initializePromise=(async()=>await this._acquireLock(-1,async()=>await this._initialize()))(),await this.initializePromise)}async _initialize(){var e;try{const n=zy(window.location.href);let r="none";if(this._isImplicitGrantCallback(n)?r="implicit":await this._isPKCECallback(n)&&(r="pkce"),Ve()&&this.detectSessionInUrl&&r!=="none"){const{data:s,error:i}=await this._getSessionFromURL(n,r);if(i){if(this._debug("#_initialize()","error detecting session from URL",i),Ty(i)){const l=(e=i.details)===null||e===void 0?void 0:e.code;if(l==="identity_already_exists"||l==="identity_not_found"||l==="single_identity_not_deletable")return{error:i}}return await this._removeSession(),{error:i}}const{session:o,redirectType:a}=s;return this._debug("#_initialize()","detected session in URL",o,"redirect type",a),await this._saveSession(o),setTimeout(async()=>{a==="recovery"?await this._notifyAllSubscribers("PASSWORD_RECOVERY",o):await this._notifyAllSubscribers("SIGNED_IN",o)},0),{error:null}}return await this._recoverAndRefresh(),{error:null}}catch(n){return L(n)?{error:n}:{error:new mf("Unexpected error during initialization",n)}}finally{await this._handleVisibilityChange(),this._debug("#_initialize()","end")}}async signInAnonymously(e){var n,r,s;try{const i=await I(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{data:(r=(n=e==null?void 0:e.options)===null||n===void 0?void 0:n.data)!==null&&r!==void 0?r:{},gotrue_meta_security:{captcha_token:(s=e==null?void 0:e.options)===null||s===void 0?void 0:s.captchaToken}},xform:it}),{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(L(i))return{data:{user:null,session:null},error:i};throw i}}async signUp(e){var n,r,s;try{let i;if("email"in e){const{email:d,password:h,options:f}=e;let v=null,y=null;this.flowType==="pkce"&&([v,y]=await bn(this.storage,this.storageKey)),i=await I(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,redirectTo:f==null?void 0:f.emailRedirectTo,body:{email:d,password:h,data:(n=f==null?void 0:f.data)!==null&&n!==void 0?n:{},gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken},code_challenge:v,code_challenge_method:y},xform:it})}else if("phone"in e){const{phone:d,password:h,options:f}=e;i=await I(this.fetch,"POST",`${this.url}/signup`,{headers:this.headers,body:{phone:d,password:h,data:(r=f==null?void 0:f.data)!==null&&r!==void 0?r:{},channel:(s=f==null?void 0:f.channel)!==null&&s!==void 0?s:"sms",gotrue_meta_security:{captcha_token:f==null?void 0:f.captchaToken}},xform:it})}else throw new Rs("You must provide either an email or phone number and a password");const{data:o,error:a}=i;if(a||!o)return{data:{user:null,session:null},error:a};const l=o.session,c=o.user;return o.session&&(await this._saveSession(o.session),await this._notifyAllSubscribers("SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(i){if(L(i))return{data:{user:null,session:null},error:i};throw i}}async signInWithPassword(e){try{let n;if("email"in e){const{email:i,password:o,options:a}=e;n=await I(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{email:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:_c})}else if("phone"in e){const{phone:i,password:o,options:a}=e;n=await I(this.fetch,"POST",`${this.url}/token?grant_type=password`,{headers:this.headers,body:{phone:i,password:o,gotrue_meta_security:{captcha_token:a==null?void 0:a.captchaToken}},xform:_c})}else throw new Rs("You must provide either an email or phone number and a password");const{data:r,error:s}=n;return s?{data:{user:null,session:null},error:s}:!r||!r.session||!r.user?{data:{user:null,session:null},error:new Os}:(r.session&&(await this._saveSession(r.session),await this._notifyAllSubscribers("SIGNED_IN",r.session)),{data:Object.assign({user:r.user,session:r.session},r.weak_password?{weakPassword:r.weak_password}:null),error:s})}catch(n){if(L(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOAuth(e){var n,r,s,i;return await this._handleProviderSignIn(e.provider,{redirectTo:(n=e.options)===null||n===void 0?void 0:n.redirectTo,scopes:(r=e.options)===null||r===void 0?void 0:r.scopes,queryParams:(s=e.options)===null||s===void 0?void 0:s.queryParams,skipBrowserRedirect:(i=e.options)===null||i===void 0?void 0:i.skipBrowserRedirect})}async exchangeCodeForSession(e){return await this.initializePromise,this._acquireLock(-1,async()=>this._exchangeCodeForSession(e))}async signInWithWeb3(e){const{chain:n}=e;if(n==="solana")return await this.signInWithSolana(e);throw new Error(`@supabase/auth-js: Unsupported chain "${n}"`)}async signInWithSolana(e){var n,r,s,i,o,a,l,c,d,h,f,v;let y,_;if("message"in e)y=e.message,_=e.signature;else{const{chain:k,wallet:g,statement:m,options:p}=e;let x;if(Ve())if(typeof g=="object")x=g;else{const S=window;if("solana"in S&&typeof S.solana=="object"&&("signIn"in S.solana&&typeof S.solana.signIn=="function"||"signMessage"in S.solana&&typeof S.solana.signMessage=="function"))x=S.solana;else throw new Error("@supabase/auth-js: No compatible Solana wallet interface on the window object (window.solana) detected. Make sure the user already has a wallet installed and connected for this app. Prefer passing the wallet interface object directly to signInWithWeb3({ chain: 'solana', wallet: resolvedUserWallet }) instead.")}else{if(typeof g!="object"||!(p!=null&&p.url))throw new Error("@supabase/auth-js: Both wallet and url must be specified in non-browser environments.");x=g}const w=new URL((n=p==null?void 0:p.url)!==null&&n!==void 0?n:window.location.href);if("signIn"in x&&x.signIn){const S=await x.signIn(Object.assign(Object.assign(Object.assign({issuedAt:new Date().toISOString()},p==null?void 0:p.signInWithSolana),{version:"1",domain:w.host,uri:w.href}),m?{statement:m}:null));let b;if(Array.isArray(S)&&S[0]&&typeof S[0]=="object")b=S[0];else if(S&&typeof S=="object"&&"signedMessage"in S&&"signature"in S)b=S;else throw new Error("@supabase/auth-js: Wallet method signIn() returned unrecognized value");if("signedMessage"in b&&"signature"in b&&(typeof b.signedMessage=="string"||b.signedMessage instanceof Uint8Array)&&b.signature instanceof Uint8Array)y=typeof b.signedMessage=="string"?b.signedMessage:new TextDecoder().decode(b.signedMessage),_=b.signature;else throw new Error("@supabase/auth-js: Wallet method signIn() API returned object without signedMessage and signature fields")}else{if(!("signMessage"in x)||typeof x.signMessage!="function"||!("publicKey"in x)||typeof x!="object"||!x.publicKey||!("toBase58"in x.publicKey)||typeof x.publicKey.toBase58!="function")throw new Error("@supabase/auth-js: Wallet does not have a compatible signMessage() and publicKey.toBase58() API");y=[`${w.host} wants you to sign in with your Solana account:`,x.publicKey.toBase58(),...m?["",m,""]:[""],"Version: 1",`URI: ${w.href}`,`Issued At: ${(s=(r=p==null?void 0:p.signInWithSolana)===null||r===void 0?void 0:r.issuedAt)!==null&&s!==void 0?s:new Date().toISOString()}`,...!((i=p==null?void 0:p.signInWithSolana)===null||i===void 0)&&i.notBefore?[`Not Before: ${p.signInWithSolana.notBefore}`]:[],...!((o=p==null?void 0:p.signInWithSolana)===null||o===void 0)&&o.expirationTime?[`Expiration Time: ${p.signInWithSolana.expirationTime}`]:[],...!((a=p==null?void 0:p.signInWithSolana)===null||a===void 0)&&a.chainId?[`Chain ID: ${p.signInWithSolana.chainId}`]:[],...!((l=p==null?void 0:p.signInWithSolana)===null||l===void 0)&&l.nonce?[`Nonce: ${p.signInWithSolana.nonce}`]:[],...!((c=p==null?void 0:p.signInWithSolana)===null||c===void 0)&&c.requestId?[`Request ID: ${p.signInWithSolana.requestId}`]:[],...!((h=(d=p==null?void 0:p.signInWithSolana)===null||d===void 0?void 0:d.resources)===null||h===void 0)&&h.length?["Resources",...p.signInWithSolana.resources.map(b=>`- ${b}`)]:[]].join(`
`);const S=await x.signMessage(new TextEncoder().encode(y),"utf8");if(!S||!(S instanceof Uint8Array))throw new Error("@supabase/auth-js: Wallet signMessage() API returned an recognized value");_=S}}try{const{data:k,error:g}=await I(this.fetch,"POST",`${this.url}/token?grant_type=web3`,{headers:this.headers,body:Object.assign({chain:"solana",message:y,signature:Uy(_)},!((f=e.options)===null||f===void 0)&&f.captchaToken?{gotrue_meta_security:{captcha_token:(v=e.options)===null||v===void 0?void 0:v.captchaToken}}:null),xform:it});if(g)throw g;return!k||!k.session||!k.user?{data:{user:null,session:null},error:new Os}:(k.session&&(await this._saveSession(k.session),await this._notifyAllSubscribers("SIGNED_IN",k.session)),{data:Object.assign({},k),error:g})}catch(k){if(L(k))return{data:{user:null,session:null},error:k};throw k}}async _exchangeCodeForSession(e){const n=await Ls(this.storage,`${this.storageKey}-code-verifier`),[r,s]=(n??"").split("/");try{const{data:i,error:o}=await I(this.fetch,"POST",`${this.url}/token?grant_type=pkce`,{headers:this.headers,body:{auth_code:e,code_verifier:r},xform:it});if(await Is(this.storage,`${this.storageKey}-code-verifier`),o)throw o;return!i||!i.session||!i.user?{data:{user:null,session:null,redirectType:null},error:new Os}:(i.session&&(await this._saveSession(i.session),await this._notifyAllSubscribers("SIGNED_IN",i.session)),{data:Object.assign(Object.assign({},i),{redirectType:s??null}),error:o})}catch(i){if(L(i))return{data:{user:null,session:null,redirectType:null},error:i};throw i}}async signInWithIdToken(e){try{const{options:n,provider:r,token:s,access_token:i,nonce:o}=e,a=await I(this.fetch,"POST",`${this.url}/token?grant_type=id_token`,{headers:this.headers,body:{provider:r,id_token:s,access_token:i,nonce:o,gotrue_meta_security:{captcha_token:n==null?void 0:n.captchaToken}},xform:it}),{data:l,error:c}=a;return c?{data:{user:null,session:null},error:c}:!l||!l.session||!l.user?{data:{user:null,session:null},error:new Os}:(l.session&&(await this._saveSession(l.session),await this._notifyAllSubscribers("SIGNED_IN",l.session)),{data:l,error:c})}catch(n){if(L(n))return{data:{user:null,session:null},error:n};throw n}}async signInWithOtp(e){var n,r,s,i,o;try{if("email"in e){const{email:a,options:l}=e;let c=null,d=null;this.flowType==="pkce"&&([c,d]=await bn(this.storage,this.storageKey));const{error:h}=await I(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{email:a,data:(n=l==null?void 0:l.data)!==null&&n!==void 0?n:{},create_user:(r=l==null?void 0:l.shouldCreateUser)!==null&&r!==void 0?r:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},code_challenge:c,code_challenge_method:d},redirectTo:l==null?void 0:l.emailRedirectTo});return{data:{user:null,session:null},error:h}}if("phone"in e){const{phone:a,options:l}=e,{data:c,error:d}=await I(this.fetch,"POST",`${this.url}/otp`,{headers:this.headers,body:{phone:a,data:(s=l==null?void 0:l.data)!==null&&s!==void 0?s:{},create_user:(i=l==null?void 0:l.shouldCreateUser)!==null&&i!==void 0?i:!0,gotrue_meta_security:{captcha_token:l==null?void 0:l.captchaToken},channel:(o=l==null?void 0:l.channel)!==null&&o!==void 0?o:"sms"}});return{data:{user:null,session:null,messageId:c==null?void 0:c.message_id},error:d}}throw new Rs("You must provide either an email or phone number.")}catch(a){if(L(a))return{data:{user:null,session:null},error:a};throw a}}async verifyOtp(e){var n,r;try{let s,i;"options"in e&&(s=(n=e.options)===null||n===void 0?void 0:n.redirectTo,i=(r=e.options)===null||r===void 0?void 0:r.captchaToken);const{data:o,error:a}=await I(this.fetch,"POST",`${this.url}/verify`,{headers:this.headers,body:Object.assign(Object.assign({},e),{gotrue_meta_security:{captcha_token:i}}),redirectTo:s,xform:it});if(a)throw a;if(!o)throw new Error("An error occurred on token verification.");const l=o.session,c=o.user;return l!=null&&l.access_token&&(await this._saveSession(l),await this._notifyAllSubscribers(e.type=="recovery"?"PASSWORD_RECOVERY":"SIGNED_IN",l)),{data:{user:c,session:l},error:null}}catch(s){if(L(s))return{data:{user:null,session:null},error:s};throw s}}async signInWithSSO(e){var n,r,s;try{let i=null,o=null;return this.flowType==="pkce"&&([i,o]=await bn(this.storage,this.storageKey)),await I(this.fetch,"POST",`${this.url}/sso`,{body:Object.assign(Object.assign(Object.assign(Object.assign(Object.assign({},"providerId"in e?{provider_id:e.providerId}:null),"domain"in e?{domain:e.domain}:null),{redirect_to:(r=(n=e.options)===null||n===void 0?void 0:n.redirectTo)!==null&&r!==void 0?r:void 0}),!((s=e==null?void 0:e.options)===null||s===void 0)&&s.captchaToken?{gotrue_meta_security:{captcha_token:e.options.captchaToken}}:null),{skip_http_redirect:!0,code_challenge:i,code_challenge_method:o}),headers:this.headers,xform:r0})}catch(i){if(L(i))return{data:null,error:i};throw i}}async reauthenticate(){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._reauthenticate())}async _reauthenticate(){try{return await this._useSession(async e=>{const{data:{session:n},error:r}=e;if(r)throw r;if(!n)throw new _t;const{error:s}=await I(this.fetch,"GET",`${this.url}/reauthenticate`,{headers:this.headers,jwt:n.access_token});return{data:{user:null,session:null},error:s}})}catch(e){if(L(e))return{data:{user:null,session:null},error:e};throw e}}async resend(e){try{const n=`${this.url}/resend`;if("email"in e){const{email:r,type:s,options:i}=e,{error:o}=await I(this.fetch,"POST",n,{headers:this.headers,body:{email:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}},redirectTo:i==null?void 0:i.emailRedirectTo});return{data:{user:null,session:null},error:o}}else if("phone"in e){const{phone:r,type:s,options:i}=e,{data:o,error:a}=await I(this.fetch,"POST",n,{headers:this.headers,body:{phone:r,type:s,gotrue_meta_security:{captcha_token:i==null?void 0:i.captchaToken}}});return{data:{user:null,session:null,messageId:o==null?void 0:o.message_id},error:a}}throw new Rs("You must provide either an email or phone number and a type")}catch(n){if(L(n))return{data:{user:null,session:null},error:n};throw n}}async getSession(){return await this.initializePromise,await this._acquireLock(-1,async()=>this._useSession(async n=>n))}async _acquireLock(e,n){this._debug("#_acquireLock","begin",e);try{if(this.lockAcquired){const r=this.pendingInLock.length?this.pendingInLock[this.pendingInLock.length-1]:Promise.resolve(),s=(async()=>(await r,await n()))();return this.pendingInLock.push((async()=>{try{await s}catch{}})()),s}return await this.lock(`lock:${this.storageKey}`,e,async()=>{this._debug("#_acquireLock","lock acquired for storage key",this.storageKey);try{this.lockAcquired=!0;const r=n();for(this.pendingInLock.push((async()=>{try{await r}catch{}})()),await r;this.pendingInLock.length;){const s=[...this.pendingInLock];await Promise.all(s),this.pendingInLock.splice(0,s.length)}return await r}finally{this._debug("#_acquireLock","lock released for storage key",this.storageKey),this.lockAcquired=!1}})}finally{this._debug("#_acquireLock","end")}}async _useSession(e){this._debug("#_useSession","begin");try{const n=await this.__loadSession();return await e(n)}finally{this._debug("#_useSession","end")}}async __loadSession(){this._debug("#__loadSession()","begin"),this.lockAcquired||this._debug("#__loadSession()","used outside of an acquired lock!",new Error().stack);try{let e=null;const n=await Ls(this.storage,this.storageKey);if(this._debug("#getSession()","session from storage",n),n!==null&&(this._isValidSession(n)?e=n:(this._debug("#getSession()","session from storage is not valid"),await this._removeSession())),!e)return{data:{session:null},error:null};const r=e.expires_at?e.expires_at*1e3-Date.now()<bo:!1;if(this._debug("#__loadSession()",`session has${r?"":" not"} expired`,"expires_at",e.expires_at),!r){if(this.storage.isServer){let o=this.suppressGetSessionWarning;e=new Proxy(e,{get:(l,c,d)=>(!o&&c==="user"&&(console.warn("Using the user object as returned from supabase.auth.getSession() or from some supabase.auth.onAuthStateChange() events could be insecure! This value comes directly from the storage medium (usually cookies on the server) and may not be authentic. Use supabase.auth.getUser() instead which authenticates the data by contacting the Supabase Auth server."),o=!0,this.suppressGetSessionWarning=!0),Reflect.get(l,c,d))})}return{data:{session:e},error:null}}const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{session:null},error:i}:{data:{session:s},error:null}}finally{this._debug("#__loadSession()","end")}}async getUser(e){return e?await this._getUser(e):(await this.initializePromise,await this._acquireLock(-1,async()=>await this._getUser()))}async _getUser(e){try{return e?await I(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:e,xform:Et}):await this._useSession(async n=>{var r,s,i;const{data:o,error:a}=n;if(a)throw a;return!(!((r=o.session)===null||r===void 0)&&r.access_token)&&!this.hasCustomAuthorizationHeader?{data:{user:null},error:new _t}:await I(this.fetch,"GET",`${this.url}/user`,{headers:this.headers,jwt:(i=(s=o.session)===null||s===void 0?void 0:s.access_token)!==null&&i!==void 0?i:void 0,xform:Et})})}catch(n){if(L(n))return Py(n)&&(await this._removeSession(),await Is(this.storage,`${this.storageKey}-code-verifier`)),{data:{user:null},error:n};throw n}}async updateUser(e,n={}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._updateUser(e,n))}async _updateUser(e,n={}){try{return await this._useSession(async r=>{const{data:s,error:i}=r;if(i)throw i;if(!s.session)throw new _t;const o=s.session;let a=null,l=null;this.flowType==="pkce"&&e.email!=null&&([a,l]=await bn(this.storage,this.storageKey));const{data:c,error:d}=await I(this.fetch,"PUT",`${this.url}/user`,{headers:this.headers,redirectTo:n==null?void 0:n.emailRedirectTo,body:Object.assign(Object.assign({},e),{code_challenge:a,code_challenge_method:l}),jwt:o.access_token,xform:Et});if(d)throw d;return o.user=c.user,await this._saveSession(o),await this._notifyAllSubscribers("USER_UPDATED",o),{data:{user:o.user},error:null}})}catch(r){if(L(r))return{data:{user:null},error:r};throw r}}async setSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._setSession(e))}async _setSession(e){try{if(!e.access_token||!e.refresh_token)throw new _t;const n=Date.now()/1e3;let r=n,s=!0,i=null;const{payload:o}=Eo(e.access_token);if(o.exp&&(r=o.exp,s=r<=n),s){const{session:a,error:l}=await this._callRefreshToken(e.refresh_token);if(l)return{data:{user:null,session:null},error:l};if(!a)return{data:{user:null,session:null},error:null};i=a}else{const{data:a,error:l}=await this._getUser(e.access_token);if(l)throw l;i={access_token:e.access_token,refresh_token:e.refresh_token,user:a.user,token_type:"bearer",expires_in:r-n,expires_at:r},await this._saveSession(i),await this._notifyAllSubscribers("SIGNED_IN",i)}return{data:{user:i.user,session:i},error:null}}catch(n){if(L(n))return{data:{session:null,user:null},error:n};throw n}}async refreshSession(e){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._refreshSession(e))}async _refreshSession(e){try{return await this._useSession(async n=>{var r;if(!e){const{data:o,error:a}=n;if(a)throw a;e=(r=o.session)!==null&&r!==void 0?r:void 0}if(!(e!=null&&e.refresh_token))throw new _t;const{session:s,error:i}=await this._callRefreshToken(e.refresh_token);return i?{data:{user:null,session:null},error:i}:s?{data:{user:s.user,session:s},error:null}:{data:{user:null,session:null},error:null}})}catch(n){if(L(n))return{data:{user:null,session:null},error:n};throw n}}async _getSessionFromURL(e,n){try{if(!Ve())throw new As("No browser detected.");if(e.error||e.error_description||e.error_code)throw new As(e.error_description||"Error in URL with unspecified error_description",{error:e.error||"unspecified_error",code:e.error_code||"unspecified_code"});switch(n){case"implicit":if(this.flowType==="pkce")throw new mc("Not a valid PKCE flow url.");break;case"pkce":if(this.flowType==="implicit")throw new As("Not a valid implicit grant flow url.");break;default:}if(n==="pkce"){if(this._debug("#_initialize()","begin","is PKCE flow",!0),!e.code)throw new mc("No code detected.");const{data:m,error:p}=await this._exchangeCodeForSession(e.code);if(p)throw p;const x=new URL(window.location.href);return x.searchParams.delete("code"),window.history.replaceState(window.history.state,"",x.toString()),{data:{session:m.session,redirectType:null},error:null}}const{provider_token:r,provider_refresh_token:s,access_token:i,refresh_token:o,expires_in:a,expires_at:l,token_type:c}=e;if(!i||!a||!o||!c)throw new As("No session defined in URL");const d=Math.round(Date.now()/1e3),h=parseInt(a);let f=d+h;l&&(f=parseInt(l));const v=f-d;v*1e3<=Tn&&console.warn(`@supabase/gotrue-js: Session as retrieved from URL expires in ${v}s, should have been closer to ${h}s`);const y=f-h;d-y>=120?console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued over 120s ago, URL could be stale",y,f,d):d-y<0&&console.warn("@supabase/gotrue-js: Session as retrieved from URL was issued in the future? Check the device clock for skew",y,f,d);const{data:_,error:k}=await this._getUser(i);if(k)throw k;const g={provider_token:r,provider_refresh_token:s,access_token:i,expires_in:h,expires_at:f,refresh_token:o,token_type:c,user:_.user};return window.location.hash="",this._debug("#_getSessionFromURL()","clearing window.location.hash"),{data:{session:g,redirectType:e.type},error:null}}catch(r){if(L(r))return{data:{session:null,redirectType:null},error:r};throw r}}_isImplicitGrantCallback(e){return!!(e.access_token||e.error_description)}async _isPKCECallback(e){const n=await Ls(this.storage,`${this.storageKey}-code-verifier`);return!!(e.code&&n)}async signOut(e={scope:"global"}){return await this.initializePromise,await this._acquireLock(-1,async()=>await this._signOut(e))}async _signOut({scope:e}={scope:"global"}){return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{error:i};const o=(r=s.session)===null||r===void 0?void 0:r.access_token;if(o){const{error:a}=await this.admin.signOut(o,e);if(a&&!(Cy(a)&&(a.status===404||a.status===401||a.status===403)))return{error:a}}return e!=="others"&&(await this._removeSession(),await Is(this.storage,`${this.storageKey}-code-verifier`)),{error:null}})}onAuthStateChange(e){const n=My(),r={id:n,callback:e,unsubscribe:()=>{this._debug("#unsubscribe()","state change callback with id removed",n),this.stateChangeEmitters.delete(n)}};return this._debug("#onAuthStateChange()","registered callback with id",n),this.stateChangeEmitters.set(n,r),(async()=>(await this.initializePromise,await this._acquireLock(-1,async()=>{this._emitInitialSession(n)})))(),{data:{subscription:r}}}async _emitInitialSession(e){return await this._useSession(async n=>{var r,s;try{const{data:{session:i},error:o}=n;if(o)throw o;await((r=this.stateChangeEmitters.get(e))===null||r===void 0?void 0:r.callback("INITIAL_SESSION",i)),this._debug("INITIAL_SESSION","callback id",e,"session",i)}catch(i){await((s=this.stateChangeEmitters.get(e))===null||s===void 0?void 0:s.callback("INITIAL_SESSION",null)),this._debug("INITIAL_SESSION","callback id",e,"error",i),console.error(i)}})}async resetPasswordForEmail(e,n={}){let r=null,s=null;this.flowType==="pkce"&&([r,s]=await bn(this.storage,this.storageKey,!0));try{return await I(this.fetch,"POST",`${this.url}/recover`,{body:{email:e,code_challenge:r,code_challenge_method:s,gotrue_meta_security:{captcha_token:n.captchaToken}},headers:this.headers,redirectTo:n.redirectTo})}catch(i){if(L(i))return{data:null,error:i};throw i}}async getUserIdentities(){var e;try{const{data:n,error:r}=await this.getUser();if(r)throw r;return{data:{identities:(e=n.user.identities)!==null&&e!==void 0?e:[]},error:null}}catch(n){if(L(n))return{data:null,error:n};throw n}}async linkIdentity(e){var n;try{const{data:r,error:s}=await this._useSession(async i=>{var o,a,l,c,d;const{data:h,error:f}=i;if(f)throw f;const v=await this._getUrlForProvider(`${this.url}/user/identities/authorize`,e.provider,{redirectTo:(o=e.options)===null||o===void 0?void 0:o.redirectTo,scopes:(a=e.options)===null||a===void 0?void 0:a.scopes,queryParams:(l=e.options)===null||l===void 0?void 0:l.queryParams,skipBrowserRedirect:!0});return await I(this.fetch,"GET",v,{headers:this.headers,jwt:(d=(c=h.session)===null||c===void 0?void 0:c.access_token)!==null&&d!==void 0?d:void 0})});if(s)throw s;return Ve()&&!(!((n=e.options)===null||n===void 0)&&n.skipBrowserRedirect)&&window.location.assign(r==null?void 0:r.url),{data:{provider:e.provider,url:r==null?void 0:r.url},error:null}}catch(r){if(L(r))return{data:{provider:e.provider,url:null},error:r};throw r}}async unlinkIdentity(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)throw o;return await I(this.fetch,"DELETE",`${this.url}/user/identities/${e.identity_id}`,{headers:this.headers,jwt:(s=(r=i.session)===null||r===void 0?void 0:r.access_token)!==null&&s!==void 0?s:void 0})})}catch(n){if(L(n))return{data:null,error:n};throw n}}async _refreshAccessToken(e){const n=`#_refreshAccessToken(${e.substring(0,5)}...)`;this._debug(n,"begin");try{const r=Date.now();return await Wy(async s=>(s>0&&await By(200*Math.pow(2,s-1)),this._debug(n,"refreshing attempt",s),await I(this.fetch,"POST",`${this.url}/token?grant_type=refresh_token`,{body:{refresh_token:e},headers:this.headers,xform:it})),(s,i)=>{const o=200*Math.pow(2,s);return i&&No(i)&&Date.now()+o-r<Tn})}catch(r){if(this._debug(n,"error",r),L(r))return{data:{session:null,user:null},error:r};throw r}finally{this._debug(n,"end")}}_isValidSession(e){return typeof e=="object"&&e!==null&&"access_token"in e&&"refresh_token"in e&&"expires_at"in e}async _handleProviderSignIn(e,n){const r=await this._getUrlForProvider(`${this.url}/authorize`,e,{redirectTo:n.redirectTo,scopes:n.scopes,queryParams:n.queryParams});return this._debug("#_handleProviderSignIn()","provider",e,"options",n,"url",r),Ve()&&!n.skipBrowserRedirect&&window.location.assign(r),{data:{provider:e,url:r},error:null}}async _recoverAndRefresh(){var e;const n="#_recoverAndRefresh()";this._debug(n,"begin");try{const r=await Ls(this.storage,this.storageKey);if(this._debug(n,"session from storage",r),!this._isValidSession(r)){this._debug(n,"session is not valid"),r!==null&&await this._removeSession();return}const s=((e=r.expires_at)!==null&&e!==void 0?e:1/0)*1e3-Date.now()<bo;if(this._debug(n,`session has${s?"":" not"} expired with margin of ${bo}s`),s){if(this.autoRefreshToken&&r.refresh_token){const{error:i}=await this._callRefreshToken(r.refresh_token);i&&(console.error(i),No(i)||(this._debug(n,"refresh failed with a non-retryable error, removing the session",i),await this._removeSession()))}}else await this._notifyAllSubscribers("SIGNED_IN",r)}catch(r){this._debug(n,"error",r),console.error(r);return}finally{this._debug(n,"end")}}async _callRefreshToken(e){var n,r;if(!e)throw new _t;if(this.refreshingDeferred)return this.refreshingDeferred.promise;const s=`#_callRefreshToken(${e.substring(0,5)}...)`;this._debug(s,"begin");try{this.refreshingDeferred=new Gi;const{data:i,error:o}=await this._refreshAccessToken(e);if(o)throw o;if(!i.session)throw new _t;await this._saveSession(i.session),await this._notifyAllSubscribers("TOKEN_REFRESHED",i.session);const a={session:i.session,error:null};return this.refreshingDeferred.resolve(a),a}catch(i){if(this._debug(s,"error",i),L(i)){const o={session:null,error:i};return No(i)||await this._removeSession(),(n=this.refreshingDeferred)===null||n===void 0||n.resolve(o),o}throw(r=this.refreshingDeferred)===null||r===void 0||r.reject(i),i}finally{this.refreshingDeferred=null,this._debug(s,"end")}}async _notifyAllSubscribers(e,n,r=!0){const s=`#_notifyAllSubscribers(${e})`;this._debug(s,"begin",n,`broadcast = ${r}`);try{this.broadcastChannel&&r&&this.broadcastChannel.postMessage({event:e,session:n});const i=[],o=Array.from(this.stateChangeEmitters.values()).map(async a=>{try{await a.callback(e,n)}catch(l){i.push(l)}});if(await Promise.all(o),i.length>0){for(let a=0;a<i.length;a+=1)console.error(i[a]);throw i[0]}}finally{this._debug(s,"end")}}async _saveSession(e){this._debug("#_saveSession()",e),this.suppressGetSessionWarning=!0,await yf(this.storage,this.storageKey,e)}async _removeSession(){this._debug("#_removeSession()"),await Is(this.storage,this.storageKey),await this._notifyAllSubscribers("SIGNED_OUT",null)}_removeVisibilityChangedCallback(){this._debug("#_removeVisibilityChangedCallback()");const e=this.visibilityChangedCallback;this.visibilityChangedCallback=null;try{e&&Ve()&&(window!=null&&window.removeEventListener)&&window.removeEventListener("visibilitychange",e)}catch(n){console.error("removing visibilitychange callback failed",n)}}async _startAutoRefresh(){await this._stopAutoRefresh(),this._debug("#_startAutoRefresh()");const e=setInterval(()=>this._autoRefreshTokenTick(),Tn);this.autoRefreshTicker=e,e&&typeof e=="object"&&typeof e.unref=="function"?e.unref():typeof Deno<"u"&&typeof Deno.unrefTimer=="function"&&Deno.unrefTimer(e),setTimeout(async()=>{await this.initializePromise,await this._autoRefreshTokenTick()},0)}async _stopAutoRefresh(){this._debug("#_stopAutoRefresh()");const e=this.autoRefreshTicker;this.autoRefreshTicker=null,e&&clearInterval(e)}async startAutoRefresh(){this._removeVisibilityChangedCallback(),await this._startAutoRefresh()}async stopAutoRefresh(){this._removeVisibilityChangedCallback(),await this._stopAutoRefresh()}async _autoRefreshTokenTick(){this._debug("#_autoRefreshTokenTick()","begin");try{await this._acquireLock(0,async()=>{try{const e=Date.now();try{return await this._useSession(async n=>{const{data:{session:r}}=n;if(!r||!r.refresh_token||!r.expires_at){this._debug("#_autoRefreshTokenTick()","no session");return}const s=Math.floor((r.expires_at*1e3-e)/Tn);this._debug("#_autoRefreshTokenTick()",`access token expires in ${s} ticks, a tick lasts ${Tn}ms, refresh threshold is ${Al} ticks`),s<=Al&&await this._callRefreshToken(r.refresh_token)})}catch(n){console.error("Auto refresh tick failed with error. This is likely a transient error.",n)}}finally{this._debug("#_autoRefreshTokenTick()","end")}})}catch(e){if(e.isAcquireTimeout||e instanceof xf)this._debug("auto refresh token tick lock not available");else throw e}}async _handleVisibilityChange(){if(this._debug("#_handleVisibilityChange()"),!Ve()||!(window!=null&&window.addEventListener))return this.autoRefreshToken&&this.startAutoRefresh(),!1;try{this.visibilityChangedCallback=async()=>await this._onVisibilityChanged(!1),window==null||window.addEventListener("visibilitychange",this.visibilityChangedCallback),await this._onVisibilityChanged(!0)}catch(e){console.error("_handleVisibilityChange",e)}}async _onVisibilityChanged(e){const n=`#_onVisibilityChanged(${e})`;this._debug(n,"visibilityState",document.visibilityState),document.visibilityState==="visible"?(this.autoRefreshToken&&this._startAutoRefresh(),e||(await this.initializePromise,await this._acquireLock(-1,async()=>{if(document.visibilityState!=="visible"){this._debug(n,"acquired the lock to recover the session, but the browser visibilityState is no longer visible, aborting");return}await this._recoverAndRefresh()}))):document.visibilityState==="hidden"&&this.autoRefreshToken&&this._stopAutoRefresh()}async _getUrlForProvider(e,n,r){const s=[`provider=${encodeURIComponent(n)}`];if(r!=null&&r.redirectTo&&s.push(`redirect_to=${encodeURIComponent(r.redirectTo)}`),r!=null&&r.scopes&&s.push(`scopes=${encodeURIComponent(r.scopes)}`),this.flowType==="pkce"){const[i,o]=await bn(this.storage,this.storageKey),a=new URLSearchParams({code_challenge:`${encodeURIComponent(i)}`,code_challenge_method:`${encodeURIComponent(o)}`});s.push(a.toString())}if(r!=null&&r.queryParams){const i=new URLSearchParams(r.queryParams);s.push(i.toString())}return r!=null&&r.skipBrowserRedirect&&s.push(`skip_http_redirect=${r.skipBrowserRedirect}`),`${e}?${s.join("&")}`}async _unenroll(e){try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await I(this.fetch,"DELETE",`${this.url}/factors/${e.factorId}`,{headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(L(n))return{data:null,error:n};throw n}}async _enroll(e){try{return await this._useSession(async n=>{var r,s;const{data:i,error:o}=n;if(o)return{data:null,error:o};const a=Object.assign({friendly_name:e.friendlyName,factor_type:e.factorType},e.factorType==="phone"?{phone:e.phone}:{issuer:e.issuer}),{data:l,error:c}=await I(this.fetch,"POST",`${this.url}/factors`,{body:a,headers:this.headers,jwt:(r=i==null?void 0:i.session)===null||r===void 0?void 0:r.access_token});return c?{data:null,error:c}:(e.factorType==="totp"&&(!((s=l==null?void 0:l.totp)===null||s===void 0)&&s.qr_code)&&(l.totp.qr_code=`data:image/svg+xml;utf-8,${l.totp.qr_code}`),{data:l,error:null})})}catch(n){if(L(n))return{data:null,error:n};throw n}}async _verify(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;if(i)return{data:null,error:i};const{data:o,error:a}=await I(this.fetch,"POST",`${this.url}/factors/${e.factorId}/verify`,{body:{code:e.code,challenge_id:e.challengeId},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token});return a?{data:null,error:a}:(await this._saveSession(Object.assign({expires_at:Math.round(Date.now()/1e3)+o.expires_in},o)),await this._notifyAllSubscribers("MFA_CHALLENGE_VERIFIED",o),{data:o,error:a})})}catch(n){if(L(n))return{data:null,error:n};throw n}})}async _challenge(e){return this._acquireLock(-1,async()=>{try{return await this._useSession(async n=>{var r;const{data:s,error:i}=n;return i?{data:null,error:i}:await I(this.fetch,"POST",`${this.url}/factors/${e.factorId}/challenge`,{body:{channel:e.channel},headers:this.headers,jwt:(r=s==null?void 0:s.session)===null||r===void 0?void 0:r.access_token})})}catch(n){if(L(n))return{data:null,error:n};throw n}})}async _challengeAndVerify(e){const{data:n,error:r}=await this._challenge({factorId:e.factorId});return r?{data:null,error:r}:await this._verify({factorId:e.factorId,challengeId:n.id,code:e.code})}async _listFactors(){const{data:{user:e},error:n}=await this.getUser();if(n)return{data:null,error:n};const r=(e==null?void 0:e.factors)||[],s=r.filter(o=>o.factor_type==="totp"&&o.status==="verified"),i=r.filter(o=>o.factor_type==="phone"&&o.status==="verified");return{data:{all:r,totp:s,phone:i},error:null}}async _getAuthenticatorAssuranceLevel(){return this._acquireLock(-1,async()=>await this._useSession(async e=>{var n,r;const{data:{session:s},error:i}=e;if(i)return{data:null,error:i};if(!s)return{data:{currentLevel:null,nextLevel:null,currentAuthenticationMethods:[]},error:null};const{payload:o}=Eo(s.access_token);let a=null;o.aal&&(a=o.aal);let l=a;((r=(n=s.user.factors)===null||n===void 0?void 0:n.filter(h=>h.status==="verified"))!==null&&r!==void 0?r:[]).length>0&&(l="aal2");const d=o.amr||[];return{data:{currentLevel:a,nextLevel:l,currentAuthenticationMethods:d},error:null}}))}async fetchJwk(e,n={keys:[]}){let r=n.keys.find(o=>o.kid===e);if(r||(r=this.jwks.keys.find(o=>o.kid===e),r&&this.jwks_cached_at+Ny>Date.now()))return r;const{data:s,error:i}=await I(this.fetch,"GET",`${this.url}/.well-known/jwks.json`,{headers:this.headers});if(i)throw i;if(!s.keys||s.keys.length===0)throw new Dr("JWKS is empty");if(this.jwks=s,this.jwks_cached_at=Date.now(),r=s.keys.find(o=>o.kid===e),!r)throw new Dr("No matching signing key found in JWKS");return r}async getClaims(e,n={keys:[]}){try{let r=e;if(!r){const{data:v,error:y}=await this.getSession();if(y||!v.session)return{data:null,error:y};r=v.session.access_token}const{header:s,payload:i,signature:o,raw:{header:a,payload:l}}=Eo(r);if(Jy(i.exp),!s.kid||s.alg==="HS256"||!("crypto"in globalThis&&"subtle"in globalThis.crypto)){const{error:v}=await this.getUser(r);if(v)throw v;return{data:{claims:i,header:s,signature:o},error:null}}const c=Yy(s.alg),d=await this.fetchJwk(s.kid,n),h=await crypto.subtle.importKey("jwk",d,c,!0,["verify"]);if(!await crypto.subtle.verify(c,h,o,$y(`${a}.${l}`)))throw new Dr("Invalid JWT signature");return{data:{claims:i,header:s,signature:o},error:null}}catch(r){if(L(r))return{data:null,error:r};throw r}}}is.nextInstanceID=0;const p0=is;class m0 extends p0{constructor(e){super(e)}}var g0=globalThis&&globalThis.__awaiter||function(t,e,n,r){function s(i){return i instanceof n?i:new n(function(o){o(i)})}return new(n||(n=Promise))(function(i,o){function a(d){try{c(r.next(d))}catch(h){o(h)}}function l(d){try{c(r.throw(d))}catch(h){o(h)}}function c(d){d.done?i(d.value):s(d.value).then(a,l)}c((r=r.apply(t,e||[])).next())})};class v0{constructor(e,n,r){var s,i,o;if(this.supabaseUrl=e,this.supabaseKey=n,!e)throw new Error("supabaseUrl is required.");if(!n)throw new Error("supabaseKey is required.");const a=wy(e),l=new URL(a);this.realtimeUrl=new URL("realtime/v1",l),this.realtimeUrl.protocol=this.realtimeUrl.protocol.replace("http","ws"),this.authUrl=new URL("auth/v1",l),this.storageUrl=new URL("storage/v1",l),this.functionsUrl=new URL("functions/v1",l);const c=`sb-${l.hostname.split(".")[0]}-auth-token`,d={db:hy,realtime:py,auth:Object.assign(Object.assign({},fy),{storageKey:c}),global:dy},h=_y(r??{},d);this.storageKey=(s=h.auth.storageKey)!==null&&s!==void 0?s:"",this.headers=(i=h.global.headers)!==null&&i!==void 0?i:{},h.accessToken?(this.accessToken=h.accessToken,this.auth=new Proxy({},{get:(f,v)=>{throw new Error(`@supabase/supabase-js: Supabase Client is configured with the accessToken option, accessing supabase.auth.${String(v)} is not possible`)}})):this.auth=this._initSupabaseAuthClient((o=h.auth)!==null&&o!==void 0?o:{},this.headers,h.global.fetch),this.fetch=yy(n,this._getAccessToken.bind(this),h.global.fetch),this.realtime=this._initRealtimeClient(Object.assign({headers:this.headers,accessToken:this._getAccessToken.bind(this)},h.realtime)),this.rest=new Lv(new URL("rest/v1",l).href,{headers:this.headers,schema:h.db.schema,fetch:this.fetch}),h.accessToken||this._listenForAuthEvents()}get functions(){return new cv(this.functionsUrl.href,{headers:this.headers,customFetch:this.fetch})}get storage(){return new ay(this.storageUrl.href,this.headers,this.fetch)}from(e){return this.rest.from(e)}schema(e){return this.rest.schema(e)}rpc(e,n={},r={}){return this.rest.rpc(e,n,r)}channel(e,n={config:{}}){return this.realtime.channel(e,n)}getChannels(){return this.realtime.getChannels()}removeChannel(e){return this.realtime.removeChannel(e)}removeAllChannels(){return this.realtime.removeAllChannels()}_getAccessToken(){var e,n;return g0(this,void 0,void 0,function*(){if(this.accessToken)return yield this.accessToken();const{data:r}=yield this.auth.getSession();return(n=(e=r.session)===null||e===void 0?void 0:e.access_token)!==null&&n!==void 0?n:null})}_initSupabaseAuthClient({autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,storageKey:i,flowType:o,lock:a,debug:l},c,d){const h={Authorization:`Bearer ${this.supabaseKey}`,apikey:`${this.supabaseKey}`};return new m0({url:this.authUrl.href,headers:Object.assign(Object.assign({},h),c),storageKey:i,autoRefreshToken:e,persistSession:n,detectSessionInUrl:r,storage:s,flowType:o,lock:a,debug:l,fetch:d,hasCustomAuthorizationHeader:"Authorization"in this.headers})}_initRealtimeClient(e){return new Gv(this.realtimeUrl.href,Object.assign(Object.assign({},e),{params:Object.assign({apikey:this.supabaseKey},e==null?void 0:e.params)}))}_listenForAuthEvents(){return this.auth.onAuthStateChange((n,r)=>{this._handleTokenChanged(n,"CLIENT",r==null?void 0:r.access_token)})}_handleTokenChanged(e,n,r){(e==="TOKEN_REFRESHED"||e==="SIGNED_IN")&&this.changedAccessToken!==r?this.changedAccessToken=r:e==="SIGNED_OUT"&&(this.realtime.setAuth(),n=="STORAGE"&&this.auth.signOut(),this.changedAccessToken=void 0)}}const y0=(t,e,n)=>new v0(t,e,n),x0="https://jsiavohlypmyifvuxnen.supabase.co",w0="eyJhbGciOiJIUzI1NiIsInR5cCI6IkpXVCJ9.eyJpc3MiOiJzdXBhYmFzZSIsInJlZiI6ImpzaWF2b2hseXBteWlmdnV4bmVuIiwicm9sZSI6ImFub24iLCJpYXQiOjE3NTAzMjk2MDcsImV4cCI6MjA2NTkwNTYwN30.2hT01eZpOckndCPrIa-Uc0lw58353ro6c4_hILtN9kg",Z=y0(x0,w0,{auth:{autoRefreshToken:!0,persistSession:!0,detectSessionInUrl:!0,flowType:"pkce"}}),wf=j.createContext(void 0),Gt=()=>{const t=j.useContext(wf);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t},_0=({children:t})=>{const[e,n]=j.useState(null),[r,s]=j.useState(null),[i,o]=j.useState(null),[a,l]=j.useState(!0),[c,d]=j.useState(!1),h=()=>d(!0),f=()=>d(!1),v=x=>{var w,S;return{id:x.id,email:x.email||"",full_name:((w=x.user_metadata)==null?void 0:w.full_name)||null,avatar_url:((S=x.user_metadata)==null?void 0:S.avatar_url)||null,created_at:x.created_at,updated_at:new Date().toISOString()}};j.useEffect(()=>{let x=!0;const w=async()=>{try{const{data:{session:b}}=await Z.auth.getSession();x&&(s(b),n((b==null?void 0:b.user)??null),o(b!=null&&b.user?v(b.user):null),l(!1))}catch(b){console.error("Auth initialization error:",b),x&&(s(null),n(null),o(null),l(!1))}},{data:{subscription:S}}=Z.auth.onAuthStateChange((b,C)=>{x&&(s(C),n((C==null?void 0:C.user)??null),o(C!=null&&C.user?v(C.user):null),l(!1))});return w(),()=>{x=!1,S.unsubscribe()}},[]);const y=j.useCallback(async(x,w,S)=>{const{error:b}=await Z.auth.signUp({email:x,password:w,options:{data:{full_name:S}}});return{error:b}},[]),_=j.useCallback(async(x,w)=>{const{error:S}=await Z.auth.signInWithPassword({email:x,password:w});return{error:S}},[]),k=j.useCallback(async()=>{await Z.auth.signOut()},[]),g=j.useCallback(async x=>{if(!e)return{error:"No user logged in"};const{error:w}=await Z.from("profiles").upsert({id:e.id,...x});return!w&&i&&o({...i,...x}),{error:w}},[e,i]),m=j.useCallback(async()=>{if(!e)return!1;const{data:x,error:w}=await Z.from("initial_forms").select("id").eq("user_id",e.id).single();return!w&&!!x},[e]),p=j.useMemo(()=>({user:e,profile:i,session:r,loading:a,signUp:y,signIn:_,signOut:k,updateProfile:g,hasCompletedOnboarding:m,isAuthModalOpen:c,openAuthModal:h,closeAuthModal:f}),[e,i,r,a,y,_,k,g,m,c]);return u.jsx(wf.Provider,{value:p,children:t})};var k0={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};const j0=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),S0=(t,e)=>{const n=j.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:i=2,absoluteStrokeWidth:o,children:a,...l},c)=>j.createElement("svg",{ref:c,...k0,width:s,height:s,stroke:r,strokeWidth:o?Number(i)*24/Number(s):i,className:`lucide lucide-${j0(t)}`,...l},[...e.map(([d,h])=>j.createElement(d,h)),...(Array.isArray(a)?a:[a])||[]]));return n.displayName=`${t}`,n};var W=S0;const b0=W("AlertCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["line",{x1:"12",x2:"12",y1:"8",y2:"12",key:"1pkeuh"}],["line",{x1:"12",x2:"12.01",y1:"16",y2:"16",key:"4dfq90"}]]),$l=W("AlertTriangle",[["path",{d:"m21.73 18-8-14a2 2 0 0 0-3.48 0l-8 14A2 2 0 0 0 4 21h16a2 2 0 0 0 1.73-3Z",key:"c3ski4"}],["path",{d:"M12 9v4",key:"juzpu7"}],["path",{d:"M12 17h.01",key:"p32p05"}]]),N0=W("ArrowLeft",[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]]),sr=W("ArrowRight",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]]),E0=W("BrainCircuit",[["path",{d:"M12 4.5a2.5 2.5 0 0 0-4.96-.46 2.5 2.5 0 0 0-1.98 3 2.5 2.5 0 0 0-1.32 4.24 3 3 0 0 0 .34 5.58 2.5 2.5 0 0 0 2.96 3.08 2.5 2.5 0 0 0 4.91.05L12 20V4.5Z",key:"ixwj2a"}],["path",{d:"M16 8V5c0-1.1.9-2 2-2",key:"13dx7u"}],["path",{d:"M12 13h4",key:"1ku699"}],["path",{d:"M12 18h6a2 2 0 0 1 2 2v1",key:"105ag5"}],["path",{d:"M12 8h8",key:"1lhi5i"}],["path",{d:"M20.5 8a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0Z",key:"1s25gz"}],["path",{d:"M16.5 13a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0Z",key:"127460"}],["path",{d:"M20.5 21a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0Z",key:"fys062"}],["path",{d:"M18.5 3a.5.5 0 1 1-1 0 .5.5 0 0 1 1 0Z",key:"1vib61"}]]),C0=W("Brain",[["path",{d:"M9.5 2A2.5 2.5 0 0 1 12 4.5v15a2.5 2.5 0 0 1-4.96.44 2.5 2.5 0 0 1-2.96-3.08 3 3 0 0 1-.34-5.58 2.5 2.5 0 0 1 1.32-4.24 2.5 2.5 0 0 1 1.98-3A2.5 2.5 0 0 1 9.5 2Z",key:"1mhkh5"}],["path",{d:"M14.5 2A2.5 2.5 0 0 0 12 4.5v15a2.5 2.5 0 0 0 4.96.44 2.5 2.5 0 0 0 2.96-3.08 3 3 0 0 0 .34-5.58 2.5 2.5 0 0 0-1.32-4.24 2.5 2.5 0 0 0-1.98-3A2.5 2.5 0 0 0 14.5 2Z",key:"1d6s00"}]]),ki=W("CheckCircle",[["path",{d:"M22 11.08V12a10 10 0 1 1-5.93-9.14",key:"g774vq"}],["polyline",{points:"22 4 12 14.01 9 11.01",key:"6xbx8j"}]]),Ul=W("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]),P0=W("EyeOff",[["path",{d:"M9.88 9.88a3 3 0 1 0 4.24 4.24",key:"1jxqfv"}],["path",{d:"M10.73 5.08A10.43 10.43 0 0 1 12 5c7 0 10 7 10 7a13.16 13.16 0 0 1-1.67 2.68",key:"9wicm4"}],["path",{d:"M6.61 6.61A13.526 13.526 0 0 0 2 12s3 7 10 7a9.74 9.74 0 0 0 5.39-1.61",key:"1jreej"}],["line",{x1:"2",x2:"22",y1:"2",y2:"22",key:"a6p6uj"}]]),T0=W("Eye",[["path",{d:"M2 12s3-7 10-7 10 7 10 7-3 7-10 7-10-7-10-7Z",key:"rwhkz3"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]),O0=W("Lightbulb",[["path",{d:"M15 14c.2-1 .7-1.7 1.5-2.5 1-.9 1.5-2.2 1.5-3.5A6 6 0 0 0 6 8c0 1 .2 2.2 1.5 3.5.7.7 1.3 1.5 1.5 2.5",key:"1gvzjb"}],["path",{d:"M9 18h6",key:"x1upvd"}],["path",{d:"M10 22h4",key:"ceow96"}]]),R0=W("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]),Sc=W("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]),ji=W("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]),bc=W("Maximize",[["path",{d:"M8 3H5a2 2 0 0 0-2 2v3",key:"1dcmit"}],["path",{d:"M21 8V5a2 2 0 0 0-2-2h-3",key:"1e4gt3"}],["path",{d:"M3 16v3a2 2 0 0 0 2 2h3",key:"wsl5sc"}],["path",{d:"M16 21h3a2 2 0 0 0 2-2v-3",key:"18trek"}]]),A0=W("Minimize",[["path",{d:"M8 3v3a2 2 0 0 1-2 2H3",key:"hohbtr"}],["path",{d:"M21 8h-3a2 2 0 0 1-2-2V3",key:"5jw1f3"}],["path",{d:"M3 16h3a2 2 0 0 1 2 2v3",key:"198tvr"}],["path",{d:"M16 21v-3a2 2 0 0 1 2-2h3",key:"ph8mxp"}]]),Cn=W("PenLine",[["path",{d:"M12 20h9",key:"t2du7b"}],["path",{d:"M16.5 3.5a2.12 2.12 0 0 1 3 3L7 19l-4 1 1-4Z",key:"ymcmye"}]]),L0=W("RefreshCw",[["path",{d:"M3 12a9 9 0 0 1 9-9 9.75 9.75 0 0 1 6.74 2.74L21 8",key:"v9h5vc"}],["path",{d:"M21 3v5h-5",key:"1q7to0"}],["path",{d:"M21 12a9 9 0 0 1-9 9 9.75 9.75 0 0 1-6.74-2.74L3 16",key:"3uifl3"}],["path",{d:"M8 16H3v5",key:"1cv678"}]]),I0=W("Target",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["circle",{cx:"12",cy:"12",r:"6",key:"1vlfrh"}],["circle",{cx:"12",cy:"12",r:"2",key:"1c9p78"}]]),$0=W("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]),U0=W("Twitter",[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]]),_f=W("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]),D0=W("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]),M0=W("XCircle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m15 9-6 6",key:"1uzhvr"}],["path",{d:"m9 9 6 6",key:"z0biqf"}]]),Fa=W("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),z0=W("Zap",[["polygon",{points:"13 2 3 14 12 14 11 22 21 10 12 10 13 2",key:"45s27k"}]]);function F0({onGetStartedClick:t}){const{user:e,signOut:n,profile:r,loading:s}=Gt(),[i,o]=j.useState(!1),[a,l]=j.useState(!1),[c,d]=j.useState(!1);j.useEffect(()=>{const f=()=>{l(window.scrollY>window.innerHeight*.5)};return window.addEventListener("scroll",f),()=>window.removeEventListener("scroll",f)},[]),j.useEffect(()=>{const f=()=>d(!1);if(c)return document.addEventListener("click",f),()=>document.removeEventListener("click",f)},[c]);const h=async()=>{try{await n(),d(!1)}catch(f){console.error("Sign out error:",f)}};return u.jsxs("nav",{className:"bg-background-primary/80 backdrop-blur-md border-b border-surface-border/20 sticky top-0 z-50",children:[u.jsx("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:u.jsxs("div",{className:"relative flex items-center justify-between h-20",children:[u.jsx("div",{className:"flex-shrink-0",children:u.jsx("div",{className:`transition-all duration-300 ${a?"opacity-100":"opacity-0"}`,children:u.jsx("a",{href:"#hero",className:"text-2xl font-bold text-text-primary cursor-pointer",children:"together"})})}),u.jsxs("div",{className:"hidden md:flex items-center space-x-6",children:[u.jsx("a",{href:"/#how-it-works",className:"text-text-tertiary hover:text-experimental-pink transition-colors font-medium",children:"How It Works"}),u.jsx("a",{href:"/#features",className:"text-text-tertiary hover:text-experimental-pink transition-colors font-medium",children:"Features"}),u.jsx("a",{href:"/#who-its-for",className:"text-text-tertiary hover:text-experimental-pink transition-colors font-medium",children:"Who It's For"}),u.jsx("a",{href:"/#pricing",className:"text-text-tertiary hover:text-experimental-pink transition-colors font-medium",children:"Pricing"}),u.jsx("a",{href:"/#faq",className:"text-text-tertiary hover:text-experimental-pink transition-colors font-medium",children:"FAQ"}),s?u.jsx("div",{className:"w-8 h-8 border-2 border-experimental-electric border-t-transparent rounded-full animate-spin"}):e?u.jsxs("div",{className:"relative",children:[u.jsxs("button",{onClick:f=>{f.stopPropagation(),d(!c)},className:"flex items-center space-x-2 bg-experimental-faded-blue text-white font-medium py-2 px-4 rounded-lg hover:bg-experimental-blue-hover transition-colors",children:[u.jsx(_f,{className:"w-4 h-4"}),u.jsx("span",{children:(r==null?void 0:r.full_name)||e.email||"User"})]}),c&&u.jsx("div",{className:"absolute right-0 mt-2 w-48 bg-surface-elevated border border-surface-border/30 rounded-lg shadow-elegant-xl z-50",children:u.jsxs("div",{className:"py-2",children:[u.jsx(ic,{to:"/dashboard",className:"block px-4 py-2 text-text-primary hover:bg-surface-hover transition-colors",onClick:()=>d(!1),children:"Dashboard"}),u.jsxs("button",{onClick:h,className:"w-full text-left px-4 py-2 text-text-secondary hover:bg-surface-hover hover:text-experimental-pink transition-colors flex items-center",children:[u.jsx(Sc,{className:"w-4 h-4 mr-2"}),"Sign Out"]})]})})]}):u.jsxs("button",{onClick:t,className:"group flex items-center bg-experimental-faded-blue text-experimental-electric font-bold py-2 px-4 rounded-lg hover:bg-experimental-blue-hover transition-colors",children:[u.jsx(sr,{className:"w-5 h-5 mr-2 transition-transform duration-200 group-hover:translate-x-1"}),"Focus"]})]}),u.jsx("div",{className:"md:hidden",children:u.jsxs("button",{onClick:()=>o(!i),className:"inline-flex items-center justify-center p-2 rounded-md text-text-tertiary hover:text-white hover:bg-surface-hover focus:outline-none focus:ring-2 focus:ring-inset focus:ring-white",children:[u.jsx("span",{className:"sr-only",children:"Open main menu"}),i?u.jsx("svg",{className:"block h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M6 18L18 6M6 6l12 12"})}):u.jsx("svg",{className:"block h-6 w-6",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor","aria-hidden":"true",children:u.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:"2",d:"M4 6h16M4 12h16M4 18h16"})})]})})]})}),i&&u.jsx("div",{className:"md:hidden py-6 border-t border-surface-border/30",children:u.jsxs("div",{className:"flex flex-col space-y-4 px-6",children:[u.jsx("a",{href:"/#how-it-works",className:"text-text-tertiary hover:text-experimental-pink transition-colors font-medium py-2",children:"How It Works"}),u.jsx("a",{href:"/#features",className:"text-text-tertiary hover:text-experimental-pink transition-colors font-medium py-2",children:"Features"}),u.jsx("a",{href:"/#who-its-for",className:"text-text-tertiary hover:text-experimental-pink transition-colors font-medium py-2",children:"Who It's For"}),u.jsx("a",{href:"/#pricing",className:"text-text-tertiary hover:text-experimental-pink transition-colors font-medium py-2",children:"Pricing"}),u.jsx("a",{href:"/#faq",className:"text-text-tertiary hover:text-experimental-pink transition-colors font-medium py-2",children:"FAQ"}),s?u.jsx("div",{className:"pt-4 border-t border-surface-border/30 flex justify-center",children:u.jsx("div",{className:"w-6 h-6 border-2 border-experimental-electric border-t-transparent rounded-full animate-spin"})}):e?u.jsxs("div",{className:"pt-4 border-t border-surface-border/30",children:[u.jsx("div",{className:"text-text-primary font-medium mb-2 px-2",children:(r==null?void 0:r.full_name)||e.email||"User"}),u.jsx(ic,{to:"/dashboard",className:"w-full flex justify-center items-center bg-experimental-faded-blue text-white font-bold py-3 px-4 rounded-lg hover:bg-experimental-blue-hover transition-colors",children:"Go to Dashboard"}),u.jsxs("button",{onClick:h,className:"w-full mt-2 text-text-tertiary hover:text-experimental-pink transition-colors font-medium py-2 flex items-center justify-center",children:[u.jsx(Sc,{className:"w-4 h-4 mr-2"}),"Sign Out"]})]}):u.jsx("div",{className:"pt-4 border-t border-surface-border/30",children:u.jsxs("button",{onClick:t,className:"group w-full flex justify-center items-center bg-experimental-faded-blue text-experimental-electric font-bold py-3 px-4 rounded-lg hover:bg-experimental-blue-hover transition-colors",children:[u.jsx(sr,{className:"w-5 h-5 mr-2 transition-transform duration-200 group-hover:translate-x-1"}),"Focus"]})})]})})]})}const B0=()=>u.jsxs("footer",{className:"bg-background-primary",children:[u.jsx("div",{className:"flex justify-center py-8",children:u.jsx("div",{className:"w-24 h-px bg-surface-border/40"})}),u.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 pb-12",children:[u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-8",children:[u.jsxs("div",{className:"col-span-1 md:col-span-2",children:[u.jsx("div",{className:"mb-4",children:u.jsx("span",{className:"text-2xl font-bold text-text-primary",children:"together"})}),u.jsx("p",{className:"text-text-secondary mb-6 max-w-md leading-relaxed",children:"Your AI accountability partner, available 24/7. Get distraction-free focus sessions adapted to your goals and energy levels."}),u.jsxs("div",{className:"flex space-x-4",children:[u.jsx("a",{href:"https://x.com/kika__chu",className:"text-text-muted hover:text-experimental-pink transition-colors",children:u.jsx(U0,{className:"h-5 w-5"})}),u.jsx("a",{href:"mailto:kristinamacekovic@icloud.com",className:"text-text-muted hover:text-experimental-pink transition-colors",children:u.jsx(ji,{className:"h-5 w-5"})})]})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-sm font-semibold text-text-primary uppercase tracking-wider mb-4",children:"Product"}),u.jsxs("ul",{className:"space-y-3",children:[u.jsx("li",{children:u.jsx("a",{href:"/#how-it-works",className:"text-text-secondary hover:text-experimental-pink transition-colors",children:"How It Works"})}),u.jsx("li",{children:u.jsx("a",{href:"/#features",className:"text-text-secondary hover:text-experimental-pink transition-colors",children:"Features"})}),u.jsx("li",{children:u.jsx("a",{href:"/#who-its-for",className:"text-text-secondary hover:text-experimental-pink transition-colors",children:"Who It's For"})}),u.jsx("li",{children:u.jsx("a",{href:"/#pricing",className:"text-text-secondary hover:text-experimental-pink transition-colors",children:"Pricing"})}),u.jsx("li",{children:u.jsx("a",{href:"/#faq",className:"text-text-secondary hover:text-experimental-pink transition-colors",children:"FAQ"})})]})]})]}),u.jsx("div",{className:"mt-8 pt-8 border-t border-surface-border/30",children:u.jsx("div",{className:"flex justify-center items-center",children:u.jsx("p",{className:"text-text-muted text-sm",children:" 2025 Together. All rights reserved."})})})]})]}),W0=({isOpen:t,onClose:e,initialMode:n="signin"})=>{const r=qt(),[s,i]=j.useState(n),[o,a]=j.useState(""),[l,c]=j.useState(""),[d,h]=j.useState(""),[f,v]=j.useState(!1),[y,_]=j.useState(!1),[k,g]=j.useState(""),[m,p]=j.useState(!1),{signIn:x,signUp:w,user:S,hasCompletedOnboarding:b}=Gt();j.useEffect(()=>{t||(a(""),c(""),h(""),v(!1),_(!1),g(""),p(!1),i(n))},[t,n]),j.useEffect(()=>{S&&t&&s==="signin"&&!y&&(async()=>{try{const R=await b();r(R?"/dashboard":"/onboarding"),e()}catch{r("/onboarding"),e()}})()},[S,t,s,y,b,r,e]);const C=async U=>{U.preventDefault(),_(!0),g("");try{if(s==="signup"){if(!d.trim())throw new Error("Full name is required");const{error:R}=await w(o,l,d);if(R)throw R;p(!0)}else{const{error:R}=await x(o,l);if(R)throw R}}catch(R){g(R.message||"An error occurred")}finally{_(!1)}};return t?u.jsx("div",{className:"fixed inset-0 bg-black/50 backdrop-blur-sm flex items-center justify-center p-4 z-50",children:u.jsxs("div",{className:"bg-surface-elevated rounded-2xl shadow-elegant-xl w-full max-w-md",children:[u.jsxs("div",{className:"flex items-center justify-between p-6 border-b border-surface-border/30",children:[u.jsx("h2",{className:"text-2xl font-bold text-text-primary",children:m?"Check Your Email":s==="signin"?"Welcome Back":"Join Together"}),u.jsx("button",{onClick:e,className:"text-text-muted hover:text-experimental-pink transition-colors",children:u.jsx(Fa,{className:"w-6 h-6"})})]}),m?u.jsx("div",{className:"p-6",children:u.jsxs("div",{className:"text-center space-y-4",children:[u.jsx("div",{className:"w-16 h-16 bg-experimental-faded-blue rounded-full flex items-center justify-center mx-auto",children:u.jsx(ji,{className:"w-8 h-8 text-experimental-electric"})}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-lg font-semibold text-text-primary mb-2",children:"Verification Required"}),u.jsxs("p",{className:"text-text-secondary",children:["We've sent a verification link to ",u.jsx("span",{className:"font-medium",children:o}),". Please check your email and click the link to complete your registration."]})]}),u.jsx("button",{onClick:e,className:"w-full bg-experimental-faded-blue text-white font-bold py-3 px-4 rounded-lg hover:bg-experimental-blue-hover transition-colors",children:"Got it"})]})}):u.jsxs(u.Fragment,{children:[u.jsxs("form",{onSubmit:C,className:"p-6 space-y-6",children:[s==="signup"&&u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"Full Name"}),u.jsxs("div",{className:"relative",children:[u.jsx(_f,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-text-muted w-5 h-5"}),u.jsx("input",{type:"text",value:d,onChange:U=>h(U.target.value),className:"w-full pl-10 pr-4 py-3 bg-background-primary border border-surface-border rounded-lg focus:border-experimental-electric focus:ring-1 focus:ring-experimental-electric outline-none transition-colors text-text-primary",placeholder:"Enter your full name",required:!0})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"Email Address"}),u.jsxs("div",{className:"relative",children:[u.jsx(ji,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-text-muted w-5 h-5"}),u.jsx("input",{type:"email",value:o,onChange:U=>a(U.target.value),className:"w-full pl-10 pr-4 py-3 bg-background-primary border border-surface-border rounded-lg focus:border-experimental-electric focus:ring-1 focus:ring-experimental-electric outline-none transition-colors text-text-primary",placeholder:"Enter your email",required:!0})]})]}),u.jsxs("div",{children:[u.jsx("label",{className:"block text-sm font-medium text-text-secondary mb-2",children:"Password"}),u.jsxs("div",{className:"relative",children:[u.jsx(R0,{className:"absolute left-3 top-1/2 transform -translate-y-1/2 text-text-muted w-5 h-5"}),u.jsx("input",{type:f?"text":"password",value:l,onChange:U=>c(U.target.value),className:"w-full pl-10 pr-12 py-3 bg-background-primary border border-surface-border rounded-lg focus:border-experimental-electric focus:ring-1 focus:ring-experimental-electric outline-none transition-colors text-text-primary",placeholder:"Enter your password",required:!0}),u.jsx("button",{type:"button",onClick:()=>v(!f),className:"absolute right-3 top-1/2 transform -translate-y-1/2 text-text-muted hover:text-text-primary transition-colors",children:f?u.jsx(P0,{className:"w-5 h-5"}):u.jsx(T0,{className:"w-5 h-5"})})]})]}),k&&u.jsx("div",{className:"bg-red-500/10 border border-red-500/20 rounded-lg p-3",children:u.jsx("p",{className:"text-red-400 text-sm",children:k})}),u.jsx("button",{type:"submit",disabled:y,className:"w-full bg-experimental-electric text-black font-bold py-3 px-4 rounded-lg hover:bg-experimental-electric-hover transition-colors flex items-center justify-center disabled:opacity-50 disabled:cursor-not-allowed",children:y?u.jsx("div",{className:"w-5 h-5 border-2 border-white border-t-transparent rounded-full animate-spin"}):u.jsxs(u.Fragment,{children:[s==="signin"?"Sign In":"Create Account",u.jsx(sr,{className:"w-4 h-4 ml-2"})]})})]}),u.jsx("div",{className:"px-6 pb-6 text-center",children:u.jsxs("p",{className:"text-text-secondary",children:[s==="signin"?"Don't have an account? ":"Already have an account? ",u.jsx("button",{onClick:()=>i(s==="signin"?"signup":"signin"),className:"text-experimental-electric hover:text-experimental-pink font-medium transition-colors",children:s==="signin"?"Sign up":"Sign in"})]})})]})]})}):null},kf=({showInDashboard:t=!1})=>{const[e,n]=j.useState(null),[r,s]=j.useState(!0),[i,o]=j.useState(null),[a,l]=j.useState(!1),c=async()=>{try{const{data:v,error:y}=await Z.functions.invoke("get-total-usage");if(y)throw y;n(v),(v.isOverLimit||v.usagePercentage>=90)&&l(!0)}catch(v){o(v.message||"Failed to fetch usage data"),console.error("Usage fetch error:",v)}finally{s(!1)}};j.useEffect(()=>{c();const v=setInterval(c,5*60*1e3);return()=>clearInterval(v)},[]);const d=v=>{const y=Math.floor(v/60),_=v%60;return y>0?`${y}h ${_}m`:`${_}m`},h=v=>v>=100?"text-red-500 bg-red-50 border-red-200":v>=90?"text-orange-500 bg-orange-50 border-orange-200":v>=75?"text-yellow-500 bg-yellow-50 border-yellow-200":"text-green-500 bg-green-50 border-green-200",f=v=>v>=100?"bg-red-500":v>=90?"bg-orange-500":v>=75?"bg-yellow-500":"bg-green-500";return r?t?u.jsxs("div",{className:"bg-surface-elevated rounded-lg p-4 animate-pulse",children:[u.jsx("div",{className:"h-4 bg-surface-border rounded w-24 mb-2"}),u.jsx("div",{className:"h-6 bg-surface-border rounded w-16"})]}):null:i||!e?t?u.jsxs("div",{className:"bg-surface-elevated rounded-lg p-4 text-center",children:[u.jsx(Ul,{className:"w-5 h-5 text-text-secondary mx-auto mb-2"}),u.jsx("p",{className:"text-xs text-text-secondary",children:"Usage data unavailable"})]}):null:t?u.jsxs("div",{className:`rounded-lg p-4 border ${h(e.usagePercentage)}`,children:[u.jsxs("div",{className:"flex items-center justify-between mb-2",children:[u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx(Ul,{className:"w-4 h-4"}),u.jsx("span",{className:"font-medium text-sm",children:"Usage"})]}),e.isOverLimit&&u.jsx($l,{className:"w-4 h-4 text-red-500"})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsxs("div",{className:"flex justify-between text-xs",children:[u.jsxs("span",{children:[d(e.totalMinutesUsed)," used"]}),u.jsxs("span",{children:[d(e.remainingMinutes)," left"]})]}),u.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2",children:u.jsx("div",{className:`h-2 rounded-full transition-all duration-300 ${f(e.usagePercentage)}`,style:{width:`${Math.min(e.usagePercentage,100)}%`}})}),u.jsxs("div",{className:"text-xs text-center font-medium",children:[e.usagePercentage,"% of ",d(e.limitMinutes)]})]}),(e.isOverLimit||e.usagePercentage>=90)&&u.jsx("button",{onClick:()=>l(!0),className:"mt-2 w-full text-xs bg-experimental-pink hover:bg-experimental-pink/80 text-white py-1 px-2 rounded transition-colors",children:e.isOverLimit?"Limit Exceeded":"View Details"})]}):u.jsx(u.Fragment,{children:a&&u.jsx("div",{className:"fixed inset-0 bg-black/50 flex items-center justify-center z-50 p-4",children:u.jsxs("div",{className:"bg-white rounded-2xl max-w-md w-full p-6 relative",children:[u.jsx("button",{onClick:()=>l(!1),className:"absolute top-4 right-4 text-gray-400 hover:text-gray-600",children:u.jsx(Fa,{className:"w-5 h-5"})}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:`w-16 h-16 rounded-full flex items-center justify-center mx-auto mb-4 ${e.isOverLimit?"bg-red-100":"bg-orange-100"}`,children:u.jsx($l,{className:`w-8 h-8 ${e.isOverLimit?"text-red-500":"text-orange-500"}`})}),u.jsx("h2",{className:"text-xl font-bold text-gray-900 mb-2",children:e.isOverLimit?"Usage Limit Exceeded":"Approaching Usage Limit"}),u.jsx("p",{className:"text-gray-600 mb-6",children:e.isOverLimit?`You've used ${d(e.totalMinutesUsed)} out of your ${d(e.limitMinutes)} free allowance.`:`You've used ${e.usagePercentage}% of your free allowance (${d(e.totalMinutesUsed)} out of ${d(e.limitMinutes)}).`}),u.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 mb-6",children:[u.jsxs("div",{className:"flex justify-between items-center mb-2",children:[u.jsx("span",{className:"text-sm text-gray-600",children:"Usage Progress"}),u.jsxs("span",{className:"text-sm font-medium",children:[e.usagePercentage,"%"]})]}),u.jsx("div",{className:"w-full bg-gray-200 rounded-full h-2 mb-2",children:u.jsx("div",{className:`h-2 rounded-full ${f(e.usagePercentage)}`,style:{width:`${Math.min(e.usagePercentage,100)}%`}})}),u.jsxs("div",{className:"flex justify-between text-xs text-gray-500",children:[u.jsxs("span",{children:[d(e.totalMinutesUsed)," used"]}),u.jsx("span",{children:e.remainingMinutes>0?`${d(e.remainingMinutes)} remaining`:"Limit exceeded"})]})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("p",{className:"text-sm text-gray-600 mb-4",children:"To continue using the service beyond your free allowance, please contact us:"}),u.jsxs("a",{href:"mailto:macekovick+1@gmail.com?subject=Usage Limit Exceeded - Together AI Study Buddy",className:"inline-flex items-center space-x-2 bg-experimental-pink hover:bg-experimental-pink/80 text-white px-6 py-3 rounded-lg font-medium transition-colors",children:[u.jsx(ji,{className:"w-4 h-4"}),u.jsx("span",{children:"Contact Support"})]}),u.jsx("p",{className:"text-xs text-gray-500 mt-3",children:"macekovick+1@gmail.com"})]})]})]})})})},V0=({children:t})=>{const{isAuthModalOpen:e,openAuthModal:n,closeAuthModal:r}=Gt();return u.jsxs("div",{className:"min-h-screen flex flex-col",children:[u.jsx(F0,{onGetStartedClick:n}),u.jsx("main",{className:"flex-grow",children:t}),u.jsx(B0,{}),u.jsx(W0,{isOpen:e,onClose:r}),u.jsx(kf,{})]})},tn=({children:t,className:e="",id:n})=>u.jsx("section",{id:n,className:`py-16 md:py-24 max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 ${e}`,children:t}),Pn=({children:t})=>u.jsx("h2",{className:"text-3xl md:text-4xl lg:text-5xl font-bold text-center text-experimental-pink mb-12 md:mb-16",children:t});function H0(){const{openAuthModal:t}=Gt();return j.useEffect(()=>{const e=window.location.hash;e&&setTimeout(()=>{const n=document.querySelector(e);n&&n.scrollIntoView({behavior:"smooth",block:"start"})},100)},[]),u.jsxs("div",{className:"bg-background-primary text-text-primary min-h-screen",children:[u.jsxs("section",{id:"hero",className:"min-h-screen flex flex-col justify-center max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-8 w-full",children:[u.jsx("div",{className:"mb-12 lg:mb-16",children:u.jsx("h1",{className:"text-3xl lg:text-4xl font-bold text-text-primary",children:"together"})}),u.jsx("div",{className:"mb-8 lg:mb-12",children:u.jsx("h2",{className:"font-black text-experimental-pink uppercase tracking-tight leading-tight text-4xl md:text-5xl lg:text-6xl xl:text-7xl",children:"Your AI Accountability Partner - Available 24/7"})}),u.jsxs("div",{className:"max-w-2xl",children:[u.jsx("p",{className:"text-xl text-text-tertiary mb-10",children:'Instantly start distraction-free focus sessions with an AI agent that adapts to you. Our "body doubling app" provides the presence of a partner to help you focus, when and how you need it.'}),u.jsxs("a",{href:"#",onClick:e=>{e.preventDefault(),t()},className:"group inline-flex items-center text-lg font-bold text-experimental-electric",children:[u.jsx(sr,{className:"mr-2 h-5 w-5 transition-transform duration-200 group-hover:translate-x-1"}),"Start free today"]})]})]}),u.jsxs(tn,{id:"benefits",children:[u.jsx(Pn,{children:"Tired of Unreliable Accountability?"}),u.jsxs("div",{className:"grid md:grid-cols-2 gap-12 items-center",children:[u.jsxs("div",{className:"space-y-6",children:[u.jsx("h3",{className:"text-2xl font-bold text-white",children:"Human partners cancel. Video calls drain energy. Generic apps don't adapt."}),u.jsx("p",{className:"text-lg text-text-tertiary",children:"These are the pain points we solve."})]}),u.jsxs("div",{children:[u.jsx("h3",{className:"text-2xl font-bold text-experimental-pink mb-4",children:"Together's AI agents provide consistent, judgment-free support that learns your:"}),u.jsx("ul",{className:"space-y-3",children:["Work/study patterns","Energy fluctuations","Project requirements","Personal productivity blockers"].map(e=>u.jsxs("li",{className:"flex items-start",children:[u.jsx(ki,{className:"w-6 h-6 text-experimental-electric mr-3 mt-1 flex-shrink-0"}),u.jsx("span",{className:"text-lg",children:e})]},e))})]})]})]}),u.jsxs(tn,{id:"how-it-works",children:[u.jsx(Pn,{children:"Your Personalized Focus Session in 20 Seconds"}),u.jsx("div",{className:"grid md:grid-cols-3 gap-8 text-center",children:[{title:"Set Context",description:"Tell your AI agent about your task, focus level, and goals"},{title:"Session Launch",description:"Start an on-demand session anytime - no scheduling needed"},{title:"Adaptive Support",description:"AI adjusts check-ins based on your progress and focus metrics"}].map((e,n)=>u.jsxs("div",{className:"bg-surface-elevated p-6 rounded-lg shadow-elegant-lg transition-transform hover:-translate-y-2",children:[u.jsxs("div",{className:"text-5xl font-black text-experimental-pink mb-4",children:["0",n+1]}),u.jsx("h3",{className:"text-xl font-bold text-white mb-2",children:e.title}),u.jsx("p",{className:"text-text-tertiary",children:e.description})]},e.title))})]}),u.jsxs(tn,{id:"features",children:[u.jsx(Pn,{children:"Why Users Choose Our AI Partners"}),u.jsx("div",{className:"max-w-4xl mx-auto",children:u.jsxs("table",{className:"w-full text-left",children:[u.jsx("thead",{children:u.jsxs("tr",{className:"border-b border-surface-border/20",children:[u.jsx("th",{className:"p-4 text-lg font-bold text-experimental-pink",children:"Feature"}),u.jsx("th",{className:"p-4 text-lg font-bold text-experimental-pink",children:"Benefit"})]})}),u.jsx("tbody",{children:[{feature:"Context-Aware Sessions",benefit:"AI remembers your projects and learning style"},{feature:"Energy-Level Matching",benefit:"Adapts interaction frequency to your current focus"},{feature:"Zero-Video Privacy",benefit:"Full accountability without camera anxiety"},{feature:"ADHD Focus Session",benefit:"Tailored for neurodivergent minds to enhance productivity"}].map(({feature:e,benefit:n})=>u.jsxs("tr",{className:"border-b border-surface-border/20 last:border-b-0",children:[u.jsx("td",{className:"p-4 font-semibold text-white",children:e}),u.jsx("td",{className:"p-4 text-text-tertiary",children:n})]},e))})]})})]}),u.jsxs(tn,{id:"who-its-for",children:[u.jsx(Pn,{children:"Who It's For"}),u.jsx("div",{className:"grid md:grid-cols-3 gap-12 text-center",children:[{icon:u.jsx(E0,{className:"w-12 h-12 mx-auto text-experimental-pink mb-4"}),title:"For ADHD Professionals",points:["Detect focus drift in real-time","Break tasks into micro-sessions","Celebrate small wins with dopamine-triggering feedback"]},{icon:u.jsx(D0,{className:"w-12 h-12 mx-auto text-experimental-pink mb-4"}),title:"For Remote Workers",points:["Virtual 'coworker' presence","Meeting-prep focus boosts","Deep work mode scheduling"]},{icon:u.jsx(z0,{className:"w-12 h-12 mx-auto text-experimental-pink mb-4"}),title:"For Students",points:["Adapt to your interests","Simulate library accountability","Practice for exams"]}].map(({icon:e,title:n,points:r})=>u.jsxs("div",{className:"bg-surface-elevated p-8 rounded-lg shadow-elegant-xl",children:[e,u.jsx("h3",{className:"text-2xl font-bold text-white mb-4",children:n}),u.jsx("ul",{className:"space-y-2 text-text-tertiary",children:r.map(s=>u.jsx("li",{children:s},s))})]},n))})]}),u.jsxs(tn,{id:"pricing",children:[u.jsx(Pn,{children:"Risk-Free Focus Transformation"}),u.jsx("div",{className:"grid md:grid-cols-3 gap-8 max-w-6xl mx-auto",children:[{plan:"Free Tier",price:"0",features:["3 sessions/week","Basic AI agent"],cta:"Start Now"},{plan:"Pro Plan",price:"$9/month",features:["Unlimited sessions","Adaptive AI","Progress analytics"],cta:"Start Free Trial",popular:!0},{plan:"Team Plan",price:"$25/5 users",features:["Shared accountability metrics","Group focus mode"],cta:"Contact Sales"}].map(({plan:e,price:n,features:r,cta:s,popular:i})=>u.jsxs("div",{className:`relative p-8 rounded-lg ${i?"border-2 border-experimental-pink bg-surface-elevated":"bg-surface-elevated"}`,children:[i&&u.jsx("div",{className:"absolute top-0 -translate-y-1/2 left-1/2 -translate-x-1/2 bg-experimental-pink text-background-primary text-sm font-bold px-3 py-1 rounded-full",children:"MOST POPULAR"}),u.jsx("h3",{className:"text-2xl font-bold text-white mb-2",children:e}),u.jsx("p",{className:"text-4xl font-bold text-experimental-electric mb-6",children:n}),u.jsx("ul",{className:"space-y-3 text-text-tertiary mb-8",children:r.map(o=>u.jsxs("li",{className:"flex items-center",children:[u.jsx(ki,{className:"w-5 h-5 text-green-500 mr-2"}),o]},o))}),u.jsx("button",{onClick:t,className:`w-full py-3 px-6 rounded-lg font-bold text-lg transition-colors ${i?"bg-experimental-pink text-background-primary hover:bg-pink-400":"bg-surface-hover text-white hover:bg-surface-active"}`,children:s})]},e))})]}),u.jsxs(tn,{id:"faq",children:[u.jsx(Pn,{children:"Frequently Asked Questions"}),u.jsx("div",{className:"max-w-3xl mx-auto space-y-6",children:[{q:"How does AI differ from human partners?",a:"Our agents never cancel, adapt to your energy in real-time, and are able to hold a conversation in any topic of your need."},{q:"Can it replace my therapist/ADHD coach?",a:"No. This is a productivity tool, not a medical one. It's designed to complement, not replace, professional support systems."}].map(({q:e,a:n})=>u.jsxs("details",{className:"bg-surface-elevated rounded-lg p-6 cursor-pointer",children:[u.jsxs("summary",{className:"flex items-center justify-between font-bold text-white text-lg",children:[e,u.jsx(sr,{className:"details-arrow w-5 h-5 transition-transform"})]}),u.jsx("p",{className:"mt-4 text-text-tertiary animate-slide-down",children:n})]},e))})]}),u.jsxs(tn,{className:"text-center",children:[u.jsx("h2",{className:"text-4xl md:text-5xl font-bold text-experimental-pink mb-6",children:"Ready for Guilt-Free Productivity?"}),u.jsx("p",{className:"text-xl text-text-tertiary max-w-2xl mx-auto mb-8",children:"Stop fighting distractions. Start free today with a partner that finally gets you."}),u.jsx("div",{className:"mt-8",children:u.jsx("button",{onClick:t,className:"rounded-lg bg-experimental-electric px-8 py-4 text-lg font-bold text-background-primary",children:"Focus Together"})})]})]})}const q0=()=>{const t=qt(),[e,n]=j.useState(!1),[r,s]=j.useState(""),[i,o]=j.useState(1),a=4,[l,c]=j.useState({learning_objectives:"",study_subjects:[],preferred_session_length:25,study_experience:"",challenges:[],motivation_factors:[],sessions_per_week:5,support_preferences:[]}),d=["Mathematics","Science","Programming","Languages","Business","Arts","History","Literature","Medicine","Engineering","Psychology","Philosophy","Music","Other"],h=[{value:"beginner",label:"Beginner - Just starting out"},{value:"intermediate",label:"Intermediate - Some experience"},{value:"advanced",label:"Advanced - Quite experienced"},{value:"expert",label:"Expert - Very experienced"}],f=["Staying focused","Procrastination","Time management","Understanding material","Motivation","Distractions","Consistency","Setting goals","Taking breaks"],v=["Career goals","Personal growth","Academic requirements","Curiosity","Competition","Achievement","Helping others","Financial success","Recognition"],y=["Accountability reminders","Study technique suggestions","Progress tracking","Motivational messages","Break reminders","Goal setting help","Focus techniques","Time management tips"],_=[{value:15,label:"15 minutes"},{value:25,label:"25 minutes (Pomodoro)"},{value:45,label:"45 minutes"},{value:60,label:"1 hour"},{value:90,label:"1.5 hours"}],k=(w,S)=>{c(b=>({...b,[w]:b[w].includes(S)?b[w].filter(C=>C!==S):[...b[w],S]}))},g=async()=>{n(!0),s("");try{const{data:{user:w},error:S}=await Z.auth.getUser();if(S||!w)throw new Error((S==null?void 0:S.message)||"You must be logged in to complete onboarding.");const{error:b}=await Z.from("initial_forms").insert({user_id:w.id,learning_objectives:l.learning_objectives,study_subjects:l.study_subjects,preferred_session_length:l.preferred_session_length,study_experience:l.study_experience,challenges:l.challenges,motivation_factors:l.motivation_factors});if(b)throw b;const{error:C}=await Z.from("goals").insert({user_id:w.id,title:`Complete ${l.sessions_per_week} study sessions per week`,description:`Weekly study goal based on your preferred schedule of ${l.sessions_per_week} sessions`,target_sessions:l.sessions_per_week*4,status:"active"});if(C)throw C;t("/dashboard")}catch(w){s(w.message||"Failed to save onboarding data. Please try again.")}finally{n(!1)}},m=()=>{i<a?o(i+1):g()},p=()=>{i>1&&o(i-1)},x=()=>{switch(i){case 1:return l.learning_objectives.trim().length>0&&l.study_subjects.length>0;case 2:return l.study_experience&&l.preferred_session_length;case 3:return l.challenges.length>0&&l.motivation_factors.length>0;case 4:return l.sessions_per_week>0&&l.support_preferences.length>0;default:return!1}};return u.jsx("div",{className:"min-h-screen bg-background-primary py-12",children:u.jsxs("div",{className:"max-w-4xl mx-auto px-6 lg:px-12",children:[u.jsxs("div",{className:"text-center mb-16",children:[u.jsxs("div",{className:"flex items-center justify-center space-x-3 mb-6",children:[u.jsx("div",{className:"w-12 h-12 bg-experimental-pink rounded-lg flex items-center justify-center",children:u.jsx(C0,{className:"h-7 w-7 text-background-primary"})}),u.jsx("h1",{className:"text-3xl font-bold text-experimental-pink",children:"Welcome to Together!"})]}),u.jsx("p",{className:"text-xl text-text-secondary mb-8",children:"Let's personalize your AI study buddy to match your learning style and goals"}),u.jsxs("div",{className:"max-w-md mx-auto",children:[u.jsxs("div",{className:"flex justify-between text-sm text-text-secondary mb-2",children:[u.jsxs("span",{children:["Step ",i," of ",a]}),u.jsxs("span",{children:[Math.round(i/a*100),"%"]})]}),u.jsx("div",{className:"w-full bg-background-secondary/30 rounded-full h-2",children:u.jsx("div",{className:"bg-experimental-pink h-2 rounded-full transition-all duration-300",style:{width:`${i/a*100}%`}})})]})]}),u.jsxs("div",{className:"max-w-3xl mx-auto",children:[r&&u.jsx("div",{className:"bg-background-secondary/30 border border-experimental-pink/30 text-experimental-pink p-4 rounded-xl mb-8 text-center",children:r}),i===1&&u.jsxs("div",{className:"space-y-16",children:[u.jsxs("div",{className:"text-center",children:[u.jsx(I0,{className:"w-16 h-16 text-experimental-pink mx-auto mb-4"}),u.jsx("h2",{className:"text-3xl font-bold text-text-primary mb-2",children:"Your Learning Goals"}),u.jsx("p",{className:"text-text-secondary",children:"Tell us what you want to achieve"})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("h3",{className:"text-lg font-medium text-text-primary",children:"I'm focusing on"}),u.jsx("textarea",{value:l.learning_objectives,onChange:w=>c(S=>({...S,learning_objectives:w.target.value})),className:"w-full bg-transparent text-text-primary border-0 border-b-2 border-dotted border-text-muted focus:border-experimental-pink focus:outline-none resize-none pb-2",rows:3,placeholder:"your learning goals...",required:!0})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("h3",{className:"text-lg font-medium text-text-primary",children:"My subjects of interest are"}),u.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 pb-4 border-b-2 border-dotted border-text-muted",children:d.map(w=>u.jsx("button",{type:"button",onClick:()=>k("study_subjects",w),className:`p-2 rounded text-sm font-medium transition-colors ${l.study_subjects.includes(w)?"bg-experimental-pink text-background-primary":"bg-transparent border border-text-muted text-text-secondary hover:border-experimental-pink"}`,children:w},w))})]})]}),i===2&&u.jsxs("div",{className:"space-y-16",children:[u.jsxs("div",{className:"text-center",children:[u.jsx(Ul,{className:"w-16 h-16 text-experimental-pink mx-auto mb-4"}),u.jsx("h2",{className:"text-3xl font-bold text-text-primary mb-2",children:"Study Preferences"}),u.jsx("p",{className:"text-text-secondary",children:"Help us understand your study style"})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[u.jsxs("div",{className:"space-y-4",children:[u.jsx("h3",{className:"text-lg font-medium text-text-primary",children:"Experience level"}),u.jsx("div",{className:"space-y-2",children:h.map(w=>u.jsx("button",{type:"button",onClick:()=>c(S=>({...S,study_experience:w.value})),className:`block w-full text-left p-2 rounded transition-colors ${l.study_experience===w.value?"bg-experimental-pink text-background-primary":"text-text-secondary hover:text-experimental-pink"}`,children:w.label},w.value))})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("h3",{className:"text-lg font-medium text-text-primary",children:"Session length"}),u.jsx("div",{className:"space-y-2",children:_.map(w=>u.jsx("button",{type:"button",onClick:()=>c(S=>({...S,preferred_session_length:w.value})),className:`block w-full text-left p-2 rounded transition-colors ${l.preferred_session_length===w.value?"bg-experimental-pink text-background-primary":"text-text-secondary hover:text-experimental-pink"}`,children:w.label},w.value))})]})]})]}),i===3&&u.jsxs("div",{className:"space-y-16",children:[u.jsxs("div",{className:"text-center",children:[u.jsx($0,{className:"w-16 h-16 text-experimental-pink mx-auto mb-4"}),u.jsx("h2",{className:"text-3xl font-bold text-text-primary mb-2",children:"Challenges & Motivation"}),u.jsx("p",{className:"text-text-secondary",children:"Help us understand what drives you"})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[u.jsxs("div",{className:"space-y-4",children:[u.jsx("h3",{className:"text-lg font-medium text-text-primary",children:"My challenges are"}),u.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-3 gap-2",children:f.map(w=>u.jsx("button",{type:"button",onClick:()=>k("challenges",w),className:`p-2 rounded text-sm transition-colors ${l.challenges.includes(w)?"bg-experimental-pink text-background-primary":"border border-text-muted text-text-secondary hover:border-experimental-pink"}`,children:w},w))})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("h3",{className:"text-lg font-medium text-text-primary",children:"What motivates me"}),u.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-3 gap-2",children:v.map(w=>u.jsx("button",{type:"button",onClick:()=>k("motivation_factors",w),className:`p-2 rounded text-sm transition-colors ${l.motivation_factors.includes(w)?"bg-experimental-pink text-background-primary":"border border-text-muted text-text-secondary hover:border-experimental-pink"}`,children:w},w))})]})]})]}),i===4&&u.jsxs("div",{className:"space-y-16",children:[u.jsxs("div",{className:"text-center",children:[u.jsx(O0,{className:"w-16 h-16 text-experimental-pink mx-auto mb-4"}),u.jsx("h2",{className:"text-3xl font-bold text-text-primary mb-2",children:"Goals & AI Support"}),u.jsx("p",{className:"text-text-secondary",children:"Let's set up your study routine"})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("h3",{className:"text-lg font-medium text-text-primary",children:"Sessions per week"}),u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsx("input",{type:"range",min:"1",max:"14",value:l.sessions_per_week,onChange:w=>c(S=>({...S,sessions_per_week:parseInt(w.target.value)})),className:"flex-1 h-2 bg-background-secondary/30 rounded-lg appearance-none cursor-pointer accent-experimental-pink"}),u.jsx("div",{className:"bg-experimental-pink/20 border border-experimental-pink/30 text-experimental-pink px-4 py-2 rounded-lg font-bold min-w-[100px] text-center",children:l.sessions_per_week})]}),u.jsxs("p",{className:"text-sm text-text-muted",children:["This will create a monthly goal of ",l.sessions_per_week*4," sessions"]})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsx("h3",{className:"text-lg font-medium text-text-primary",children:"AI support preferences"}),u.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-3 gap-2",children:y.map(w=>u.jsx("button",{type:"button",onClick:()=>k("support_preferences",w),className:`p-2 rounded text-sm transition-colors ${l.support_preferences.includes(w)?"bg-experimental-pink text-background-primary":"border border-text-muted text-text-secondary hover:border-experimental-pink"}`,children:w},w))})]})]}),u.jsxs("div",{className:"flex justify-between items-center mt-16 pt-8 border-t border-text-muted/20",children:[u.jsx("button",{onClick:p,disabled:i===1,className:"text-text-secondary hover:text-experimental-pink disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-medium",children:"PREVIOUS"}),u.jsx("div",{className:"flex space-x-2",children:[...Array(a)].map((w,S)=>u.jsx("div",{className:`w-3 h-3 rounded-full transition-all ${S+1<=i?"bg-experimental-pink":"bg-background-secondary/30"}`},S))}),u.jsx("button",{onClick:m,disabled:!x()||e,className:"text-experimental-electric hover:text-experimental-pink disabled:opacity-50 disabled:cursor-not-allowed transition-colors font-bold text-lg flex items-center",children:e?"SAVING...":i===a?u.jsxs(u.Fragment,{children:["COMPLETE SETUP",u.jsx(ki,{className:"w-5 h-5 ml-2"})]}):u.jsxs(u.Fragment,{children:["NEXT",u.jsx(sr,{className:"w-5 h-5 ml-2"})]})})]})]})]})})},K0=["Mathematics","Science","Programming","Languages","Business","Arts","History","Literature","Medicine","Engineering","Psychology","Philosophy","Music","Other"],Nc=[{value:"beginner",label:"Beginner - Just starting out"},{value:"intermediate",label:"Intermediate - Some experience"},{value:"advanced",label:"Advanced - Quite experienced"},{value:"expert",label:"Expert - Very experienced"}],G0=["Staying focused","Procrastination","Time management","Understanding material","Motivation","Distractions","Consistency","Setting goals","Taking breaks"],Q0=["Career goals","Personal growth","Academic requirements","Curiosity","Competition","Achievement","Helping others","Financial success","Recognition"],J0=[{value:15,label:"15 minutes"},{value:25,label:"25 minutes (Pomodoro)"},{value:45,label:"45 minutes"},{value:60,label:"1 hour"},{value:90,label:"1.5 hours"}],Po={learning_objectives:"",study_subjects:[],preferred_session_length:25,study_experience:"",challenges:[],motivation_factors:[]},Y0=({sessions:t})=>{const e=bi.useMemo(()=>{const c=[],d=new Date;for(let h=13;h>=0;h--){const f=new Date(d);f.setDate(d.getDate()-h);const v=f.toISOString().split("T")[0],y=t.filter(_=>new Date(_.created_at).toISOString().split("T")[0]===v);c.push({date:v,count:y.length,totalMinutes:y.reduce((_,k)=>_+(k.actual_duration||k.planned_duration||25),0),label:f.toLocaleDateString("en-US",{month:"short",day:"numeric"})})}return c},[t]),n=Math.max(...e.map(l=>l.count),1),r=200,s=800,i=40,o=s-i*2,a=r-i*2;return u.jsxs("div",{className:"w-full",children:[u.jsxs("svg",{width:"100%",height:r,viewBox:`0 0 ${s} ${r}`,className:"w-full",children:[[0,1,2,3,4].map(l=>{const c=i+a*l/4;return u.jsxs("g",{children:[u.jsx("line",{x1:i,y1:c,x2:s-i,y2:c,stroke:"currentColor",strokeOpacity:"0.1",className:"text-text-muted"}),u.jsx("text",{x:i-10,y:c+4,textAnchor:"end",className:"text-xs fill-text-tertiary",children:Math.round(n*(4-l)/4)})]},l)}),u.jsx("path",{d:e.map((l,c)=>{const d=i+o*c/(e.length-1),h=i+a-a*l.count/n;return`${c===0?"M":"L"} ${d} ${h}`}).join(" "),fill:"none",stroke:"currentColor",strokeWidth:"3",className:"text-experimental-pink"}),e.map((l,c)=>{const d=i+o*c/(e.length-1),h=i+a-a*l.count/n;return u.jsxs("g",{children:[u.jsx("circle",{cx:d,cy:h,r:"4",fill:"currentColor",className:"text-experimental-pink"}),c%2===0&&u.jsx("text",{x:d,y:r-10,textAnchor:"middle",className:"text-xs fill-text-tertiary",children:l.label})]},c)})]}),u.jsx("div",{className:"flex items-center justify-center mt-4 space-x-6 text-sm text-text-secondary",children:u.jsxs("div",{className:"flex items-center space-x-2",children:[u.jsx("div",{className:"w-3 h-3 rounded-full bg-experimental-pink"}),u.jsx("span",{children:"Sessions per day"})]})})]})},X0=()=>{var q,X,Xt,Ze,wn;const{user:t,profile:e,loading:n}=Gt(),r=t==null?void 0:t.id;console.log(" Dashboard: Render - loading:",n,"userId:",r||"none");const[s,i]=j.useState(null),[o,a]=j.useState([]),[l,c]=j.useState([]),[d,h]=j.useState(""),[f,v]=j.useState(null),[y,_]=j.useState(""),[k,g]=j.useState(!1),[m,p]=j.useState(!1),[x,w]=j.useState(!1),[S,b]=j.useState("context"),C=qt();if(n)return console.log(" Dashboard: Showing auth loading screen"),u.jsx("div",{className:"min-h-screen bg-background-primary flex items-center justify-center",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"w-16 h-16 border-4 border-experimental-electric border-t-transparent rounded-full animate-spin mx-auto mb-4"}),u.jsx("p",{className:"text-text-secondary",children:"Loading..."})]})});const U=async()=>{if(r){console.log(" Dashboard: Starting data fetch for userId:",r);try{const[{data:E,error:M},{data:Pe,error:_n},{data:kn,error:xt}]=await Promise.all([Z.from("initial_forms").select("*").eq("user_id",r).single(),Z.from("goals").select("*").eq("user_id",r).order("created_at",{ascending:!1}),Z.from("sessions").select("*").eq("user_id",r).order("created_at",{ascending:!1})]);if(M&&M.code!=="PGRST116")throw new Error(`Failed to load profile data: ${M.message}`);if(i(E),p(!!E),_n)throw new Error(`Failed to load goals: ${_n.message}`);if(a(Pe||[]),xt)throw new Error(`Failed to load sessions: ${xt.message}`);c(kn||[])}catch(E){h(E.message||"Failed to load dashboard data.")}}};j.useEffect(()=>{r&&U()},[r]);const R=bi.useMemo(()=>{const E=new Date,M=new Date(E.getFullYear(),E.getMonth(),E.getDate()),Pe=new Date(M);Pe.setDate(M.getDate()-M.getDay());const _n=l.filter(Zt=>new Date(Zt.created_at)>=M).length,kn=l.filter(Zt=>new Date(Zt.created_at)>=Pe).length,xt=l.reduce((Zt,Ba)=>Zt+(Ba.actual_duration||Ba.planned_duration||25),0)/60;return{sessionsToday:_n,sessionsThisWeek:kn,totalHours:xt.toFixed(1)}},[l]),Ce=async()=>{if(!s){h("Please fill out your onboarding details first.");return}w(!0),h("");try{const{data:E,error:M}=await Z.functions.invoke("create-conversation",{body:s});if(M)throw M;if(E.session_id)C(`/conversation/${E.session_id}`);else throw new Error("Failed to get session ID from creation function.")}catch(E){h(`Failed to create session: ${E.message}`)}finally{w(!1)}},Qt=()=>{console.log(" Retrying dashboard data fetch..."),h(""),U()},Jt=E=>{C(`/conversation/${E.id}`)},me=E=>{const M=(s==null?void 0:s[E])??Po[E];v({field:E,isEditing:!0}),_(M)},yt=()=>{v(null),_("")},Xe=j.useCallback(async()=>{if(!(!f||!r)){g(!0),h("");try{const{data:E,error:M}=await Z.from("initial_forms").select("*").eq("user_id",r).single();let Pe=null;if(M&&M.code!=="PGRST116")throw M;if(E){const{error:xt}=await Z.from("initial_forms").update({[f.field]:y}).eq("user_id",r);Pe=xt}else{const xt={...Po,user_id:r,[f.field]:y},{error:Zt}=await Z.from("initial_forms").insert(xt);Pe=Zt}if(Pe)throw Pe;const{data:_n,error:kn}=await Z.from("initial_forms").select("*").eq("user_id",r).single();if(kn)throw kn;i(_n),p(!0),v(null),_("")}catch(E){console.error(" Error saving field:",E),h(`Failed to save ${f.field}: ${E.message}`)}finally{g(!1)}}},[r,f,y]),Yt=E=>{const M=y;M.includes(E)?_(M.filter(Pe=>Pe!==E)):_([...M,E])},P=E=>{const M=Nc.find(Pe=>Pe.value===E);return M?M.label:E},A=E=>E?`${E} minutes`:"0 minutes",O=E=>(s==null?void 0:s[E])??Po[E];return d?u.jsx("div",{className:"min-h-screen bg-background-primary flex items-center justify-center p-4",children:u.jsxs("div",{className:"text-center max-w-md",children:[u.jsx("div",{className:"w-16 h-16 bg-red-500/20 border border-red-500/30 rounded-full flex items-center justify-center mx-auto mb-6",children:u.jsx(b0,{className:"w-8 h-8 text-red-500"})}),u.jsx("h2",{className:"text-xl font-bold text-text-primary mb-3",children:"Unable to Load Dashboard"}),u.jsx("p",{className:"text-text-secondary mb-6 leading-relaxed",children:d}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("button",{onClick:Qt,className:"bg-experimental-electric hover:bg-experimental-electric-hover text-text-primary font-bold py-3 px-6 rounded-lg transition-colors w-full uppercase tracking-wide",children:[u.jsx(L0,{className:"w-4 h-4 mr-2"}),"Try Again"]}),u.jsx("button",{onClick:()=>window.location.reload(),className:"bg-surface-border hover:bg-surface-active text-text-secondary font-bold py-3 px-6 rounded-lg transition-colors w-full uppercase tracking-wide",children:"Refresh Page"})]}),u.jsx("p",{className:"text-xs text-text-muted mt-4",children:"If this problem persists, please check your internet connection."})]})}):u.jsx("div",{className:"min-h-screen bg-background-primary",children:u.jsxs("div",{className:"max-w-6xl mx-auto px-6 lg:px-12 py-12",children:[u.jsxs("div",{className:"mb-16",children:[u.jsxs("div",{className:"flex flex-col lg:flex-row lg:items-start lg:justify-between mb-8 gap-8",children:[u.jsxs("h1",{className:"text-4xl lg:text-6xl font-black text-text-primary leading-tight",children:["Welcome back, ",((X=(q=e==null?void 0:e.full_name)==null?void 0:q.split(" ")[0])==null?void 0:X.toLowerCase())||"username"]}),u.jsx("div",{className:"flex-shrink-0",children:u.jsxs("div",{className:"text-center lg:text-right space-y-4",children:[u.jsx("div",{className:"text-lg font-medium text-text-primary",children:"Ready to start?"}),u.jsx("button",{onClick:Ce,disabled:x||!m,className:"text-xl lg:text-2xl text-experimental-electric hover:text-experimental-pink disabled:text-text-muted font-bold transition-all duration-300 disabled:cursor-not-allowed hover:scale-105 hover:tracking-wide",children:x?u.jsxs("div",{className:"flex items-center",children:[u.jsx("div",{className:"animate-spin rounded-full h-5 w-5 border-b-2 border-current mr-3"}),"CREATING..."]}):"START SESSION "}),!m&&u.jsx("div",{className:"text-text-muted text-xs max-w-xs",children:"Complete your profile below to enable sessions"})]})})]}),u.jsxs("div",{className:"flex space-x-8 mb-12",children:[u.jsx("button",{onClick:()=>b("context"),className:`text-lg font-bold uppercase tracking-wide pb-2 transition-colors ${S==="context"?"text-experimental-pink border-b-2 border-experimental-pink":"text-text-secondary hover:text-text-primary"}`,children:"CONTEXT"}),u.jsx("button",{onClick:()=>b("analytics"),className:`text-lg font-bold uppercase tracking-wide pb-2 transition-colors ${S==="analytics"?"text-experimental-pink border-b-2 border-experimental-pink":"text-text-secondary hover:text-text-primary"}`,children:"ANALYTICS"})]})]}),S==="context"&&u.jsxs("div",{className:"space-y-16",children:[!m&&u.jsx("div",{className:"text-text-secondary text-lg mb-8",children:"Complete your profile to get personalized study sessions."}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h3",{className:"text-lg font-medium text-text-primary",children:"I'm focusing on"}),(f==null?void 0:f.field)!=="learning_objectives"&&u.jsx("button",{onClick:()=>me("learning_objectives"),className:"text-text-muted hover:text-experimental-pink transition-colors p-2",children:u.jsx(Cn,{className:"w-5 h-5"})})]}),(f==null?void 0:f.field)==="learning_objectives"?u.jsxs("div",{className:"space-y-4",children:[u.jsx("textarea",{value:y,onChange:E=>_(E.target.value),className:"w-full bg-transparent text-text-primary border-0 border-b-2 border-dotted border-text-muted focus:border-experimental-pink focus:outline-none resize-none pb-2",rows:2,placeholder:"your learning goals..."}),u.jsxs("div",{className:"flex space-x-4",children:[u.jsx("button",{onClick:Xe,disabled:k,className:"text-experimental-electric hover:text-experimental-pink transition-colors font-medium",children:k?"SAVING...":"SAVE"}),u.jsx("button",{onClick:yt,className:"text-text-muted hover:text-text-secondary transition-colors font-medium",children:"CANCEL"})]})]}):u.jsx("div",{className:"border-b-2 border-dotted border-text-muted pb-2 cursor-pointer hover:border-experimental-pink transition-colors",onClick:()=>me("learning_objectives"),children:O("learning_objectives")?u.jsx("span",{className:"text-experimental-pink",children:O("learning_objectives")}):u.jsx("span",{className:"text-text-secondary",children:"your learning goals..."})})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h3",{className:"text-lg font-medium text-text-primary",children:"My subjects of interest are"}),(f==null?void 0:f.field)!=="study_subjects"&&u.jsx("button",{onClick:()=>me("study_subjects"),className:"text-text-muted hover:text-experimental-pink transition-colors p-2",children:u.jsx(Cn,{className:"w-5 h-5"})})]}),(f==null?void 0:f.field)==="study_subjects"?u.jsxs("div",{className:"space-y-4",children:[u.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-3 pb-4 border-b-2 border-dotted border-experimental-pink",children:K0.map(E=>u.jsx("button",{onClick:()=>Yt(E),className:`p-2 rounded text-sm font-medium transition-colors ${y!=null&&y.includes(E)?"bg-experimental-pink text-background-primary":"bg-transparent border border-text-muted text-text-secondary hover:border-experimental-pink"}`,children:E},E))}),u.jsxs("div",{className:"flex space-x-4",children:[u.jsx("button",{onClick:Xe,disabled:k,className:"text-experimental-electric hover:text-experimental-pink transition-colors font-medium",children:k?"SAVING...":"SAVE"}),u.jsx("button",{onClick:yt,className:"text-text-muted hover:text-text-secondary transition-colors font-medium",children:"CANCEL"})]})]}):u.jsx("div",{className:"border-b-2 border-dotted border-text-muted pb-2 cursor-pointer hover:border-experimental-pink transition-colors",onClick:()=>me("study_subjects"),children:((Xt=O("study_subjects"))==null?void 0:Xt.length)>0?u.jsx("div",{className:"flex flex-wrap gap-2",children:O("study_subjects").map((E,M)=>u.jsxs("span",{className:"text-experimental-pink font-medium",children:[E,M<O("study_subjects").length-1&&", "]},E))}):u.jsx("span",{className:"text-text-secondary",children:"your subjects..."})})]}),u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-12",children:[u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h3",{className:"text-lg font-medium text-text-primary",children:"Experience level"}),(f==null?void 0:f.field)!=="study_experience"&&u.jsx("button",{onClick:()=>me("study_experience"),className:"text-text-muted hover:text-experimental-pink transition-colors p-1",children:u.jsx(Cn,{className:"w-4 h-4"})})]}),(f==null?void 0:f.field)==="study_experience"?u.jsxs("div",{className:"space-y-3",children:[u.jsx("div",{className:"space-y-2",children:Nc.map(E=>u.jsx("button",{onClick:()=>_(E.value),className:`block w-full text-left p-2 rounded transition-colors ${y===E.value?"bg-experimental-pink text-background-primary":"text-text-secondary hover:text-experimental-pink"}`,children:E.label},E.value))}),u.jsxs("div",{className:"flex space-x-4",children:[u.jsx("button",{onClick:Xe,disabled:k,className:"text-experimental-electric hover:text-experimental-pink transition-colors font-medium text-sm",children:k?"SAVING...":"SAVE"}),u.jsx("button",{onClick:yt,className:"text-text-muted hover:text-text-secondary transition-colors font-medium text-sm",children:"CANCEL"})]})]}):u.jsx("div",{className:"border-b border-dotted border-text-muted pb-1 cursor-pointer hover:border-experimental-pink transition-colors",onClick:()=>me("study_experience"),children:O("study_experience")?u.jsx("span",{className:"text-experimental-pink",children:P(O("study_experience"))}):u.jsx("span",{className:"text-text-secondary",children:"select level..."})})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h3",{className:"text-lg font-medium text-text-primary",children:"Preferred session length"}),(f==null?void 0:f.field)!=="preferred_session_length"&&u.jsx("button",{onClick:()=>me("preferred_session_length"),className:"text-text-muted hover:text-experimental-pink transition-colors p-1",children:u.jsx(Cn,{className:"w-4 h-4"})})]}),(f==null?void 0:f.field)==="preferred_session_length"?u.jsxs("div",{className:"space-y-3",children:[u.jsx("div",{className:"space-y-2",children:J0.map(E=>u.jsx("button",{onClick:()=>_(E.value),className:`block w-full text-left p-2 rounded transition-colors ${y===E.value?"bg-experimental-pink text-background-primary":"text-text-secondary hover:text-experimental-pink"}`,children:E.label},E.value))}),u.jsxs("div",{className:"flex space-x-4",children:[u.jsx("button",{onClick:Xe,disabled:k,className:"text-experimental-electric hover:text-experimental-pink transition-colors font-medium text-sm",children:k?"SAVING...":"SAVE"}),u.jsx("button",{onClick:yt,className:"text-text-muted hover:text-text-secondary transition-colors font-medium text-sm",children:"CANCEL"})]})]}):u.jsx("div",{className:"border-b border-dotted border-text-muted pb-1 cursor-pointer hover:border-experimental-pink transition-colors",onClick:()=>me("preferred_session_length"),children:u.jsx("span",{className:"text-experimental-pink",children:A(O("preferred_session_length"))})})]})]}),u.jsxs("div",{className:"space-y-8",children:[u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h3",{className:"text-lg font-medium text-text-primary",children:"My main challenges"}),(f==null?void 0:f.field)!=="challenges"&&u.jsx("button",{onClick:()=>me("challenges"),className:"text-text-muted hover:text-experimental-pink transition-colors p-1",children:u.jsx(Cn,{className:"w-4 h-4"})})]}),(f==null?void 0:f.field)==="challenges"?u.jsxs("div",{className:"space-y-4",children:[u.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-3 gap-2",children:G0.map(E=>u.jsx("button",{onClick:()=>Yt(E),className:`p-2 rounded text-sm transition-colors ${y!=null&&y.includes(E)?"bg-experimental-pink text-background-primary":"border border-text-muted text-text-secondary hover:border-experimental-pink"}`,children:E},E))}),u.jsxs("div",{className:"flex space-x-4",children:[u.jsx("button",{onClick:Xe,disabled:k,className:"text-experimental-electric hover:text-experimental-pink transition-colors font-medium text-sm",children:k?"SAVING...":"SAVE"}),u.jsx("button",{onClick:yt,className:"text-text-muted hover:text-text-secondary transition-colors font-medium text-sm",children:"CANCEL"})]})]}):u.jsx("div",{className:"border-b border-dotted border-text-muted pb-1 cursor-pointer hover:border-experimental-pink transition-colors",onClick:()=>me("challenges"),children:((Ze=O("challenges"))==null?void 0:Ze.length)>0?u.jsx("span",{className:"text-experimental-pink",children:O("challenges").join(", ")}):u.jsx("span",{className:"text-text-secondary",children:"select challenges..."})})]}),u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsx("h3",{className:"text-lg font-medium text-text-primary",children:"What motivates me"}),(f==null?void 0:f.field)!=="motivation_factors"&&u.jsx("button",{onClick:()=>me("motivation_factors"),className:"text-text-muted hover:text-experimental-pink transition-colors p-1",children:u.jsx(Cn,{className:"w-4 h-4"})})]}),(f==null?void 0:f.field)==="motivation_factors"?u.jsxs("div",{className:"space-y-4",children:[u.jsx("div",{className:"grid grid-cols-2 lg:grid-cols-3 gap-2",children:Q0.map(E=>u.jsx("button",{onClick:()=>Yt(E),className:`p-2 rounded text-sm transition-colors ${y!=null&&y.includes(E)?"bg-experimental-pink text-background-primary":"border border-text-muted text-text-secondary hover:border-experimental-pink"}`,children:E},E))}),u.jsxs("div",{className:"flex space-x-4",children:[u.jsx("button",{onClick:Xe,disabled:k,className:"text-experimental-electric hover:text-experimental-pink transition-colors font-medium text-sm",children:k?"SAVING...":"SAVE"}),u.jsx("button",{onClick:yt,className:"text-text-muted hover:text-text-secondary transition-colors font-medium text-sm",children:"CANCEL"})]})]}):u.jsx("div",{className:"border-b border-dotted border-text-muted pb-1 cursor-pointer hover:border-experimental-pink transition-colors",onClick:()=>me("motivation_factors"),children:((wn=O("motivation_factors"))==null?void 0:wn.length)>0?u.jsx("span",{className:"text-experimental-pink",children:O("motivation_factors").join(", ")}):u.jsx("span",{className:"text-text-secondary",children:"select motivations..."})})]})]})]}),S==="analytics"&&u.jsxs("div",{className:"space-y-16",children:[u.jsx("div",{className:"mb-8",children:u.jsx(kf,{showInDashboard:!0})}),u.jsxs("div",{className:"grid grid-cols-2 lg:grid-cols-4 gap-8",children:[u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-4xl lg:text-5xl font-light text-experimental-pink mb-2",children:o.filter(E=>E.status==="active").length}),u.jsx("div",{className:"text-text-secondary",children:"Active goals"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-4xl lg:text-5xl font-light text-experimental-pink mb-2",children:R.sessionsToday}),u.jsx("div",{className:"text-text-secondary",children:"Today"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-4xl lg:text-5xl font-light text-experimental-pink mb-2",children:R.sessionsThisWeek}),u.jsx("div",{className:"text-text-secondary",children:"This week"})]}),u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"text-4xl lg:text-5xl font-light text-experimental-pink mb-2",children:R.totalHours}),u.jsx("div",{className:"text-text-secondary",children:"Total hours"})]})]}),l.length>0&&u.jsxs("div",{className:"space-y-6",children:[u.jsx("h3",{className:"text-2xl font-medium text-text-primary",children:"Activity over time"}),u.jsx("div",{className:"bg-background-secondary/30 p-6 rounded-xl border border-surface-border/20",children:u.jsx(Y0,{sessions:l})})]}),l.length>0&&u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{children:[u.jsx("h3",{className:"text-2xl font-medium text-text-primary",children:"Recent sessions"}),u.jsx("p",{className:"text-text-secondary text-sm mt-1",children:"Click any session to start a new conversation"})]}),u.jsx("div",{className:"space-y-4",children:l.slice(0,5).map(E=>u.jsxs("button",{onClick:()=>Jt(E),className:"w-full flex justify-between items-center py-3 border-b border-dotted border-text-muted hover:border-experimental-pink transition-colors text-left group",children:[u.jsxs("div",{children:[u.jsx("div",{className:"text-text-primary group-hover:text-experimental-pink transition-colors",children:E.conversation_name||new Date(E.created_at).toLocaleDateString()}),u.jsxs("div",{className:"text-text-secondary text-sm",children:[E.actual_duration?`${A(E.actual_duration)} (actual)`:`${A(E.planned_duration||25)} (planned)`,"  ",E.status||"created"]})]}),u.jsx("div",{className:"flex items-center space-x-3",children:u.jsx("div",{className:"text-text-muted group-hover:text-experimental-pink transition-colors",children:"VIEW SESSION "})})]},E.id))})]})]})]})})},Ec=({children:t})=>{const{user:e,loading:n}=Gt();return n?null:e?t:u.jsx(Bg,{to:"/",replace:!0})},Z0=()=>{const{conversationUrl:t}=Eg(),e=qt(),[n,r]=j.useState(null),[s,i]=j.useState(!0),[o,a]=j.useState(null),[l,c]=j.useState(!1),[d,h]=j.useState("00:00:00");j.useEffect(()=>{(async()=>{if(!t){a("No session ID provided."),i(!1);return}try{const{data:p,error:x}=await Z.from("sessions").select("*").eq("id",t).single();if(x)throw new Error(x.message);if(p)r(p);else throw new Error("Session not found.")}catch(p){a(p.message||"Failed to fetch session details.")}finally{i(!1)}})()},[t]),j.useEffect(()=>{if(!n)return;const{status:m,created_at:p,completed_at:x}=n;if(m==="completed"||m==="cancelled"){if(x){const b=new Date(p).getTime(),C=new Date(x).getTime();h(f(C-b))}else h("Finished");return}const w=new Date(p).getTime(),S=setInterval(()=>{const b=new Date().getTime();h(f(b-w))},1e3);return()=>clearInterval(S)},[n]);const f=m=>{const p=Math.floor(m/1e3),x=Math.floor(p/3600),w=Math.floor(p%3600/60),S=p%60;return`${x.toString().padStart(2,"0")}:${w.toString().padStart(2,"0")}:${S.toString().padStart(2,"0")}`},v=m=>{const p=Math.floor(m/60),x=m%60;return p>0?`${p}h ${x}m`:`${x}m`},y=()=>{switch((n==null?void 0:n.status)||"planned"){case"planned":return{text:"Connecting...",color:"bg-yellow-500",pulse:!0};case"in_progress":return{text:"Active",color:"bg-green-500",pulse:!1};case"completed":case"cancelled":return{text:"Ended",color:"bg-red-500",pulse:!1};default:return{text:"Unknown",color:"bg-gray-500",pulse:!1}}},_=()=>c(!l),k=()=>e("/dashboard");if(s)return u.jsx("div",{className:"min-h-screen bg-background-primary flex items-center justify-center",children:u.jsx("div",{className:"animate-spin rounded-full h-16 w-16 border-b-2 border-experimental-pink"})});if(o)return u.jsx("div",{className:"min-h-screen bg-background-primary flex items-center justify-center p-4 text-center",children:u.jsxs("div",{children:[u.jsx($l,{className:"mx-auto h-12 w-12 text-red-500 mb-4"}),u.jsx("h2",{className:"text-xl font-bold text-text-primary mb-2",children:"Error Loading Session"}),u.jsx("p",{className:"text-text-secondary mb-6",children:o}),u.jsx("button",{onClick:k,className:"bg-experimental-electric hover:bg-experimental-electric-hover text-text-primary font-bold py-2 px-4 rounded-lg",children:"Back to Dashboard"})]})});const g=()=>n!=null&&n.conversation_url?u.jsx("iframe",{src:n.conversation_url,allow:"camera; microphone; fullscreen; display-capture",className:"w-full h-full border-none",title:"Tavus Conversation"}):u.jsx("div",{className:"flex items-center justify-center h-full text-white text-center",children:u.jsxs("div",{children:[u.jsx("h2",{className:"text-xl font-bold mb-2",children:"Conversation Not Available"}),u.jsx("p",{children:"The conversation link for this session is missing."})]})});return l?u.jsxs("div",{className:"fixed inset-0 bg-black z-50",children:[u.jsxs("div",{className:"absolute top-4 left-4 right-4 z-10 flex justify-between items-center",children:[u.jsx("h2",{className:"text-white font-bold",children:"Focus Session"}),u.jsxs("button",{onClick:_,className:"bg-black/50 hover:bg-black/70 text-white p-2 rounded-lg transition-colors flex items-center space-x-2",children:[u.jsx(A0,{className:"w-5 h-5"}),u.jsx("span",{className:"text-sm",children:"Exit Fullscreen"})]})]}),g()]}):u.jsxs("div",{className:"min-h-screen bg-background-primary",children:[u.jsx("div",{className:"bg-background-primary border-b border-surface-border/30",children:u.jsx("div",{className:"max-w-6xl mx-auto px-6 lg:px-12 py-6",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center space-x-4",children:[u.jsxs("button",{onClick:k,className:"group flex items-center text-text-secondary hover:text-experimental-pink transition-colors",children:[u.jsx(N0,{className:"w-5 h-5 mr-2 group-hover:-translate-x-1 transition-transform duration-300"}),u.jsx("span",{className:"font-medium",children:"Back to Dashboard"})]}),u.jsx("div",{className:"w-px h-6 bg-surface-border/50"}),u.jsx("h1",{className:"text-2xl font-bold text-text-primary",children:(n==null?void 0:n.title)||"Focus Session"})]}),u.jsxs("button",{onClick:_,className:"flex items-center space-x-2 text-text-secondary hover:text-experimental-pink transition-colors",children:[u.jsx(bc,{className:"w-5 h-5"}),u.jsx("span",{className:"font-medium",children:"Fullscreen"})]})]})})}),u.jsx("div",{className:"max-w-6xl mx-auto px-6 lg:px-12 py-8",children:u.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-3 gap-8",children:[u.jsx("div",{className:"lg:col-span-2",children:u.jsx("div",{className:"bg-surface-elevated rounded-2xl overflow-hidden shadow-elegant-lg h-[500px] lg:h-[600px]",children:g()})}),u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"bg-surface-elevated rounded-2xl p-6 shadow-elegant",children:[u.jsx("h3",{className:"text-lg font-bold text-text-primary mb-4",children:"Session Details"}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{children:[u.jsx("span",{className:"text-text-secondary text-sm",children:"Status"}),u.jsxs("div",{className:"flex items-center space-x-2 mt-1",children:[u.jsx("div",{className:`w-2 h-2 ${y().color} rounded-full ${y().pulse?"animate-pulse":""}`}),u.jsx("span",{className:"text-text-primary font-medium",children:y().text})]})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-text-secondary text-sm",children:"Planned Duration"}),u.jsx("div",{className:"text-text-primary font-medium mt-1",children:n!=null&&n.planned_duration?v(n.planned_duration):"25m"})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-text-secondary text-sm",children:"Actual Duration"}),u.jsx("div",{className:"text-text-primary font-medium mt-1",children:n!=null&&n.actual_duration?u.jsx("span",{className:"text-experimental-pink font-mono",children:v(n.actual_duration)}):u.jsx("span",{className:"font-mono",children:d})})]}),u.jsxs("div",{children:[u.jsx("span",{className:"text-text-secondary text-sm",children:"AI Partner"}),u.jsx("div",{className:"text-experimental-pink font-medium mt-1",children:"Focus Partner"})]})]})]}),u.jsxs("div",{className:"bg-surface-elevated rounded-2xl p-6 shadow-elegant",children:[u.jsx("h3",{className:"text-lg font-bold text-text-primary mb-4",children:"Quick Actions"}),u.jsxs("button",{onClick:_,className:"w-full flex items-center justify-center space-x-2 bg-experimental-electric hover:bg-experimental-electric-hover text-background-primary font-bold py-3 px-4 rounded-lg transition-colors",children:[u.jsx(bc,{className:"w-4 h-4"}),u.jsx("span",{children:"Fullscreen Mode"})]})]})]})]})})]})},ex=()=>{const[t,e]=nv(),[n,r]=j.useState({type:"success",message:"",show:!1}),s=qt(),{hasCompletedOnboarding:i}=Gt();j.useEffect(()=>{(async()=>{const l=t.get("type"),c=t.get("token_hash");if(l==="email_change"||l==="signup"||l==="recovery")if(c)try{const{error:f}=await Z.auth.verifyOtp({token_hash:c,type:l});if(f)throw f;e({}),l==="signup"?(r({type:"success",message:"Email verified successfully! Welcome to Together.",show:!0}),setTimeout(async()=>{try{const v=await i();s(v?"/dashboard":"/onboarding")}catch{s("/onboarding")}},2e3)):l==="email_change"?r({type:"success",message:"Email updated successfully!",show:!0}):l==="recovery"&&r({type:"success",message:"Password reset successful!",show:!0})}catch(f){console.error("Email verification error:",f),e({}),r({type:"error",message:f.message||"Email verification failed. Please try again or contact support.",show:!0})}else e({}),r({type:"error",message:"Invalid verification link. Please try again or contact support.",show:!0});const d=t.get("error"),h=t.get("error_description");d&&(e({}),r({type:"error",message:h||"Verification failed. Please try again.",show:!0}))})()},[t,e,s,i]);const o=()=>{r(a=>({...a,show:!1}))};return n.show?u.jsx("div",{className:"fixed top-4 right-4 z-50 animate-slide-down",children:u.jsxs("div",{className:`
        flex items-center gap-3 p-4 rounded-lg shadow-elegant-xl max-w-md
        ${n.type==="success"?"bg-green-50 border border-green-200 text-green-800":"bg-red-50 border border-red-200 text-red-800"}
      `,children:[n.type==="success"?u.jsx(ki,{className:"w-5 h-5 text-green-600 flex-shrink-0"}):u.jsx(M0,{className:"w-5 h-5 text-red-600 flex-shrink-0"}),u.jsx("p",{className:"text-sm font-medium flex-1",children:n.message}),u.jsx("button",{onClick:o,className:`
            p-1 rounded-full transition-colors
            ${n.type==="success"?"hover:bg-green-100 text-green-600":"hover:bg-red-100 text-red-600"}
          `,children:u.jsx(Fa,{className:"w-4 h-4"})})]})}):null};function tx(){return u.jsx(_0,{children:u.jsx(Xg,{children:u.jsx(nx,{})})})}function nx(){const{loading:t,user:e}=Gt();return console.log(" App: Render - loading:",t,"user:",(e==null?void 0:e.email)||"none"),t?(console.log(" App: Showing loading screen"),u.jsx("div",{className:"min-h-screen bg-background-primary flex items-center justify-center",children:u.jsxs("div",{className:"text-center",children:[u.jsx("div",{className:"w-16 h-16 border-4 border-experimental-electric border-t-transparent rounded-full animate-spin mx-auto mb-4"}),u.jsx("p",{className:"text-text-secondary",children:"Loading..."})]})})):(console.log(" App: Rendering main content"),u.jsxs(u.Fragment,{children:[u.jsx(ex,{}),u.jsx(V0,{children:u.jsxs(Vg,{children:[u.jsx(Nr,{path:"/",element:u.jsx(H0,{})}),u.jsx(Nr,{path:"/onboarding",element:u.jsx(Ec,{children:u.jsx(q0,{})})}),u.jsx(Nr,{path:"/dashboard",element:u.jsx(Ec,{children:u.jsx(X0,{})})}),u.jsx(Nr,{path:"/conversation/:conversationUrl",element:u.jsx(Z0,{})})]})})]}))}To.createRoot(document.getElementById("root")).render(u.jsx(bi.StrictMode,{children:u.jsx(tx,{})}));
